(function(t){function e(e){for(var i,o,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)o=r[d],s[o]&&m.push(s[o][0]),s[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},s={index:0},n=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("de0b")},"0130":function(t,e,a){},"0203":function(t,e,a){},"03f1":function(t,e,a){},"04b0":function(t,e,a){"use strict";var i=a("7bb0"),s=a.n(i);s.a},"07d4":function(t,e,a){"use strict";var i=a("f75c"),s=a.n(i);s.a},"0841":function(t,e,a){},"0bfb0":function(t,e,a){},"0c23":function(t,e,a){"use strict";var i=a("3cbf"),s=a.n(i);s.a},"0c50":function(t,e,a){},"0cef":function(t,e,a){"use strict";var i=a("17ca"),s=a.n(i);s.a},"0f46":function(t,e,a){"use strict";var i=a("f0a1"),s=a.n(i);s.a},"102b":function(t,e,a){},1084:function(t,e,a){"use strict";var i=a("7bd1"),s=a.n(i);s.a},1163:function(t,e,a){"use strict";var i=a("cb07"),s=a.n(i);s.a},"124c":function(t,e,a){},1351:function(t,e,a){"use strict";var i=a("8cff"),s=a.n(i);s.a},"16a9":function(t,e,a){"use strict";var i=a("885d"),s=a.n(i);s.a},1718:function(t,e,a){},1799:function(t,e,a){"use strict";var i=a("7c8d"),s=a.n(i);s.a},"17ca":function(t,e,a){},1802:function(t,e,a){"use strict";var i=a("f8b5"),s=a.n(i);s.a},1839:function(t,e,a){"use strict";var i=a("0bfb0"),s=a.n(i);s.a},1969:function(t,e,a){"use strict";var i=a("d2cd"),s=a.n(i);s.a},"1a2a":function(t,e,a){},"1c50":function(t,e,a){"use strict";var i=a("990c"),s=a.n(i);s.a},"1d2c":function(t,e,a){},"1dd2":function(t,e,a){},"1e69":function(t,e,a){},"1e6e":function(t,e,a){},"1f15":function(t,e,a){},"1ff4":function(t,e,a){"use strict";var i=a("2905"),s=a.n(i);s.a},2092:function(t,e,a){},2230:function(t,e,a){},2279:function(t,e,a){"use strict";var i=a("a2f2"),s=a.n(i);s.a},"228f":function(t,e,a){},"22a8":function(t,e,a){},"22bb":function(t,e,a){"use strict";var i=a("8d41"),s=a.n(i);s.a},"22da":function(t,e,a){},2371:function(t,e,a){},"24bd":function(t,e,a){"use strict";var i=a("256f"),s=a.n(i);s.a},"256f":function(t,e,a){},2576:function(t,e,a){},"26c8":function(t,e,a){"use strict";var i=a("eb4f"),s=a.n(i);s.a},"26ce":function(t,e,a){"use strict";var i=a("7094"),s=a.n(i);s.a},"280f":function(t,e,a){"use strict";var i=a("be39"),s=a.n(i);s.a},"285b":function(t,e,a){"use strict";var i=a("1a2a"),s=a.n(i);s.a},"28ca":function(t,e,a){"use strict";var i=a("faf5"),s=a.n(i);s.a},2905:function(t,e,a){},"2cb7":function(t,e,a){},"2f47":function(t,e,a){"use strict";var i=a("3861"),s=a.n(i);s.a},"2f88":function(t,e,a){"use strict";var i=a("b30b"),s=a.n(i);s.a},30148:function(t,e,a){"use strict";var i=a("3676"),s=a.n(i);s.a},"311c":function(t,e,a){"use strict";var i=a("8faf"),s=a.n(i);s.a},"320f":function(t,e,a){},"32b0":function(t,e,a){"use strict";var i=a("dc9c"),s=a.n(i);s.a},"32e6":function(t,e,a){},"33df":function(t,e,a){"use strict";var i=a("1e6e"),s=a.n(i);s.a},3458:function(t,e,a){"use strict";var i=a("5f95"),s=a.n(i);s.a},3676:function(t,e,a){},3784:function(t,e,a){},"383a":function(t,e,a){},3849:function(t,e,a){},3861:function(t,e,a){},"39ac":function(t,e,a){},"3a43":function(t,e,a){},"3a8c":function(t,e,a){"use strict";var i=a("2230"),s=a.n(i);s.a},"3cbf":function(t,e,a){},"3d0b":function(t,e,a){"use strict";var i=a("a264"),s=a.n(i);s.a},"3f95":function(t,e,a){"use strict";var i=a("e9e7"),s=a.n(i);s.a},"3fab":function(t,e,a){"use strict";var i,s=a("795b"),n=a.n(s),o=a("bc3a"),r=a.n(o),c=a("815e"),l=a("77d2"),u=a("5c96"),d=r.a.create({baseURL:l["a"]["production"].BASE_URL,timeout:6e4,headers:{"X-Token":localStorage.getItem("atom_token")},loadDom:""});d.interceptors.request.use(function(t){if(t.loadDom||t.fullscreen){var e=document.getElementById(t.loadDom);i=u["Loading"].service({target:e,fullscreen:t.fullscreen})}return t}),d.interceptors.response.use(function(t){i&&i.close();var e=t.data;return e.code&&0!=e.code?(Object(c["a"])(e.msg),1e3===e.code&&(location.href="/login.html"),n.a.reject("error")):e}),e["a"]=d},"401d":function(t,e,a){},4108:function(t,e,a){},41088:function(t,e,a){"use strict";var i=a("c2c5"),s=a.n(i);s.a},"414a":function(t,e,a){"use strict";var i=a("f178"),s=a.n(i);s.a},4391:function(t,e,a){},4519:function(t,e,a){},"471f":function(t,e,a){},4730:function(t,e,a){"use strict";var i=a("c695"),s=a.n(i);s.a},"49c8":function(t,e,a){"use strict";var i=a("86b5"),s=a.n(i);s.a},"4ab4":function(t,e,a){"use strict";var i=a("4c49"),s=a.n(i);s.a},"4ad2":function(t,e,a){},"4b38":function(t,e,a){"use strict";var i=a("32e6"),s=a.n(i);s.a},"4c10":function(t,e,a){"use strict";var i=a("6f5c"),s=a.n(i);s.a},"4c49":function(t,e,a){},"4d7d":function(t,e,a){"use strict";var i=a("4391"),s=a.n(i);s.a},"4e15":function(t,e,a){"use strict";var i=a("b6eb"),s=a.n(i);s.a},"4eb4":function(t,e,a){},"4ed5":function(t,e,a){"use strict";var i=a("a627"),s=a.n(i);s.a},"4f6b":function(t,e,a){"use strict";var i=a("7ab3"),s=a.n(i);s.a},"4fdf":function(t,e,a){},"52af":function(t,e,a){},"532d":function(t,e,a){"use strict";var i=a("4519"),s=a.n(i);s.a},"53ee":function(t,e,a){"use strict";var i=a("cf79"),s=a.n(i);s.a},"551d":function(t,e,a){},5563:function(t,e,a){"use strict";var i=a("0841"),s=a.n(i);s.a},"55da":function(t,e,a){"use strict";var i=a("4ad2"),s=a.n(i);s.a},"55e7":function(t,e,a){"use strict";var i=a("22da"),s=a.n(i);s.a},"56d6":function(t,e,a){},5782:function(t,e,a){"use strict";var i=a("1f15"),s=a.n(i);s.a},5808:function(t,e,a){},"5b17":function(t,e,a){},"5c43":function(t,e,a){"use strict";var i=a("4108"),s=a.n(i);s.a},"5c87":function(t,e,a){"use strict";var i=a("f053"),s=a.n(i);s.a},"5dc1":function(t,e,a){},"5e03":function(t,e,a){"use strict";var i=a("471f"),s=a.n(i);s.a},"5ec6":function(t,e,a){"use strict";var i=a("d3a6"),s=a.n(i);s.a},"5f95":function(t,e,a){},"63a4":function(t,e,a){"use strict";var i=a("c2e4"),s=a.n(i);s.a},"647a":function(t,e,a){"use strict";var i=a("6ef3"),s=a.n(i);s.a},"64c2":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("f499"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_1__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("e814"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_2__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("59ad"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("3b8d"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_9__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("cebc"),vuex__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("2f62"),_js_message__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("815e");__webpack_exports__["a"]={props:["status","editid","customtype","audienceId"],data:function(){return{dialogFormVisible:!1,relativearr:["任意","所有"],form:{type:"应用事件",app:"",relative:"任意",name:"",desc:"",checked:!0,account:"",platform:"",condition:[{day:30,app:"",percent:"25%"}],nocondition:[{day:30,app:"",percent:"25%"}]}}},methods:Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_10__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_11__["c"])(["SETSTATE"]),{checkListten:function(t){t&&(this.form.nocondition=this.form.nocondition.slice(0,1))},getAccount:function(){var t=this.form.app;this.$store.dispatch("setApp",{id:t}),this.form.account=""},toCancel:function(){this.formReset(),this.$emit("cancelAddbm","status")},formCheck:function(){if(""==this.form.name)return[!1,"请输入受众名称"];if(this.form.name.replace(/[\u0391-\uFFE5]/g,"aa").length>100)return[!1,"受众名称长度不能大于100个字符"];if(this.form.desc.replace(/[\u0391-\uFFE5]/g,"aa").length>200)return[!1,"描述长度不能大于200个字符"];if(!this.form.account)return[!1,"请选择广告账户"];var t=this.form.condition.filter(function(t){return""==t.app}),e=this.form.nocondition.filter(function(t){return""==t.app});return 0!=t.length?[!1,"新增条件不完整"]:this.form.checked||0==e.length?[!0]:[!1,"新增条件不完整"]},toSubmit:function(){var t=Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function t(){var e,a,i,s,n,o,r,c,l=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.formCheck(),e[0]){t.next=4;break}return Object(_js_message__WEBPACK_IMPORTED_MODULE_12__["g"])(e[1]),t.abrupt("return");case 4:return a=[],this.form.condition.forEach(function(t){if(t.day&&t.app){var e={event_sources:[{type:"app",id:l.form.app}],retention_seconds:24*t.day*60*60,filter:{operator:"and",filters:[{field:"event",operator:"eq",value:-1!=t.app.indexOf("|")?t.app.split("|")[0]:t.app}]}};-1!=t.app.indexOf("|")&&(e.template=t.app.split("|")[1],"MACA_MOST_ACTIVE_USERS"==e.template&&(e.aggregation={type:"count",method:"percentile",operator:"in_range",value:{from:100-_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_3___default()(t.percent),to:100}})),a.push(e)}}),i=[],this.form.nocondition.forEach(function(t){if(t.day&&t.app){var e={event_sources:[{type:"app",id:_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_2___default()(l.form.app)}],retention_seconds:24*t.day*60*60,filter:{operator:"and",filters:[{field:"event",operator:"eq",value:-1!=t.app.indexOf("|")?t.app.split("|")[0]:t.app}]}};-1!=t.app.indexOf("|")&&(e.template=t.app.split("|")[1],"MACA_MOST_ACTIVE_USERS"==e.template&&(e.aggregation={type:"count",method:"percentile",operator:"in_range",value:{from:100-_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_3___default()(t.percent),to:100}})),i.push(e)}}),s={},a.length>0&&(s.inclusions={operator:"任意"==this.form.relative?"or":"and",rules:a}),i.length>0&&(s.exclusions={operator:"or",rules:i}),n={fbAudienceId:this.audienceId?this.audienceId:"",description:this.form.desc,adaccountId:this.form.account,name:this.form.name,rule:_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_1___default()(s)},o="resultid",r=this.audienceId,this.SETSTATE({k:o,v:r}),t.next=17,this.$store.dispatch("addTarget",{option:n});case 17:c=t.sent,"failed"!=c.data.status&&(this.dialogFormVisible=!1);case 19:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),formReset:function(){var t=this;this.form.type="应用事件",this.form.app=this.itemlist.find(function(e){return e.id==t.$route.params.id}).applicationId,this.form.relative="任意",this.form.name="",this.form.desc="",this.form.account="",this.form.checked=!0,this.form.condition=[{day:30,app:"",percent:"25%"}],this.form.nocondition=[{day:30,app:"",percent:"25%"}]},addCondition:function(){this.form.condition.push({day:30,app:"",percent:"25%"})},delCondition:function(t){this.form.condition.splice(t,1)},addNoCondition:function(){this.form.nocondition.push({day:30,app:"",percent:"25%"})},delNoCondition:function(t){this.form.nocondition.length>1?this.form.nocondition.splice(t,1):this.form.checked=!0}}),computed:Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_10__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_11__["d"])(["targetapplist","itemlist","appaccount","targetinfo"]),Object(vuex__WEBPACK_IMPORTED_MODULE_11__["b"])(["setapplist"]),{relativekey:function(){return"任意"==this.form.relative?"或":"且"},ifAdd:function(){return this.form.checked?this.form.condition.length<5:this.form.condition.length+this.form.nocondition.length<5},conditionHeight:function(){return 30*(this.form.condition.length-1)+102*this.form.condition.length},noconditionHeight:function(){return 30*(this.form.nocondition.length-1)+102*this.form.nocondition.length}}),mounted:function(){var t=this;0!=this.itemlist.length&&(this.form.app=this.itemlist.find(function(e){return e.id==t.$route.params.id}).applicationId,this.getAccount(),this.$store.dispatch("appToAccount",{appid:this.form.app}))},watch:{status:function(t,e){this.dialogFormVisible=t,t&&this.$store.dispatch("targetApplist")},itemlist:function(t,e){var a=this;0!=t.length&&(this.form.app=this.itemlist.find(function(t){return t.id==a.$route.params.id}).applicationId,this.getAccount(),this.$store.dispatch("appToAccount",{appid:this.form.app}))},targetinfo:function targetinfo(n,v){var _this5=this;if(n){this.form.name=n.name,this.form.desc=n.description,this.form.account="act_"+n.accountId;var rule=eval("("+n.rule+")");this.form.relative="or"==rule.inclusions.operator?"任意":"所有",rule.inclusions&&rule.inclusions.rules.length>0&&(this.form.condition=[],rule.inclusions.rules.forEach(function(t){var e={day:t.retention_seconds/86400,app:t.template?"".concat(t.filter.filters[0].value,"|").concat(t.template):t.filter.filters[0].value,percent:t.aggregation?t.aggregation.value.to-t.aggregation.value.from+"%":"25%"};_this5.form.condition.push(e)})),rule.exclusions&&rule.exclusions.rules.length>0&&(this.form.nocondition=[],this.form.checked=!1,rule.exclusions.rules.forEach(function(t){var e={day:t.retention_seconds/86400,app:t.template?"".concat(t.filter.filters[0].value,"|").concat(t.template):t.filter.filters[0].value,percent:t.aggregation?t.aggregation.value.to-t.aggregation.value.from+"%":"25%"};_this5.form.nocondition.push(e)}))}},editid:function(t,e){if(t){var a=t;this.$store.dispatch("getTargetInfo",{id:a,type:"app"})}}}}},"64fe":function(t,e,a){"use strict";var i=a("d21f"),s=a.n(i);s.a},"664b":function(t,e,a){"use strict";var i=a("febe"),s=a.n(i);s.a},"66ab":function(t,e,a){},6819:function(t,e,a){},"698b":function(t,e,a){"use strict";var i=a("401d"),s=a.n(i);s.a},"6ac1":function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5176"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("55dd"),core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_1__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("f499"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_entries__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("2d1f"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_entries__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_entries__WEBPACK_IMPORTED_MODULE_3__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("cebc"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_6__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("a4bb"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_8__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_9__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("3b8d"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("a745"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_15__),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("3fab"),_js_axiosclass__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("bef5"),_js_url_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("dd46"),_js_websocket__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("c11b"),_js_message__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("815e"),element_ui__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("5c96"),element_ui__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(element_ui__WEBPACK_IMPORTED_MODULE_21__);function Axios(t){var e=t.url,a=t.method,i=void 0===a?"get":a,s=t.data,n=void 0===s?{}:s,o=t.success,r=void 0===o?null:o,c=t.fail,l=void 0===c?null:c,u=t.fullscreen,d=void 0!==u&&u;return Object(_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"])({method:i,url:e,data:n,fullscreen:d}).then(function(t){return r(t)}).catch(function(t){console.error(t),l&&l()})}__webpack_exports__["a"]={setPermission:function(t){t.state;var e=t.commit;Notification.requestPermission().then(function(t){e("SENDPERMISSION",t)}).catch(function(t){console.log(t)})},getPayCount:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].counturl;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(a).then(function(t){e("PAYCOUNT",t)}).catch(function(t){console.log(t)})},getItemList:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].itemlist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){var a=t;e("ITEMLIST",a)}).catch(function(t){console.log(t)})},changePassword:function(t,e){t.state;var a=t.commit,i=t.dispatch,s=e.k,n=e.n1,o=e.n2,r=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].changepassword.replace("{oldPassword}",s).replace("{password}",n).replace("{password2}",o);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(r).then(function(t){var e=t;0==e.code&&(a("PASSWORD",e),i("toLogout"))}).catch(function(t){console.log(t)})},toLogout:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].logout;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(a).then(function(t){var a=t;0==a.code&&e("LOGOUT")}).catch(function(t){console.log(t)})},getLongToken:function(t,e){t.state,t.commit;var a=e.token,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].gettoken,s={shortToken:a};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(i,s).then(function(t){t.data}).catch(function(t){console.log(t)})},getMessageCount:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].messagecount;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("MESSAGECOUNT",t)}).catch(function(t){console.log(t)})},messageWebsocket:function messageWebsocket(_ref11){var state=_ref11.state,commit=_ref11.commit,dispatch=_ref11.dispatch;WebSocket?new _js_websocket__WEBPACK_IMPORTED_MODULE_19__["a"]({onMessage:function onMessage(res){if(console.log(res),"heart beat"!=res.data){if("99+"!=res.data&&_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_11___default()(eval(res.data))&&1==state.copyjoblistdetail.length){var opts;switch(state.adtab){case"campaignName":opts="campain_option";break;case"adSetName":opts="set_option";break;case"adName":opts="ad_option";break}clearInterval(jobProcess),console.log("复制异步结束"),commit("JOBPROCESSCOMPLETE",res),dispatch("getAdlist",{option:state[opts],type:state.adtab})}commit("MESSAGECOUNT",res)}}}):console.log("%c 您的浏览器不支持Websocket ","background:#222;color:#bada55")},videoUrlTranslate:function(t,e){t.state;var a=t.commit,i=e.urls,s=e.originurl,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].videourl;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,i,{fullScreen:!0}).then(function(t){Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("转换完成"),a("VIDEOURL",{r:t,originurl:s})}).catch(function(t){console.log(t)})},getAppCount:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].applist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("APPCOUNT",t);var a="ifaccount",i=!0;e("SETSTATE",{k:a,v:i})}).catch(function(t){console.log(t)})},infoInit:function(t){t.state;var e=t.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.startDate,s=a.endDate,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].initurl,o={startDate:i,endDate:s};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,o).then(function(t){var a=t;e("INFO",a)}).catch(function(t){console.log(t)})},selectApp:function(t){var e=t.state,a=t.commit,i=t.dispatch,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].appurl,n={fbAppId:e.appdataappid,startDate:e.appdatastartdate,endDate:e.appdataenddate,countryList:e.appdatacountry,impressionDeviceList:e.appdataimporession};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,n).then(function(t){var e=t;a("APPINFO",e)}).catch(function(t){console.log(t)}),i("selectApptable")},selectApptable:function(t){var e=t.state,a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].appurl,s={fbAppId:e.appdataappid,startDate:e.appdatastartdate,endDate:e.appdataenddate,flag:"1",pageNo:e.appdataindex,pageSize:e.appdatapagesize,countryList:e.appdatacountry,impressionDeviceList:e.appdataimporession,orderByClause:e.appdatasort,eventsName:localStorage.getItem(pandectEventLS.new)&&JSON.parse(localStorage.getItem(pandectEventLS.new))[e.appdataappid]?JSON.parse(localStorage.getItem(pandectEventLS.new))[e.appdataappid].join(","):""},n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].appcpitotal;Axios({url:n,method:"post",data:s,success:function(t){a("APPINFOTABLETOTAL",t)}}),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(i,s).then(function(t){var e=t;a("APPINFOTABLE",e)}).catch(function(t){console.log(t)})},selectAppout:function(t,e){var a=t.state,i=t.commit,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].appurl,n={fbAppId:a.appdataappid,startDate:a.appdatastartdate,endDate:a.appdataenddate,flag:"1",pageNo:a.appdataindex,pageSize:a.appdatatotal,eventsName:localStorage.getItem(pandectEventLS.new)&&JSON.parse(localStorage.getItem(pandectEventLS.new))[a.appdataappid]?JSON.parse(localStorage.getItem(pandectEventLS.new))[a.appdataappid].join(","):""};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,n).then(function(t){i("APPINFOTABLEOUT",{res:t,name:e})}).catch(function(t){console.log(t)})},getCustomEvent:function(t,e){t.state;var a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].customevent+"applicationId="+e;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("CUSTOMEVENT",t)}).catch(function(t){console.log(t)})},getBmlist:function(t){t.state;var e=t.commit,a=t.dispatch,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].bmlist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){e("BMLIST",t),a("getAccount"),a("getPage")}).catch(function(t){console.log(t)})},getAddBmlist:function(t,e){t.state;var a=t.commit,i=e.loadDom,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].addbmlist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s,{loadDom:i}).then(function(t){a("ADDBMLIST",t)}).catch(function(t){console.log(t)})},saveBm:function(t,e){t.state;var a=t.commit,i=e.bm,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].savebm,n=i.slice(0);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,n).then(function(t){0==t.code&&a("SAVEBM",i)}).catch(function(t){console.log(t)})},getAccount:function(t,e){var a=t.state,i=t.commit,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].bmaccountlist.replace("{bmid}",a.disbmid)+"&keyword="+a.accountkwd,n=["pageIndex","pageSize"],o="";n.forEach(function(t){a["bm_"+t]&&(o+="&"+t+"="+a["bm_"+t])}),s+=o,_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){i("SETACCOUNT",t)}).catch(function(t){console.log(t)})},getAddAccount:function(t,e){t.state;var a=t.commit,i=e.bmid,s=e.loadDom,n=void 0===s?"":s,o=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].addaccountlist.replace("{bmid}",i);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(o,{loadDom:n}).then(function(t){a("ADDACCOUNT",t)}).catch(function(t){console.log(t)})},saveAccount:function(){var t=Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark(function t(e,a){var i,s,n,o,r,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=e.state,e.commit,s=e.dispatch,n=a.account,o=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].saveaccount,r=n.slice(0),c=i.disbmid,t.next=7,_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(o,r).then(function(t){return t}).catch(function(t){console.log(t)});case 7:l=t.sent,0==l.code&&(s("getAccount",c),s("getAddAccount",{bmid:c}));case 9:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),accountStatus:function(t,e){t.state,t.commit;var a=e.id,i=e.status,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].switchstatus,n={fbId:a,status:i};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,n).then(function(t){}).catch(function(t){console.log(t)})},getPage:function(t,e){var a=t.state,i=t.commit,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].pagelist.replace("{bmid}",a.disbmid)+"&keyword="+a.pagekwd,n=["pageIndex","pageSize"],o="";n.forEach(function(t){a["bmpg_"+t]&&(o+="&"+t+"="+a["bmpg_"+t])}),s+=o,_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){i("SETPAGE",t)}).catch(function(t){console.log(t)})},getAddPage:function(t,e){t.state;var a=t.commit,i=e.bmid,s=e.loadDom,n=void 0===s?"":s,o=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].addpagelist.replace("{bmid}",i);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(o,{loadDom:n}).then(function(t){a("ADDPAGE",t)}).catch(function(t){console.log(t)})},savePage:function(){var t=Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark(function t(e,a){var i,s,n,o,r,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=e.state,e.commit,s=e.dispatch,n=a.page,o=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].savepage,r=n.slice(0),c=i.disbmid,t.next=7,_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(o,r).then(function(t){return t}).catch(function(t){console.log(t)});case 7:l=t.sent,0==l.code&&(s("getPage",c),s("getAddPage",{bmid:c}));case 9:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getPbia:function(t,e){var a=t.state,i=(t.commit,t.dispatch),s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].pbia.replace("{pageid}",e);Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["g"])("同步中..."),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("同步成功"),0==t.code&&i("getPage",a.disbmid)}).catch(function(t){console.log(t)})},getApplist:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].applist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("SETAPPLIST",t)}).catch(function(t){console.log(t)})},getAddApplist:function(t,e){t.state;var a=t.commit,i=e.loadDom,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].addapplist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s,{loadDom:i}).then(function(t){a("ADDAPP",t)}).catch(function(t){console.log(t)})},saveApp:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.app,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].saveapp,n=i.slice(0);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,n).then(function(t){a("getApplist")}).catch(function(t){console.log(t)})},setApp:function(t,e){t.state;var a,i=t.commit,s=e.id,n=e.loading,o=void 0===n?"":n,r=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].setapp.replace("{applicationid}",s);if(o){var c=document.getElementById(o);a=element_ui__WEBPACK_IMPORTED_MODULE_21__["Loading"].service({target:c})}_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(r).then(function(t){o&&a.close(),0==t.code&&i("SETAPP",t)}).catch(function(t){console.log(t)})},canSetapp:function(t,e){t.state;var a,i=t.commit,s=e.id,n=e.loading,o=void 0===n?"":n,r=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].cansetapp.replace("{applicationid}",s);if(o){var c=document.getElementById(o);a=element_ui__WEBPACK_IMPORTED_MODULE_21__["Loading"].service({target:c})}_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(r).then(function(t){o&&a.close(),0==t.code&&i("CANSETAPP",t)}).catch(function(t){console.log(t)})},saveSet:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].saveset;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,i,{loadDom:"cansetapplist"}).then(function(t){var e=i[0].applicationId;0==t.code&&(a("setApp",{id:e}),a("canSetapp",{id:e,loading:"cansetapplist"}),a("getApplist"))}).catch(function(t){console.log(t)})},delSet:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].delset;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,i,{loadDom:"setList"}).then(function(t){var e=i[0].applicationId;0==t.code&&(a("setApp",{id:e,loading:"setList"}),a("canSetapp",{id:e}),a("getApplist"))}).catch(function(t){console.log(t)})},setAF:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.application_id,s=e.market_type,n=e.af_key,o="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].setaf,"application_id=").concat(i,"&market_type=").concat(s,"&af_key=").concat(n);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(o).then(function(t){Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("".concat(s,"设置成功")),a("getApplist")}).catch(function(t){console.log(t)})},getManagelist:function(t,e){var a=t.state,i=t.commit,s=e.status,n=void 0===s?"1":s,o=e.pageIndex,r=void 0===o?1:o,c=e.pageSize,l=void 0===c?20:c,u=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].managelist.replace("{keywords}",a.projectkwd).replace("{status}",n).replace("{pageIndex}",r).replace("{pageSize}",l),d=element_ui__WEBPACK_IMPORTED_MODULE_21__["Loading"].service({target:document.getElementById("manageTable")});_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(u,{loadDom:"manageTable"}).then(function(t){d&&d.close(),0==t.code&&i("MANAGELIST",t)}).catch(function(t){console.log(t)})},manageApplist:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].applist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("MANAGEAPPLIST",t)}).catch(function(t){console.log(t)})},addProject:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.appid,s=e.pname,n=e.pplat,o=e.ptag,r=e.id,c=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].addproject,l={applicationId:i,id:r,projectName:s,projectPlatForm:n,projectTarget:o,status:!0,token:localStorage.getItem("atom_token")};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(c,l).then(function(t){a("getManagelist",{})}).catch(function(t){console.log(t)})},headerAddProject:function(t,e){t.state,t.commit,t.dispatch;var a=e.appid,i=e.pname,s=e.pplat,n=e.ptag,o=e.route,r=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].addproject,c={applicationId:a,projectName:i,projectPlatForm:s,projectTarget:n,status:!0,token:localStorage.getItem("atom_token")};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(r,c).then(function(t){Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("创建成功"),setTimeout(function(){o.push("/manage")},2e3)}).catch(function(t){console.log(t)})},editProject:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.appid,s=e.pname,n=e.pplat,o=e.ptag,r=e.id,c=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].editproject,l={applicationId:i,id:r,projectName:s,projectPlatForm:n,projectTarget:o,status:!0,token:localStorage.getItem("atom_token")};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(c,l).then(function(t){a("getManagelist",{})}).catch(function(t){console.log(t)})},overProject:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.id,s=e.adIsOff,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].projectover,o={id:i,adIsOff:s};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,o).then(function(t){0==t.code&&(a("getManagelist",{}),a("getItemList"))}).catch(function(t){console.log(t)})},beginProject:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.id,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].projectbegin,n={id:i},o=0;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,n).then(function(t){0==t.code&&(a("getManagelist",{status:o}),a("getItemList"))}).catch(function(t){console.log(t)})},getRules:function(t,e){t.state;var a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].getrules.replace("{projectId}",e);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("RULES",t)}).catch(function(t){console.log(t)})},getRuleList:function(t){var e=t.state,a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].getrulelist,s="";_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_7___default()(e.ruleoption).forEach(function(t){e.ruleoption[t]&&(s+="&".concat(t,"=").concat(e.ruleoption[t]))}),s=s.substr(1),i+=s,Axios({url:i,fullscreen:!0,success:function(t){a("GETRULELIST",t)}})},deleteRule:function(t,e){t.state,t.commit;var a=t.dispatch,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].deleterule.replace("{ruleId}",e);Axios({url:i,method:"post",fullscreen:!0,success:function(t){t.data?(Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("删除成功"),a("getRuleList")):Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["a"])("删除失败：".concat(t.msg))}})},toCloseRule:function(t,e){t.state,t.commit;var a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].ruleclose.replace("{ruleId}",e);Axios({url:a,method:"post",fullscreen:!0,success:function(t){t.data?Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("关闭成功"):Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["a"])("关闭失败：".concat(t.msg))}})},toOpenRule:function(t,e){t.state,t.commit;var a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].ruleopen.replace("{ruleId}",e);Axios({url:a,method:"post",fullscreen:!0,success:function(t){t.data?Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("打开成功"):Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["a"])("打开失败：".concat(t.msg))}})},addRule:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=e.from,n=void 0===s?"":s,o=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].addrule;return Axios({url:o,method:"post",fullscreen:!0,data:i,success:function(t){return t.data?(n||a("getRuleList"),Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("创建成功")):Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["a"])("创建失败：".concat(t.msg)),t}})},editRule:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].editrule;return Axios({url:s,method:"post",fullscreen:!0,data:i,success:function(t){return t.data?(a("getRuleList"),Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("编辑成功")):Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["a"])("编辑失败：".concat(t.msg)),t}})},getExecute:function(t,e){t.state;var a,i=t.commit,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].getexecute.replace("{fbRuleId}",e);setTimeout(function(){a=element_ui__WEBPACK_IMPORTED_MODULE_21__["Loading"].service({fullscreen:!0}),Axios({url:s,success:function(t){a&&a.close(),i("EXECUTELIST",t)}})},300)},executeRule:function(t,e){t.state,t.commit;var a=t.dispatch,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].executerule.replace("{fbRuleId}",e);return Axios({url:i,method:"post",fullscreen:!0,success:function(t){return t.data?(Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("执行成功"),a("getRuleList")):Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["a"])("执行失败：".concat(t.msg)),t}})},openRule:function(t,e){t.state,t.commit;var a=e.projid,i=e.ruleGroupId,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].openrule.replace("{projectId}",a),n={ruleGroupId:i};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,n).then(function(t){}).catch(function(t){console.log(t)})},closeRule:function(t,e){t.state,t.commit;var a=e.projid,i=e.ruleGroupId,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].closerule.replace("{projectId}",a),n={ruleGroupId:i};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,n).then(function(t){}).catch(function(t){console.log(t)})},getRuleAccount:function(t,e){t.state;var a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].setapp.replace("{applicationid}",e);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("RULEACCOUNT",t)}).catch(function(t){console.log(t)})},getOptimizeAccount:function(t,e){t.state;var a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].optimizeadaccount+"projectId="+e;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("OPTIMIZEACCOUNT",t)}).catch(function(t){console.log(t)})},getOptimizeList:function(t,e){t.state;var a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].optimize,s="";for(var n in e)e[n]&&(s+="&".concat(n,"=").concat(e[n]));i+=s.substr(1),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("OPTIMIZELIST",t)}).catch(function(t){console.log(t)})},optimizeDetail:function(t,e){t.state;var a,i=t.commit,s="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].optimizedetail,"fbRuleLogId=").concat(e);setTimeout(function(){a=element_ui__WEBPACK_IMPORTED_MODULE_21__["Loading"].service({fullscreen:!0}),Axios({url:s,fullscreen:!0,success:function(t){a&&a.close(),i("OPTIMIZEDETAIL",t)}})},300)},matchFileMD5:function(t,e){t.state;var a=t.commit,i=e.md5,s=e.file,n=e.list,o=e.type,r=e.tabvalue,c=e.on,l=(e.vdname,_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].matchmd5);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(l,i).then(function(t){if(0==t.code&&t.data.length>0){a("SETSTATE",{k:c,v:!0}),"video"!=o||n.find(function(e){return e.processVIO[0]&&e.processVIO[0].videoHash==t.data[0].md5})||n.forEach(function(e,a){e.name==r&&n[a].processVIO.push({videoHash:t.data[0].md5,fmname:""})}),"img"!=o||n.find(function(e){return e.processIMG[0]&&e.processIMG[0].imageHash==t.data[0].md5})||n.forEach(function(e,a){e.name==r&&n[a].processIMG.push({imageHash:t.data[0].md5})});var e=null,i=0;n.forEach(function(a,n){"img"==o&&a.name==r&&(a.processIMG[0].imageUrl=t.data[0].targetName,a.processIMG[0].name=s.name,a.processIMG[0].process=100),"video"==o&&a.name==r&&(a.processVIO[0].videoUrl=t.data[0].targetName,a.processVIO[0].name=s.name,a.processVIO[0].process=100),"fm"==o&&a.name==r&&(i=n,e=a,e.processVIO[0].fmname=s.name,e.processVIO[0].fmUrl=t.data[0].targetName,e.processVIO[0].fmHash=t.data[0].md5,e.processVIO[0].fmprocess=100)}),"fm"==o&&(n.splice(i,1),n.splice(i,0,e)),s.cancel(),s.remove(),console.log(n)}else s.upload()}).catch(function(t){console.log(t)})},matchMutiFileMD5:function(t,e){var a=t.state,i=t.commit,s=e.md5,n=e.file,o=e.list,r=e.type,c=e.on,l=e.vdname,u=e.callback,d=void 0===u?null:u,m=e.maxcount,p=void 0===m?0:m,f=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].matchmd5;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(f,s).then(function(t){if("img"==r){if(p&&o.length+a.imgspwant>=p)return Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["g"])("图片素材最多上传10张"),n.cancel(),n.remove(),a.imgspwant++,void a.wantupload++;a.imgspwant++,a.wantupload++}else{if(p&&o.length+a.viospwant>=p)return Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["g"])("视频素材最多上传10个"),n.cancel(),n.remove(),a.viospwant++,void a.wantupload++;a.viospwant++,a.wantupload++}if(0==t.code&&t.data.length>0){i("SETSTATE",{k:c,v:!0}),"img"!=r||o.find(function(e){return e.imageHash==t.data[0].md5})||(o.push({imageHash:t.data[0].md5}),a.imgspwant--),"video"!=r||o.find(function(e){return e.videoHash==t.data[0].md5})||(o.push({videoHash:t.data[0].md5}),a.viospwant--);var e=null,s=null,u=0;o.forEach(function(a,i){"img"==r&&a.imageHash==t.data[0].md5&&(a.imageUrl=t.data[0].targetName,a.name=n.name,a.process=100),"video"==r&&a.videoHash==t.data[0].md5&&(a.videoUrl=t.data[0].targetName,a.name=n.name,a.process=100),"fm"==r&&a.name==l&&(u=i,e=a,s=Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_4__["a"])({},e,{fmname:n.name,fmUrl:t.data[0].targetName,fmHash:t.data[0].md5,fmprocess:100}))}),"fm"==r&&(o.splice(u,1),o.splice(u,0,s)),n.cancel(),n.remove(),d&&d()}else"fm"==r&&n.upload()}).catch(function(t){console.log(t)})},fileUpload:function(t,e){t.state,t.commit;var a=e.option,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].fileupload,s=new FormData;s.append("file",a),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(i,s).then(function(t){}).catch(function(t){console.log(t)})},getClassify:function(t,e){t.state;var a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].classify.replace("{projectid}",e);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("CLASSIFY",t)}).catch(function(t){console.log(t)})},getCountries:function(t,e){t.state;var a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createcountry+"projectId="+e;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("COUNTRIES",t)}).catch(function(t){console.log(t)})},getCreateList:function(t){var e,a=t.state,i=t.commit,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s.loading,o=void 0!==n&&n,r=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createlist,c=["creativityName","classify","countryId","sex","status","pageIndex","pageSize","projectId"],l="";c.forEach(function(t){a["cr_"+t]&&(l+="&"+t+"="+a["cr_"+t])}),r+=l.substr(1),o&&(e=element_ui__WEBPACK_IMPORTED_MODULE_21__["Loading"].service({target:document.getElementById(o)})),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(r).then(function(t){e&&e.close(),i("CREATE",t)}).catch(function(t){console.log(t)})},updateSex:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.id,s=e.sex,n=e.creativityName,o=e.countryId,r=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].updatesex,c={sex:s,id:i,creativityName:n,countryId:o};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(r,c).then(function(t){a("getCreateList")}).catch(function(t){console.log(t)})},openCreate:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createopen,n=i;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,n).then(function(t){a("getCreateList")}).catch(function(t){console.log(t)})},syncAll:function(t,e){t.state,t.commit;var a=e.accountIds,i=e.projectId,s="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].syncall,"accountIds=").concat(a,"&projectId=").concat(i);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){}).catch(function(t){console.log(t)})},syncGroup:function(t,e){t.state,t.commit;var a=e.accountIds,i=e.ids,s=e.projectId,n="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].syncgroup),o=new URLSearchParams;o.append("accountIds",a),o.append("ids",i),o.append("projectId",s),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,o).then(function(t){}).catch(function(t){console.log(t)})},syncTime:function(t,e){t.state;var a=t.commit,i=e.accountIds,s=e.ids,n=e.projectId,o="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].synctime,"accountIds=").concat(i,"&ids=").concat(s,"&projectId=").concat(n);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(o).then(function(t){a("SYNCTIME",t)}).catch(function(t){console.log(t)})},closeCreate:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createclose,n=i;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,n).then(function(t){a("getCreateList")}).catch(function(t){console.log(t)})},addCountries:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.creativityIds,s=e.countryId,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].addcountries.replace("{creativityIds}",i).replace("{countryId}",s);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(n).then(function(t){a("getCreateList")}).catch(function(t){console.log(t)})},getAllpages:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].allpagelist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("ALLPAGES",t)}).catch(function(t){console.log(t)})},getAllactions:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].actionlist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("ALLACTIONS",t)}).catch(function(t){console.log(t)})},toAddCreate:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=e.id,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].toaddcreate;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,i).then(function(t){Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("新增成功"),a("getCreateList",{loading:"createList"}),a("getClassify",s),a("getCountries",s)}).catch(function(t){console.log(t)})},addCreates:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=e.id,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].addcreates;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,i,{fullScreen:!0}).then(function(t){Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("".concat(i.length,"个创意提交成功")),a("getCreateList",{loading:"createList"}),a("getClassify",s),a("getCountries",s)}).catch(function(t){console.log(t)})},syncList:function(t){var e,a=t.state,i=t.commit,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s.loading,o=void 0!==n&&n,r=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].synclist,c=["keyWords","status","fbAccountId","pageIndex","pageSize","projectId"],l="";c.forEach(function(t){a["sync_"+t]&&(l+="&"+t+"="+a["sync_"+t])}),r+=l.substr(1),o&&(e=element_ui__WEBPACK_IMPORTED_MODULE_21__["Loading"].service({target:document.getElementById(o)})),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(r).then(function(t){e&&e.close(),i("SYNCLIST",t)}).catch(function(t){console.log(t)})},synclistall:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.ids,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].synclistall.replace("{ids}",i);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){a("syncList")}).catch(function(t){console.log(t)})},otherCountries:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].countries;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("OTHERCOUNTRIES",t)}).catch(function(t){console.log(t)})},getLanguage:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].language;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("LANGUAGE",t)}).catch(function(t){console.log(t)})},getInterests:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].interests;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("INTERESTS",t)}).catch(function(t){console.log(t)})},getPlatform:function(t,e){t.state;var a=t.commit,i=e.applicationid,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].platform.replace("{applicationid}",i);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){a("PLATFORM",t)}).catch(function(t){console.log(t)})},getCreatePlatform:function(t,e){t.state;var a=t.commit,i=e.applicationid,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].platform.replace("{applicationid}",i);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){a("CREATEPLATFORM",t)}).catch(function(t){console.log(t)})},getSystem:function(t,e){t.state;var a=t.commit,i=e.os,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].system.replace("{os}",i);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){a("SYSTEM",t)}).catch(function(t){console.log(t)})},getOtherCreateList:function(t){var e=t.state,a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createlist,s=["creativityName","classify","countryId","sex","status","projectId"],n="";s.forEach(function(t){e["cr_"+t]&&(n+="&"+t+"="+e["cr_"+t])}),i+=n.substr(1),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("CREATE",t)}).catch(function(t){console.log(t)})},createGener:function(t,e){t.state,t.commit;var a=e.option,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].creategener,s=a.planInfoVO,n=a.route,o=a.projectid;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(i,s,{fullScreen:!0}).then(function(t){Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("创建成功"),setTimeout(function(){n.push("/project/".concat(o,"/plan"))},1e3)}).catch(function(t){})},getPlanlist:function(t){var e,a=t.state,i=t.commit,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s.loading,o=void 0!==n&&n,r=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].planlist,c=["project_id","country","platform","keyword","pageIndex","pageSize"],l="";c.forEach(function(t){a["pl_"+t]&&(l+="&"+t+"="+a["pl_"+t])}),r+=l.substr(1),o&&(e=element_ui__WEBPACK_IMPORTED_MODULE_21__["Loading"].service({target:document.getElementById(o)})),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(r).then(function(t){e&&e.close(),i("PLANLIST",t)}).catch(function(t){console.log(t)})},getPlanCountry:function(t,e){t.state;var a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].plancountry.replace("{projectid}",e);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("PLANCOUNTRY",t)}).catch(function(t){console.log(t)})},changePrice:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.goalBid,s=e.planId,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].changeprice,o={goalBid:i,planId:s};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,o).then(function(t){a("getPlanlist")}).then(function(t){console.log(t)})},getInuseCreate:function(t,e){var a=t.state,i=t.commit,s=(t.dispatch,e.plan_id),n=void 0===s?"":s,o=e.pageIndex,r=void 0===o?1:o,c=e.pageSize,l=void 0===c?20:c,u=e.loadDom,d=void 0===u?"":u,m=e.fullScreen,p=void 0===m?"":m,f=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].inusecreate,h="";h+="plan_id="+n,h+="&pageIndex="+r,h+="&pageSize="+l,a.plcreatestatus&&(h+="&status="+a.plcreatestatus),a.plcreateclassify&&(h+="&classify="+a.plcreateclassify),a.plcreatekeyword&&(h+="&keyword="+a.plcreatekeyword),f+=h,_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(f,{loadDom:d,fullScreen:p}).then(function(t){i("INUSECREATE",t)}).catch(function(t){console.log(t)})},getNouseCreate:function(t,e){var a=t.state,i=t.commit,s=(t.dispatch,e.plan_id),n=void 0===s?"":s,o=e.pageIndex,r=void 0===o?1:o,c=e.pageSize,l=void 0===c?20:c,u=e.fullScreen,d=void 0===u?"":u,m=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].nousecreate,p="";p+="plan_id="+n,p+="&pageIndex="+r,p+="&pageSize="+l,a.plcreateclassify&&(p+="&classify="+a.plcreateclassify),a.plcreatekeyword&&(p+="&keyword="+a.plcreatekeyword),m+=p,_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(m,{fullScreen:d}).then(function(t){i("NOUSECREATE",t)}).catch(function(t){console.log(t)})},addCreate:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].addcreate;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,i,{fullScreen:!0}).then(function(t){var e=i[0].planId;a("getInuseCreate",{plan_id:e}),a("getNouseCreate",{plan_id:e,fullScreen:!0}),a("getPlanlist")}).catch(function(t){console.log(t)})},delCreate:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].delcreate;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,i,{fullScreen:!0}).then(function(t){var e=i[0].planId;a("getInuseCreate",{plan_id:e,fullScreen:!0}),a("getNouseCreate",{plan_id:e}),a("getPlanlist")}).catch(function(t){console.log(t)})},autoSelect:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.plan_id,s=e.creative_type,n=e.creative_num,o=e.creative_strategy,r=e.creative_classify,c=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].autoselect,l="";l+="plan_id="+i,l+="&creative_type="+s,l+="&creative_num="+n,l+="&creative_strategy="+o,l+="&creative_classify="+r,c+=l,_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(c,{fullScreen:!0}).then(function(t){var e=t.data;e&&0!=e.length?a("delAllCreate",{planId:i,type:10,result:t.data}):Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["g"])("没有找到合适的创意")}).catch(function(t){console.log(t)})},delAllCreate:function(){var t=Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark(function t(e,a){var i,s,n,o,r,c,l,u,d;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.state,e.commit,i=e.dispatch,s=a.planId,n=a.type,o=a.result,r=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].delallcreate,c=[s],l=s,t.next=7,_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(r,c).then(function(t){return t}).catch(function(t){console.log(t)});case 7:if(u=t.sent,0!=u.code){t.next=21;break}if(10!=n){t.next=18;break}if(o&&0!=o.length){t.next=13;break}return Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["g"])("未找到数据"),t.abrupt("return");case 13:d=[],o.forEach(function(t){var e={creativeId:t.id,planId:l,creativeStatus:t.status};d.push(e)}),i("addCreate",{option:d}),t.next=21;break;case 18:i("getInuseCreate",{plan_id:l,fullScreen:!0}),i("getNouseCreate",{plan_id:l}),i("getPlanlist");case 21:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),addAllCreate:function(t,e){var a=t.state,i=(t.commit,t.dispatch),s=e.planId,n="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].addallcreate,"plan_id=").concat(s,"&keyword=").concat(a.plcreatekeyword,"&status=").concat(a.plcreatestatus,"&classify=").concat(a.plcreateclassify);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(n).then(function(t){var e=s;i("getInuseCreate",{plan_id:e}),i("getNouseCreate",{plan_id:e,fullScreen:!0}),i("getPlanlist")}).catch(function(t){console.log(t)})},getAccountList:function(t,e){t.state;var a=t.commit,i=e.plan_id,s=e.loadDom,n=void 0===s?"":s,o=e.fullScreen,r=void 0===o?"":o,c=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].accountlist;c+="plan_id="+i,_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(c,{loadDom:n,fullScreen:r}).then(function(t){a("ACCOUNTLIST",t)}).catch(function(t){console.log(t)})},addAccount:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].addaccount;console.log(i),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,i,{fullScreen:!0}).then(function(t){var e=i[0].planId;a("getAccountList",{plan_id:e,fullScreen:!0}),a("getPlanlist")}).catch(function(t){console.log(t)})},delAccount:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].delaccount;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,i,{fullScreen:!0}).then(function(t){var e=i[0].planId;a("getAccountList",{plan_id:e,fullScreen:!0}),a("getPlanlist")}).catch(function(t){console.log(t)})},getLog:function(t,e){t.state;var a=t.commit,i=e.plan_id,s=e.loadDom,n=void 0===s?"":s,o=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].planlog;o+="plan_id="+i,_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(o,{loadDom:n}).then(function(t){a("LOGLIST",t)}).catch(function(t){console.log(t)})},getLogdetail:function(t){var e=t.state,a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].logdetail+"batch_id="+e.logdetailid;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("LOGDETAIL",t)}).catch(function(t){console.log(t)})},createLogad:function(t,e){t.state;var a=t.commit,i=t.dispatch,s=e.option,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].logcreate;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,s).then(function(t){a("LOGCREATE",{res:t,option:s}),i("getLogdetail"),i("getPlanlist")}).catch(function(t){a("LOGCREATEFAIL"),console.log(t)})},getCreateNum:function(t,e){t.state;var a=t.commit,i="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].logcreatenum,"plan_id=").concat(e);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("CREARENUM",t)}).catch(function(t){console.log(t)})},getCreateInfo:function(t,e){t.state;var a=t.commit,i=e.plan_id,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createinfo+"plan_id="+i;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){a("CREATEINFO",t)}).catch(function(t){console.log(t)})},editGener:function(t,e){t.state;var a=t.commit,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].editcreate,n=i.planInfoVO,o=i.route,r=i.projectid;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,n,{fullScreen:!0}).then(function(t){Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("编辑成功"),a("RESETEDIT"),setTimeout(function(){o.push("/project/".concat(r,"/plan"))},1e3)}).catch(function(t){})},openPlan:function(t,e){t.state,t.commit;var a=e.option,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].openplan;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(i,a).then(function(t){}).catch(function(t){console.log(t)})},closePlan:function(t,e){t.state,t.commit;var a=e.option,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].closeplan;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(i,a).then(function(t){}).catch(function(t){console.log(t)})},syncCreate:function(){var t=Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark(function t(e,a){var i,s,n,o,r,c,l,u,d,m;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.state,e.commit,i=e.dispatch,s=a.planid,n=a.createnum,o=a.projectId,r="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].inusecreate,"plan_id=").concat(s,"&pageIndex=1&pageSize=").concat(n),c="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].accountlist,"plan_id=").concat(s),t.next=6,i("planCreateAccount",r);case 6:return l=t.sent,t.next=9,i("planCreateAccount",c);case 9:u=t.sent,d=l.data.list.map(function(t){return t.id}),m=u.data.usedAdaccounts.map(function(t){return t.fbId}),i("syncGroup",{accountIds:m.join(","),ids:d.join(","),projectId:o});case 13:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),planCreateAccount:function(t,e){t.state,t.commit;return _js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(e).then(function(t){return t}).catch(function(t){console.log(t)})},generTargetList:function(t,e){t.state;var a=t.commit,i=e.fb_account_ids,s="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].genertarget,"adaccount_ids=").concat(i);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){a("GENERTARGET",t)}).catch(function(t){console.log(t)})},generAccountList:function(t,e){t.state;var a=t.commit,i=e.audience_ids,s=e.project_id,n="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].generaccount,"audience_ids=").concat(i,"&project_id=").concat(s);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(n).then(function(t){a("GENERACCOUNT",t)}).catch(function(t){console.log(t)})},bidGuide:function(t,e){t.state;var a=t.commit,i=e.country,s=e.fbApplicationId,n=e.billingEvent,o="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].bidguide,"country=").concat(i,"&fbApplicationId=").concat(s,"&billingEvent=").concat(n);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(o).then(function(t){a("BIDGUIDE",t)}).catch(function(t){console.log(t)})},getClassifyForPlan:function(t,e){t.state;var a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].classify.replace("{projectid}",e);Axios({url:i,success:function(t){a("CLASSIFYFORPLAN",t)}})},classifyFilterCount:function(t,e){t.state;var a=t.commit,i=e.planid,s=e.creativetype,n=e.classify,o="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].classifyfilter,"plan_id=").concat(i,"&creative_type=").concat(s,"&classify=").concat(n);Axios({url:o,success:function(t){a("CLASSIFYFILTERCOUNT",t)}})},classifyFilterCountNoPlan:function(t,e){t.state;var a=t.commit,i=e.country,s=e.gender,n=e.projectId,o=e.creativetype,r=e.classify,c="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].classifyfilternoplan,"country=").concat(i,"&gender=").concat(s,"&projectId=").concat(n,"&creative_type=").concat(o,"&classify=").concat(r);Axios({url:c,success:function(t){a("CLASSIFYFILTERCOUNT",t)}})},getAdPlanlist:function(t,e){t.state;var a=t.commit,i="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].planlist,"project_id=").concat(e,"&pageIndex=1&pageSize=1000");_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("ADPLANLIST",t)}).catch(function(t){console.log(t)})},getCustomEventAd:function(t,e){t.state;var a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].customevent+"applicationId="+e;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("CUSTOMEVENTAD",{r:t,applicationId:e})}).catch(function(t){console.log(t)})},deleteSearchCondition:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.id,s=e.userId,n=e.projectId,o="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].deletecondition,"id=").concat(i);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(o).then(function(t){a("getSearchCondition",{userId:s,projectId:n})}).catch(function(t){console.log(t)})},getSearchCondition:function(t,e){t.state;var a=t.commit,i=(t.dispatch,e.userId),s=e.projectId,n="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].getcondition,"userId=").concat(i,"&projectId=").concat(s);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(n).then(function(t){a("GETCONDITION",t)}).catch(function(t){console.log(t)})},saveSearchCondition:function(t,e){t.state,t.commit;var a=t.dispatch,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].savecondition,s="";for(var n in e)s+="&".concat(n,"=").concat(e[n]);i+=s.substring(1),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("getSearchCondition",{userId:e.userId,projectId:e.projectId})}).catch(function(t){console.log(t)})},getUpdateTime:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].updatetime;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("UPDATETIME",t)}).catch(function(t){console.log(t)})},getAdlist:function(){var t=Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark(function t(e,a){var i,s,n,o,r,c,l,u,d,m,p,f,h,_,v,g,b,y,k,E,C,O,w,I,T,A,x,S;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.state,s=e.commit,n=e.dispatch,o=a.option,r=a.loading,void 0!==r&&r,c=a.fullScreen,l=void 0===c||c,u=a.type,d=a.applicationid,m=a.editType,p=void 0===m?"":m,f=a.name,h=void 0===f?"":f,_=a.customOption,v=void 0===_?null:_,g=a.outNotify,b=void 0===g?null:g,y=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].adlistnew,d=d||i.adapplicationid,E=localStorage.getItem(adEventLS.new)&&JSON.parse(localStorage.getItem(adEventLS.new))[d]?JSON.parse(localStorage.getItem(adEventLS.new))[d].join(","):"",C=Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_4__["a"])({startDate:i.adstarttime,endDate:i.adendtime},o),i.adaccountid&&i.adaccountid.length>0&&(C.accountIdStr=i.adaccountid.join(",")),i.adplanid&&(C.planId=i.adplanid),E&&(C.eventsName=E),O="","campaignName"==u&&(O="campaign_id"),"adSetName"==u&&(O="adset_id",i.campainsortlist.length>0&&(C.campaignIdInStr=i.campainsortlist.map(function(t){return t.campaignId}).join(","))),"adName"==u&&(O="ad_id",i.setsortlist.length>0?C.adSetIdInStr=i.setsortlist.map(function(t){return t.adsetId}).join(","):i.campainsortlist.length>0&&(C.campaignIdInStr=i.campainsortlist.map(function(t){return t.campaignId}).join(","))),C.groupByClause=O,l&&(k=element_ui__WEBPACK_IMPORTED_MODULE_21__["Loading"].service({fullscreen:l})),p){t.next=22;break}w=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].adlisttotal,s("SETSTATE",{k:"adlisttotal",v:{}}),Axios({url:w,method:"post",data:C,success:function(t){s("ADLISTTOTAL",t)}}),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(y,C,{timeout:2e4}).then(function(){var t=Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:k&&k.close(),s("ADLIST",{res:e,type:u,dateCond:C.dateOptions,editType:p,name:h,customOption:v}),n("getUpdateTime");case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){console.log("%c".concat(t),"color: blue"),k&&k.close(),s("ADLISTTIMEOUT")}),t.next=44;break;case 22:I=2500,T=C.pageSize,A=[],C.pageSize=I,x=0;case 27:if(!(x<T/I)){t.next=41;break}return C.pageNo=x+1,console.log("%cpage ".concat(x+1),"color: orange"),t.next=32,_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(y,C).then(function(t){return t.data.list}).catch(function(t){console.log("%cexport ".concat(t),"color: blue")});case 32:if(S=t.sent,!(S&&S.length>0)){t.next=37;break}A=A.concat(S),t.next=38;break;case 37:return t.abrupt("break",41);case 38:x++,t.next=27;break;case 41:b.close(),s("SETSTATE",{k:"exportstatus",v:!0}),A.length>I*(Math.ceil(T/I)-1)?(Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["d"])("导出成功","正在下载文件"),s("ADLIST",{res:{data:{list:A}},type:u,dateCond:C.dateOptions,editType:p,name:h,customOption:v})):Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["c"])("导出错误","接口超时，减少数据量后重试");case 44:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),getAdaccount:function(t,e){t.state;var a=t.commit,i="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].adaccountlist,"projectId=").concat(e);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("ADACCOUNT",t)}).catch(function(t){console.log(t)})},changeAdstatus:function(t,e){var a,i=t.state,s=t.commit,n=t.dispatch,o=e.option,r=e.type,c=e.fullScreen,l=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].changeadstatus,u="";for(var d in o)""!==o[d]&&(u+="&"+d+"="+o[d]);switch(l+=u.substr(1),r){case"campaignName":a="campain_option";break;case"adSetName":a="set_option";break;case"adName":a="ad_option";break}Axios({url:l,fullscreen:c,success:function(t){0==t.code&&(Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("更新成功"),s("CHANGESTATUS",o),setTimeout(function(){n("getAdlist",{option:i[a],type:r})},2e3))}})},resetName:function(t,e){var a,i=t.state,s=(t.commit,t.dispatch),n=e.id,o=e.name,r=e.type,c="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].resetname);switch(r){case"campaignName":c+="fbAdCampaignId=".concat(n,"&name=").concat(o),a="campain_option";break;case"adSetName":c+="fbAdSetId=".concat(n,"&name=").concat(o),a="set_option";break;case"adName":c+="fbAdId=".concat(n,"&name=").concat(o),a="ad_option";break}_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(c,{fullScreen:!0}).then(function(t){Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("重命名成功"),s("getAdlist",{option:i[a],type:r})}).catch(function(t){console.log(t)})},seekReplace:function(t,e){var a,i=t.state,s=(t.commit,t.dispatch),n=e.data,o=e.type,r="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].seekreplace),c="";switch(o){case"campaignName":r+="adCampaignData=".concat(n),a="campain_option",c="广告系列";break;case"adSetName":r+="adSetData=".concat(n),a="set_option",c="广告组";break;case"adName":r+="adData=".concat(n),a="ad_option",c="广告";break}Axios({url:r,fullscreen:!0,success:function(t){var e=_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_entries__WEBPACK_IMPORTED_MODULE_3___default()(t.data),n=e.filter(function(t){return!t[1]});if(n.length>0){var r=n.map(function(t){return t[0]}).join(",");Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["a"])("以下".concat(c,"查找替换失败：").concat(r))}else Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("查找替换成功");s("getAdlist",{option:i[a],type:o})}})},seekReplaceCreate:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].seekreplacecreate;Axios({url:s,method:"post",data:i,fullscreen:!0,success:function(t){Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("提交成功"),clearInterval(jobProcess),setTimeout(function(){a("jobList")},2e3)}})},adGetCampaignlist:function(t,e){t.state;var a=t.commit,i=e.projectId,s=e.keyword,n=void 0===s?"":s,o="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createcampaignlist,"project_id=").concat(i,"&keyword=").concat(n);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(o).then(function(t){a("ADCAMPAIGNLIST",t)}).catch(function(t){console.log(t)})},adGetAdsetList:function(t,e){t.state;var a=t.commit,i=e.projectId,s=e.keyword,n=void 0===s?"":s,o="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createadsetlist,"project_id=").concat(i,"&keyword=").concat(n);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(o).then(function(t){a("ADSETLIST",t)}).catch(function(t){console.log(t)})},creativeDetail:function(t,e){t.state,t.commit;var a=e.creativeId,i=e.fullScreen,s=void 0!==i&&i,n="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].creativedetail,"fbCreativeIds=").concat(a);return Axios({url:n,fullscreen:s,success:function(t){return t}})},adCopy:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.orgId,s=e.distId,n=e.count,o=e.identify,r=e.type,c=e.projectId,l=e.fbAccountId,u=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].adcopy,d=new FormData;if(d.append("copyNum",n),d.append("identify",o),d.append("projectId",c),l&&d.append("fbAccountId",l),"campaignName"==r)d.append("campaignId",i.join(","));else{var m=[];i.forEach(function(t,e){var a={targetId:1==s.length?s[0]:s[e],superId:t};m.push(a)}),d.append("copyVO",_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(m))}var p="";switch(r){case"campaignName":"campain_option",p="广告系列";break;case"adSetName":"set_option",p="广告组";break;case"adName":"ad_option",p="广告";break}_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(u,d,{fullScreen:!0}).then(function(t){if(0==t.data)Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("提交失败");else{var e=[];for(var i in t.data)t.data[i].b||e.push(i);e.length>0?Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["a"])("".concat(p,"复制失败，请稍后重试，").concat(p,"ID：").concat(e.join("\n"))):Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("提交成功"),clearInterval(jobProcess),setTimeout(function(){a("jobList")},2e3)}}).catch(function(t){console.log(t)})},asyncJobProcess:function(t){t.state,t.commit,t.dispatch;var e=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].joblist;return(new _js_axiosclass__WEBPACK_IMPORTED_MODULE_17__["a"]).get(e).then(function(t){return t})},jobList:function(){var t=Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark(function t(e){var a,i,s,n,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=e.state,i=e.commit,s=e.dispatch,_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].joblist,t.t0=a.adtab,t.next="campaignName"===t.t0?5:"adSetName"===t.t0?7:"adName"===t.t0?9:11;break;case 5:return n="campain_option",t.abrupt("break",11);case 7:return n="set_option",t.abrupt("break",11);case 9:return n="ad_option",t.abrupt("break",11);case 11:return t.next=13,s("asyncJobProcess").catch(function(t){console.log(t),s("getAdlist",{option:a[n],type:a.adtab})});case 13:if(o=t.sent,o){t.next=16;break}return t.abrupt("return");case 16:if(0!=o.unCompleted){t.next=21;break}return s("getAdlist",{option:a[n],type:a.adtab}),t.abrupt("return");case 21:i("JOBPROCESS",o),s("getAdlist",{option:a[n],type:a.adtab});case 23:clearInterval(jobProcess),jobProcess=setInterval(Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_10__["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s("asyncJobProcess");case 2:o=t.sent,0==o.unCompleted?(clearInterval(jobProcess),console.log("复制异步结束"),i("JOBPROCESSCOMPLETE",o),s("getAdlist",{option:a[n],type:a.adtab})):i("JOBPROCESS",o);case 4:case"end":return t.stop()}},t,this)})),5e3);case 25:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),joblistDetail:function(t){var e=t.state,a=t.commit,i="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].jobresultdetail).concat(e.jobfailkey);Axios({url:i,success:function(t){a("JOBLISTDETAIL",t)},fail:function(t){a("JOBLISTDETAILERROR")}})},copyCreateCampaign:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.name,s=e.accountId,n=e.orgId,o=e.count,r=e.identify,c=e.type,l=e.projectId,u=e.ifstride,d=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createcampaign,m={adAccount:s,campaignName:i};_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(d,m,{fullScreen:!0}).then(function(t){"success"==t.data[0].status?a("adCopy",{orgId:n,distId:[t.data[0].campaignId],count:o,identify:r,type:c,projectId:l,fbAccountId:u?s:null}):Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["a"])(t.data[0].errorMsg)}).catch(function(t){console.log(t)})},calcuCount:function(t,e){t.state;var a=t.commit,i=e.id,s=e.type,n="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].calcucount,"ids=").concat(i.join(","),"&type=").concat(s);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(n).then(function(t){a("CALCUCOUNT",t)}).catch(function(t){console.log(t)})},createCampaign:function(t,e){t.state,t.commit,t.dispatch;var a=e.name,i=e.accountId,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createcampaign,n={adAccount:i,campaignName:a};return _js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,n,{fullScreen:!0}).then(function(t){return t}).catch(function(t){console.log(t)})},getCampaignInfo:function(t,e){t.state;var a=t.commit,i=e.campaignId,s="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].campaigninfo,"campaignIds=").concat(i.join(","));_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){a("CAMPAIGNINFO",t)}).catch(function(t){console.log(t)})},editCampaign:function(t,e){var a=t.state,i=(t.commit,t.dispatch),s=e.campaignId,n=e.name,o=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].editcampaign,r={campaignList:s,campaignName:n};return _js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(o,r,{fullScreen:!0}).then(function(t){return t.data.find(function(t){return"failed"==t.status})||i("getAdlist",{option:a["campain_option"],type:"campaignName"}),t}).catch(function(t){console.log(t)})},getCreateCampaignlist:function(t,e){t.state;var a=t.commit,i=e.keyword,s=e.projectId,n="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createcampaignlist,"keyword=").concat(i,"&project_id=").concat(s);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(n).then(function(t){a("CREATECAMPAIGNLIST",t)}).catch(function(t){console.log(t)})},createAdset:function(t,e){t.state,t.commit;var a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createadset;return Axios({url:a,method:"post",data:e,fullscreen:!0,success:function(t){return t}})},getAdsetInfo:function(t,e){t.state;var a=t.commit,i=e.adsetId,s=e.applicationid,n="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].adsetinfo,"adsetIds=").concat(i.join(","));_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(n).then(function(t){a("ADSETINFO",{res:t,applicationid:s})}).catch(function(t){console.log(t)})},editAdset:function(t,e){var a=t.state,i=(t.commit,t.dispatch),s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].editadset;return Axios({url:s,method:"post",data:e,fullscreen:!0,success:function(t){return t.data.find(function(t){return"failed"==t.status})||i("getAdlist",{option:a["set_option"],type:"adSetName"}),t}})},getCreateAdsetlist:function(t,e){t.state;var a=t.commit,i=e.keyword,s=e.projectId,n="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createadsetlist,"keyword=").concat(i,"&project_id=").concat(s);return _js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(n).then(function(t){a("SETSTATE",{k:"adsetlistload",v:!1}),a("CREATEADSETLIST",t)}).catch(function(t){console.log(t)})},getSelectCreateList:function(t,e){t.state;var a=t.commit,i=e.creativityType,s=e.creativityName,n=e.classify,o=e.pageIndex,r=e.projectId,c="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createlist,"creativityType=").concat(i,"&creativityName=").concat(s,"&classify=").concat(n,"&pageIndex=").concat(o,"&pageSize=40&projectId=").concat(r);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(c).then(function(t){a("ADCREATELIST",t)}).catch(function(t){console.log(t)})},createAd:function(t,e){t.state,t.commit;var a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createad;return _js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(a,e,{fullScreen:!0}).then(function(t){return t}).catch(function(t){console.log(t)})},createEditAdAsync:function(t,e){t.state,t.commit;var a=t.dispatch,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createeditasync;return _js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(i,e).then(function(t){var e=t.data.filter(function(t){return"failed"==t.status});return 0==e.length?(Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("提交成功"),clearInterval(jobProcess),setTimeout(function(){a("jobList")},2e3),!0):(Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["a"])("广告编辑失败，请稍后重试，".concat(e.map(function(t){return t.errMsg}).join(","))),!1)}).catch(function(t){console.log(t)})},getAdInfo:function(t,e){t.state;var a=t.commit,i=e.adId,s="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].adinfo,"ads=").concat(i.join(","));_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s,{fullScreen:!0}).then(function(t){a("ADINFO",t)}).catch(function(t){console.log(t)})},isDynamicCreate:function(t,e){t.state;var a=t.commit,i="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].dynamiccreate,"fbCreativeIds=").concat(e);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("DYNAMICCREATE",t)}).catch(function(t){console.log(t)})},editAd:function(t,e){var a=t.state,i=(t.commit,t.dispatch),s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].editad;return _js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,e,{fullScreen:!0}).then(function(t){return t.data.find(function(t){return"failed"==t.status})||i("getAdlist",{option:a["ad_option"],type:"adName"}),t}).catch(function(t){console.log(t)})},getAdsetCreateApplist:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].applist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("SETADCREATEAPPLIST",t)}).catch(function(t){console.log(t)})},getAppInfo:function(t,e){t.state;var a=t.commit,i="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].appinfo,"apps=").concat(e);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("ADAPPINFO",t)}).catch(function(t){console.log(t)})},getAdsetCreateAllpages:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].allpagelist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("CREATEALLPAGES",t)}).catch(function(t){console.log(t)})},getCalendarData:function(t,e){t.state;var a=t.commit,i=e.projectId,s=e.startDate,n=e.endDate,o=e.userOs,r="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].calendardata,"projectId=").concat(i,"&startDate=").concat(s,"&endDate=").concat(n,"&userOs=").concat(o);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(r).then(function(t){a("CALENDARDATE",t)}).catch(function(t){console.log(t)})},submitAfdata:function(t,e){t.state;var a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].submitafdata;return _js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(a,e,{fullScreen:!0,timeout:18e4}).then(function(t){return t}).catch(function(t){console.log(t)})},affileDownload:function(t,e){t.state;var a=t.commit,i="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].affiledownload,"fileName=").concat(e);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("AFFILEDOWNLOAD",{r:t,name:e})}).catch(function(t){console.log(t)})},isActiveAd:function(t,e){t.state;var a=t.commit,i="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].isactivead,"adset_id=").concat(e);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("ACTIVEAD",t)}).catch(function(t){console.log(t)})},ruleListForAdd:function(t,e){t.state;var a=t.commit,i=e.fbAccountIds,s=e.level,n="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].adrulelist,"fbAccountIds=").concat(i,"&level=").concat(s);Axios({url:n,success:function(t){a("ADRULELIST",t)}})},useRules:function(t,e){t.state,t.commit;var a=e.objIds,i=e.ruleIds,s=e.objLevel,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].userules,o=new FormData;return o.append("objIds",a),o.append("ruleIds",i),o.append("objLevel",s),Axios({url:n,method:"post",data:o,fullscreen:!0,success:function(t){return t.data?Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("应用成功"):Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["a"])("应用失败：".concat(t.msg)),t}})},singleRules:function(t,e){t.state;var a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].singlerules.replace("{objId}",e);Axios({url:i,success:function(t){a("SINGLERULES",t)}})},removeRules:function(t,e){t.state,t.commit;var a=e.objId,i=e.ruleIds,s=e.objLevel,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].removerule.replace("{objId}",a),o=new FormData;return o.append("ruleIds",i),o.append("objLevel",s),Axios({url:n,method:"post",fullscreen:!0,data:o,success:function(t){return t.data?Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("移除成功"):Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["a"])("移除失败：".concat(t.msg)),t}})},getCondition:function(t,e){t.state;var a=t.commit,i=e.projectId,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].conditionlist+"?projectId="+i;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){a("CONDITION",t)}).catch(function(t){console.log(t)})},getDataList:function(t,e){t.state;var a=t.commit,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].datalist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,i).then(function(t){a("DATALIST",t)}).catch(function(t){console.log(t)})},getDataListout:function(t,e){t.state;var a=t.commit,i=e.option,s=e.name,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].datalist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,i).then(function(t){a("DATALISTOUT",{res:t,name:s})}).catch(function(t){console.log(t)})},geAdformList:function(t,e){t.state;var a=t.commit,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].adformlist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,i).then(function(t){a("ADFORM",t)}).catch(function(t){console.log(t)})},geAdformListout:function(t,e){t.state;var a=t.commit,i=e.option,s=e.name,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].adformlist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,i).then(function(t){a("ADFORMOUT",{res:t,name:s})}).catch(function(t){console.log(t)})},getCreateformList:function(t,e){t.state;var a=t.commit,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createformlist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,i,{loadDom:"dataTable"}).then(function(t){a("CREATEFORM",t)}).catch(function(t){console.log(t)})},getCreatecardList:function(t,e){t.state;var a=t.commit,i=e.option,s=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createcard;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(s,i,{loadDom:"dataTableCard"}).then(function(t){a("CREATECARD",t)}).catch(function(t){console.log(t)})},getCreateformListout:function(t,e){t.state;var a=t.commit,i=e.option,s=e.name,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createformlist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,i).then(function(t){a("CREATEFORMOUT",{res:t,name:s})}).catch(function(t){console.log(t)})},getCreatecardListout:function(t,e){t.state;var a=t.commit,i=e.option,s=e.name,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].createcard;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,i).then(function(t){a("CREATECARDOUT",{res:t,name:s})}).catch(function(t){console.log(t)})},getDaycpiList:function(t,e){t.state;var a=t.commit,i=e.option,s=e.sort,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].daycpi;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,i).then(function(t){a("DAYCPI",t)}).catch(function(t){console.log(t)});var o=_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()({flag:"1",orderByClause:s},i);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,o).then(function(t){a("DAYCPITABLE",t)}).catch(function(t){console.log(t)})},getDaycpiListout:function(t,e){t.state;var a=t.commit,i=e.option,s=e.name,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].daycpi;i.flag="1",_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].post(n,i).then(function(t){a("DAYCPIOUT",{res:t,name:s})}).catch(function(t){console.log(t)})},getOptionMore:function(t,e){t.state;var a=t.commit,i=e.projectId,s=e.campaignKeyword,n=e.creativeKeyword,o=e.accountKeyword,r=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].getoptionmore,c="";c=s?"campaignKeyword":c,c=n?"creativeKeyword":c,c=o?"accountKeyword":c,r+=i?"projectId=".concat(i):"",r+=s?"&campaignKeyword=".concat(s):"",r+=n?"&creativeKeyword=".concat(n):"",r+=o?"&accountKeyword=".concat(o):"",console.log(c),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(r).then(function(t){a("OPTIONMORE",{res:t,keyword:c})}).catch(function(t){console.log(t)})},getMatterList:function(t,e){t.state;var a=t.commit,i=e.option,s=e.name,n=void 0===s?"":s,o=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].matterlist;Axios({url:o,method:"post",data:i,fullscreen:!0,success:function(t){a("MATTERLIST",{res:t,type:i.materialType,name:n})}})},getVideoLink:function(t,e){t.state,t.commit;var a="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].getvideourl,"videoId=").concat(e);return _js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){return t}).catch(function(t){console.log(t)})},targetAdlist:function(t,e){t.state;var a=t.commit,i=(t.dispatch,e.option),s=e.type,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].adlistnew;Axios({url:n,method:"post",data:i,success:function(t){"campaign"==s?a("TARGETADLIST",t):a("TARGETADSETLIST",{r:t,campaignid:i.campaignIdInStr})}})},getTargetlist:function(t){var e=t.state,a=t.commit,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(i.fullScreen,_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].targetlist),n=["projectId","type","keyword","adaccounts","pageIndex","pageSize"],o="";n.forEach(function(t){e["tg_"+t]&&(o+="&"+t+"="+e["tg_"+t])}),s+=o.substr(1),Axios({url:s,data:n,fullscreen:!0,success:function(t){a("TARGETLIST",t)}})},getTargetDetail:function(t,e){t.state;var a=t.commit,i=e.targetid,s=e.loadDom,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].targetdetail;n+="audience_id="+i,_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(n,{loadDom:s}).then(function(t){a("TARGETDETAIL",t)}).catch(function(t){console.log(t)})},appToAccount:function(t,e){t.state;var a=t.commit,i=e.appid,s="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].appmethod,"app_id=").concat(i);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){a("APPACCOUNT",t)}).catch(function(t){console.log(t)})},addTarget:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.option,s=e.type,n=void 0===s?"":s,o="",r="";switch(n){case"auto":o=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].autoliketarget,r="类似";break;case"page":o=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].pageliketarget,r="类似";break;case"ad":o=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].adliketarget,r="类似";break;case"special":o=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].specialtarget,r="";break;default:o=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].addtarget,r="自定义";break}return Axios({url:o,method:"post",data:i,fullscreen:!0,success:function(t){return"failed"==t.data.status?Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["a"])(t.data.errorMsg):(Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("".concat(r,"受众").concat(i.fbAudienceId?"编辑":"创建","成功")),a("getTargetlist",{fullScreen:!0})),t}})},getAddDetail:function(t){var e=t.state,a=t.commit,i="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].targetadddetail,"audience_id=").concat(e.resultid);Axios({url:i,success:function(t){a("TARGETADDDETAIL",t)}})},getTargetInfo:function(t,e){t.state;var a=t.commit,i=e.id,s=e.type,n="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].targetinfo,"id=").concat(i);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(n).then(function(t){a("TARGETINFO",{r:t,type:s})}).catch(function(t){console.log(t)})},getTargetAccount:function(t,e){t.state;var a=t.commit,i=e.targetid,s=e.loadDom,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].targetdetail;n+="audience_id="+i,_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(n,{loadDom:s}).then(function(t){a("TARGETACCOUNT",t)}).catch(function(t){console.log(t)})},likeTarget:function(t,e){t.state;var a=t.commit,i=e.adaccount,s="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].liketarget,"adaccount=").concat(i,"&keyword=");Axios({url:s,success:function(t){a("LIKETARGET",t)}})},targetCampaigns:function(t,e){t.state;var a=t.commit,i=e.project_id,s=e.keyword,n=void 0===s?"":s,o=e.pageIndex,r=void 0===o?1:o,c=e.pageSize,l=void 0===c?50:c,u="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].targetcampaigns,"project_id=").concat(i,"&keyword=").concat(n,"&pageIndex=").concat(r,"&pageSize=").concat(l);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(u).then(function(t){a("TARGETCAMPAINGNS",{res:t,pageIndex:r})}).catch(function(t){console.log(t)})},targetApplist:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].applist;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("TARGETAPPLIST",t)}).catch(function(t){console.log(t)})},getTargetCampaignAccount:function(t,e){t.state;var a=t.commit,i=e.project_id,s=e.batch_id,n="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].campaigntoaccount,"project_id=").concat(i,"&batch_id=").concat(s);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(n).then(function(t){a("TARGETCAMPAIGNACCOUNT",t)}).catch(function(t){console.log(t)})},deleteDetail:function(t,e){t.state;var a=t.commit,i="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].deletedetail,"audience_ids=").concat(e);Axios({url:i,success:function(t){a("DELETEDETAIL",t)}})},submitDelete:function(t,e){t.state,t.commit;var a=t.dispatch,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].targetdelete,s=e;return Axios({url:i,method:"post",data:s,success:function(t){return a("getTargetlist",{fullScreen:!0}),t}})},submitShare:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.audienceList,s=e.adaccountList,n=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].targetshare,o={audienceList:i,adaccountList:s};return Axios({url:n,method:"post",data:o,success:function(t){return a("getTargetlist",{fullScreen:!0}),t}})},getRegular:function(t){var e=t.state,a=t.commit,i=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].regularlist,s=["ruleStatus","keyword","pageNo","pageSize"],n="";s.forEach(function(t){e["rg_"+t]&&(n+="&"+t+"="+e["rg_"+t])}),i+=n.substr(1),_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("REGULARLIST",t)}).catch(function(t){console.log(t)})},setRegularStatus:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.status,s=e.id,n="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].regularstatus,"ruleStatus=").concat(i,"&id=").concat(s);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(n).then(function(t){Object(_js_message__WEBPACK_IMPORTED_MODULE_20__["f"])("规则状态已修改"),a("getRegular")}).catch(function(t){console.log(t)})},getTargetPlan:function(t,e){t.state;var a=t.commit,i=e.project_id,s="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].planlist,"project_id=").concat(i,"&pageIndex=1&pageSize=2000");_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){a("TARGETPLANLIST",t)}).catch(function(t){console.log(t)})},getAllRules:function(t){t.state;var e=t.commit,a=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].allrules;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(a).then(function(t){e("ALLRULES",t)}).catch(function(t){console.log(t)})},getReguFormData:function(t){t.state;var e=t.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.startTime,s=void 0===i?"":i,n=a.endTime,o=void 0===n?"":n,r=a.ruleGroupIds,c=void 0===r?"":r,l="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].reguformdata,"startTime=").concat(s,"&endTime=").concat(o,"&ruleGroupIds=").concat(c);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(l).then(function(t){e("REGUFORMDATA",t)}).catch(function(t){console.log(t)})},getMessageList:function(t){var e=t.state,a=t.commit,i="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].messagelist,"pageIndex=").concat(e.msgpageindex,"&pageSize=").concat(e.msgpagesize);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(i).then(function(t){a("MESSAGELIST",t)}).catch(function(t){console.log(t)})},updateMessage:function(t,e){t.state,t.commit;var a=t.dispatch,i=e.ids,s="".concat(_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].setmessage,"ids=").concat(i);_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(s).then(function(t){a("getMessageCount")}).catch(function(t){console.log(t)})},setAllRead:function(t){t.state,t.commit;var e=_js_url_js__WEBPACK_IMPORTED_MODULE_18__["a"].setallread;_js_axiospack__WEBPACK_IMPORTED_MODULE_16__["a"].get(e).then(function(t){}).catch(function(t){console.log(t)})}}},"6c59":function(t,e,a){"use strict";var i=a("551d"),s=a.n(i);s.a},"6c9b":function(t,e,a){"use strict";var i=a("d451"),s=a.n(i);s.a},"6e05":function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),n=a("21a1"),o=a.n(n),r=new s.a({id:"icon-right",use:"icon-right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-right"><defs><style type="text/css"></style></defs><path d="M510.567403 63.852903c-246.304387 0-446.663336 200.358949-446.663336 446.663336 0 246.304387 200.358949 446.663336 446.663336 446.663336 246.304387 0 446.765664-200.358949 446.765664-446.663336C957.230738 264.211852 756.87179 63.852903 510.567403 63.852903L510.567403 63.852903zM787.979614 386.084941 454.593784 719.573099c-7.981613 7.981613-20.977316 7.981613-28.958929 0l-43.694214-43.694214c0 0 0 0 0 0L237.145998 531.084241c-7.981613-7.981613-7.981613-20.977316 0-28.958929l43.694214-43.694214c7.981613-7.981613 20.977316-7.981613 28.958929 0L440.063156 588.592785 715.326471 313.329469c7.981613-7.981613 20.977316-7.981613 29.061257 0L787.979614 357.126012C796.063556 365.107625 796.063556 378.103328 787.979614 386.084941L787.979614 386.084941z" p-id="13320" /></symbol>'});o.a.add(r);e["default"]=r},"6eac":function(t,e,a){},"6ef3":function(t,e,a){},"6f20":function(t,e,a){},"6f5c":function(t,e,a){},"6f68":function(t,e,a){"use strict";var i=a("0130"),s=a.n(i);s.a},"6f70":function(t,e,a){},"6ffc":function(t,e,a){"use strict";var i=a("8214"),s=a.n(i);s.a},7094:function(t,e,a){},7138:function(t,e,a){},"732e":function(t,e,a){"use strict";var i=a("52af"),s=a.n(i);s.a},7648:function(t,e,a){"use strict";var i=a("bf68"),s=a.n(i);s.a},"77d2":function(t,e,a){"use strict";e["a"]={development:{BASE_URL:"http://172.31.1.76:9600",UPLOAD_URL:"http://172.31.1.76:8888",MD5_URL:"http://172.31.1.76:8888",WEBSOCKET_URL:"172.31.1.76:9600"},production:{BASE_URL:"/api",UPLOAD_URL:"/api",WEBSOCKET_URL:"atom.unitymob.com/api",MD5_URL:""},testing:{BASE_URL:"/api",UPLOAD_URL:"/api",WEBSOCKET_URL:"172.31.1.45:9600",MD5_URL:""}}},"783d":function(t,e,a){"use strict";var i=a("b792"),s=a.n(i);s.a},7852:function(t,e,a){"use strict";var i=a("102b"),s=a.n(i);s.a},7888:function(t,e,a){"use strict";var i=a("a47b"),s=a.n(i);s.a},"7a3f":function(t,e,a){"use strict";var i=a("f5fa"),s=a.n(i);s.a},"7a8f":function(t,e,a){"use strict";var i=a("1e69"),s=a.n(i);s.a},"7ab3":function(t,e,a){},"7b9d":function(t,e,a){"use strict";var i=a("c194"),s=a.n(i);s.a},"7bb0":function(t,e,a){},"7bd1":function(t,e,a){},"7bdc":function(t,e,a){"use strict";var i=a("2cb7"),s=a.n(i);s.a},"7be6":function(t,e,a){},"7c8d":function(t,e,a){},"7cf0":function(t,e,a){"use strict";var i=a("d5f4"),s=a.n(i);s.a},"7d55":function(t,e,a){},"7eb3":function(t,e,a){"use strict";var i=a("4fdf"),s=a.n(i);s.a},"7f29":function(t,e,a){"use strict";var i=a("a905"),s=a.n(i);s.a},"7fdb":function(t,e,a){},"7fe0":function(t,e,a){"use strict";var i=a("806c"),s=a.n(i);s.a},8013:function(t,e,a){"use strict";var i=a("c1fc"),s=a.n(i);s.a},"806c":function(t,e,a){},"80f4":function(t,e,a){"use strict";var i=a("85ed"),s=a.n(i);s.a},"810c":function(t,e,a){"use strict";var i=a("39ac"),s=a.n(i);s.a},"815e":function(t,e,a){"use strict";a.d(e,"f",function(){return s}),a.d(e,"a",function(){return n}),a.d(e,"g",function(){return o}),a.d(e,"b",function(){return r}),a.d(e,"d",function(){return c}),a.d(e,"c",function(){return l}),a.d(e,"e",function(){return u});var i=a("5c96");function s(t){Object(i["Message"])({message:t,type:"success",duration:5e3})}function n(t){Object(i["Message"])({message:t,type:"error",duration:5e3})}function o(t,e){Object(i["Message"])({message:t,type:"warning",duration:5e3,dangerouslyUseHTMLString:e})}function r(t,e,a){Object(i["Notification"])({title:t,message:e,duration:5e3,dangerouslyUseHTMLString:a})}function c(t,e,a){i["Notification"].success({title:t,message:e,duration:5e3,dangerouslyUseHTMLString:!0,onClick:a||null})}function l(t,e){i["Notification"].error({title:t,message:e,duration:5e3})}function u(t,e,a){i["Notification"].warning({title:t,message:e,duration:5e3,dangerouslyUseHTMLString:!0,onClick:a||null})}},8177:function(t,e,a){"use strict";var i=a("d01b"),s=a.n(i);s.a},"817a":function(t,e,a){},8184:function(t,e,a){"use strict";var i=a("d466"),s=a.n(i);s.a},"81b6":function(t,e,a){"use strict";var i=a("85c1"),s=a.n(i);s.a},8214:function(t,e,a){},8284:function(t,e,a){},8345:function(t,e,a){},8371:function(t,e,a){"use strict";var i=a("7be6"),s=a.n(i);s.a},"85c1":function(t,e,a){},"85ed":function(t,e,a){},"86b5":function(t,e,a){},"86f6":function(t,e,a){"use strict";var i=a("ac22"),s=a.n(i);s.a},"875f":function(t,e,a){"use strict";var i=a("f034"),s=a.n(i);s.a},"87bd":function(t,e,a){"use strict";var i=a("1718"),s=a.n(i);s.a},"87c2":function(t,e,a){"use strict";var i=a("1d2c"),s=a.n(i);s.a},"885d":function(t,e,a){},"89db":function(t,e,a){"use strict";var i=a("7fdb"),s=a.n(i);s.a},"8a10":function(t,e,a){"use strict";var i=a("97bb"),s=a.n(i);s.a},"8cff":function(t,e,a){},"8d41":function(t,e,a){},"8faf":function(t,e,a){},9099:function(t,e,a){"use strict";var i=a("c0e6"),s=a.n(i);s.a},"91e6":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_1__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("e814"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5__),_js_message__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("815e");__webpack_exports__["a"]={props:["status"],data:function(){return{indicator:[],indicatortype:"",indicatorval:"",operation:"",operationlist:[],indicatornum:0,indicatornumend:0,indicatordata:"",indicatortime:"",indicatortimerange:[],indicatorselect:[],indicatorselectlist:[],ifedit:!1,indicatorOption:[{label:"最常见",value:"zcj",children:[{label:"已花费",value:"spent|1|已花费|true"},{label:"总花费",value:"lifetime_spent|1|总花费|false"},{label:"频次",value:"frequency|1|频次|true"},{label:"成效",value:"result|1|成效|true"},{label:"单次成效费用",value:"cost_per|1|单次成效费用|true"},{label:"移动应用安装",value:"mobile_app_install|1|移动应用安装|true"},{label:"单次移动应用安装费用",value:"cost_per_mobile_app_install|1|单次移动应用安装费用|true"},{label:"广告花费回报（ROAS）-移动应用购物",value:"mobile_app_purchase_roas|1|广告花费回报（ROAS）-移动应用购物|false"},{label:"广告花费回报（ROAS）-网站购物",value:"website_purchase_roas|1|广告花费回报（ROAS）-网站购物|false"},{label:"单日花费比率",value:"daily_ratio_spent|1|单日花费比率|true"},{label:"总花费比率",value:"lifetime_ratio_spent|1|总花费比率|true"},{label:"受众覆盖%",value:"audience_reached_percentage|1|受众覆盖%|true"}]},{label:"设置",value:"sz",children:[{label:"广告系列名称",value:"campaign.name|2|广告系列名称|true"},{label:"广告组名称",value:"adset.name|2|广告组名称|true"},{label:"版位",value:"adset.placement.page_types|3|版位|false"},{label:"总预算",value:"lifetime_budget|1|总预算|true"},{label:"单日预算",value:"daily_budget|1|单日预算|true"},{label:"竞价金额",value:"bid_amount|1|竞价金额|true"},{label:"付费事件",value:"billing_event|3|付费事件|true"},{label:"优化目标",value:"optimization_goal|3|优化目标|true"}]},{label:"时间",value:"sj",children:[{label:"创建时间（小时）",value:"hours_since_creation|1|创建时间（小时）|false"},{label:"投放时间（秒）",value:"active_time|1|投放时间（秒）|false"},{label:"当前时间",value:"current_time|4|当前时间|false"},{label:"创建时间",value:"created_time|4|创建时间|true"},{label:"上次编辑时间",value:"updated_time|4|上次编辑时间|true"},{label:"开始时间",value:"start_time|4|开始时间|true"}]},{label:"移动应用事件",value:"ydyysj",children:[{label:"所有移动应用事件",value:"app_custom_event|1|所有移动应用事件|true"},{label:"移动应用解锁成就",value:"app_custom_event.fb_mobile_achievement_unlocked|1|移动应用解锁成就|true"},{label:"移动应用会话",value:"app_custom_event.fb_mobile_activate_app|1|移动应用会话|true"},{label:"移动应用添加支付信息",value:"app_custom_event.fb_mobile_add_payment_info|1|移动应用添加支付信息|true"},{label:"移动应用加入购物车",value:"app_custom_event.fb_mobile_add_to_cart|1|移动应用加入购物车|true"},{label:"移动应用加入心愿单",value:"app_custom_event.fb_mobile_add_to_wishlist|1|移动应用加入心愿单|true"},{label:"移动应用完成注册",value:"app_custom_event.fb_mobile_complete_registration|1|移动应用完成注册|true"},{label:"移动应用内容查看",value:"app_custom_event.fb_mobile_content_view|1|移动应用内容查看|true"},{label:"移动应用发起结账",value:"app_custom_event.fb_mobile_initiated_checkout|1|移动应用发起结账|true"},{label:"移动应用关卡完成",value:"app_custom_event.fb_mobile_level_achieved|1|移动应用关卡完成|true"},{label:"移动应用购物",value:"app_custom_event.fb_mobile_purchase|1|移动应用购物|true"},{label:"移动应用提交评分",value:"app_custom_event.fb_mobile_rate|1|移动应用提交评分|true"},{label:"移动应用搜索",value:"app_custom_event.fb_mobile_search|1|移动应用搜索|true"},{label:"移动应用点数花费",value:"app_custom_event.fb_mobile_spent_credits|1|移动应用点数花费|true"},{label:"移动应用完成教程",value:"app_custom_event.fb_mobile_tutorial_completion|1|移动应用完成教程|true"},{label:"移动应用其他操作",value:"app_custom_event.other|1|移动应用其他操作|true"}]},{label:"单次移动应用事件费用",value:"dcydyysjfy",children:[{label:"单次移动应用成就解锁费用",value:"cost_per_mobile_achievement_unlocked|1|单次移动应用成就解锁费用|true"},{label:"单次移动应用会话费用",value:"cost_per_mobile_activate_app|1|单次移动应用会话费用|true"},{label:"单次移动应用添加支付信息费用",value:"cost_per_mobile_add_payment_info|1|单次移动应用添加支付信息费用|true"},{label:"单次移动应用加入购物车费用",value:"cost_per_mobile_add_to_cart|1|单次移动应用加入购物车费用|true"},{label:"单次移动应用加入心愿单费用",value:"cost_per_mobile_add_to_wishlist|1|单次移动应用加入心愿单费用|true"},{label:"单次移动应用完成注册费用",value:"cost_per_mobile_complete_registration|1|单次移动应用完成注册费用|true"},{label:"单次移动应用内容查看费用",value:"cost_per_mobile_content_view|1|单次移动应用内容查看费用|true"},{label:"单次移动应用发起结账费用",value:"cost_per_mobile_initiated_checkout|1|单次移动应用发起结账费用|true"},{label:"单次移动应用关卡完成费用",value:"cost_per_mobile_level_achieved|1|单次移动应用关卡完成费用|true"},{label:"单次移动应用购物费用",value:"cost_per_mobile_purchase|1|单次移动应用购物费用|true"},{label:"单次移动应用提交评分费用",value:"cost_per_mobile_rate|1|单次移动应用提交评分费用|true"},{label:"单次移动应用搜索费用",value:"cost_per_mobile_search|1|单次移动应用搜索费用|true"},{label:"单次移动应用点数花费的广告费用",value:"cost_per_mobile_spent_credits|1|单次移动应用点数花费的广告费用|true"},{label:"单次移动应用完成教程学习费用",value:"cost_per_mobile_tutorial_completion|1|单次移动应用完成教程学习费用|true"}]},{label:"其他",value:"qt",children:[{label:"其他点击费用（链接）",value:"cost_per_link_click|1|其他点击费用（链接）|true"},{label:"链接点击量",value:"link_clicks|1|链接点击量|true"},{label:"千次发展费用",value:"cpm|1|千次发展费用|true"},{label:"点击率（链接）",value:"link_ctr|1|点击率（链接）|true"},{label:"总展示量",value:"lifetime_impressions|1|总展示量|false"},{label:"展示次数",value:"impressions|1|展示次数|true"},{label:"覆盖人数",value:"reach|1|覆盖人数|true"},{label:"潜在客户",value:"leadgen|1|潜在客户|true"},{label:"操作",value:"actions|1|操作|true"},{label:"点击量",value:"clicks|1|点击量|true"},{label:"CPA",value:"cpa|1|CPA|true"},{label:"CPC",value:"cpc|1|CPC|true"},{label:"点击率",value:"ctr|1|点击率|true"},{label:"成效率",value:"result_rate|1|成效率|true"},{label:"单次独立点击费用",value:"cost_per_unique_click|1|单次独立点击费用|true"},{label:"独立用户点击量",value:"unique_clicks|1|独立用户点击量|true"},{label:"今日花费",value:"today_spent|1|今日花费|false"},{label:"昨日花费",value:"yesterday_spent|1|昨日花费|false"},{label:"帖文互动",value:"post_engagement|1|帖文互动|true"},{label:"单次帖文互动",value:"cost_per_post_engagement|1|单次帖文互动|false"},{label:"观看视频达3秒的次数",value:"video_view|1|观看视频达3秒的次数|true"},{label:"单次视频观看费用",value:"cost_per_video_view|1|单次视频观看费用|false"},{label:"主页赞",value:"like|1|主页赞|true"},{label:"站外互动",value:"offsite_engagement|1|站外互动|true"},{label:"帖子",value:"post|1|帖子|true"},{label:"帖子评论",value:"post_comment|1|帖子评论|true"},{label:"帖子获赞",value:"post_like|1|帖子获赞|true"},{label:"帖子心情",value:"post_reaction|1|帖子心情|true"},{label:"内容查看",value:"view_content|1|内容查看|true"},{label:"点击播放视频",value:"video_play|1|点击播放视频|true"},{label:"提问回答",value:"vote|1|提问回答|true"},{label:"新增消息联系人数量",value:"onsite_conversion.messaging_first_reply|1|新增消息联系人数量|true"},{label:"单次新增消息联系人费用",value:"cost_per_messaging_first_reply|1|单次新增消息联系人费用|true"},{label:"消息回复次数",value:"onsite_conversion.messaging_reply|1|消息回复次数|true"},{label:"单次消息回复费用",value:"cost_per_messaging_reply|1|单次消息回复费用|true"},{label:"预估预算花费%",value:"estimated_budget_spending_percentage|1|预估预算花费%|true"}]}]}},methods:{editRuleInit:function(t){var e=this;console.log(t),t.forEach(function(t){for(var a=null,i="",s=0;s<e.indicatorOption.length;s++)if(a=e.indicatorOption[s].children.find(function(e){return e.value.split("|")[0]==t.field}),a){i=e.indicatorOption[s].value;break}a.value.split("|");e.indicator=[i,a.value],e.selectIndicator(),e.operation=e.operationlist.find(function(e){return e.imp==t.operator}).key;var n=e.indicator[1].split("|"),o=e.dollarCheck(n[0]);switch(e.indicatortype){case"1":"1"==e.operation||"2"==e.operation?e.indicatornum=o?t.value/100:t.value:(e.indicatornum=o?t.value[0]/100:t.value[0],e.indicatornumend=o?t.value[1]/100:t.value[1]);break;case"2":e.indicatordata=t.value;break;case"3":e.indicatorselect=t.value;break;case"4":"1"==e.operation||"2"==e.operation?e.indicatortime=new Date(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_2___default()(t.value)):e.indicatortimerange=t.value.map(function(t){return new Date(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_2___default()(t))});break}e.determineSearch("hole")})},editInit:function(t){this.indicator=t.indicator,this.ifedit=!0,this.selectIndicator(),this.operation=t.operation;var e=t.option,a=this.indicator[1].split("|"),i=this.dollarCheck(a[0]);switch(this.indicatortype){case"1":"1"==this.operation||"2"==this.operation?this.indicatornum=i?e.value/100:e.value:(this.indicatornum=i?e.value[0]/100:e.value[0],this.indicatornumend=i?e.value[1]/100:e.value[1]);break;case"2":this.indicatordata=e.value;break;case"3":this.indicatorselect=e.value;break;case"4":"1"==this.operation||"2"==this.operation?this.indicatortime=new Date(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_2___default()(e.value)):this.indicatortimerange=e.value.map(function(t){return new Date(t)});break}},selectIndicator:function(){var t=this.indicator[1].split("|");this.indicatortype=t[1],this.indicatorval=t[0];var e={"adset.placement.page_types":[{name:"Facebook动态（桌面版）",key:"DESKTOPFEED"},{name:"Facebook动态（移动版）",key:"MOBILEFEED"},{name:"Facebook右边栏",key:"RIGHTCOLUMN"},{name:"Instagram动态",key:"INSTAGRAMSTREAM"},{name:"Instagram快拍",key:"INSTAGRAMSTORY"},{name:"Audience Network",key:"MOBILEEXTERNAL"},{name:"Messenger收件箱",key:"MESSENGER_HOME"},{name:"Facebook Marketplace",key:"MOBILE-MARKETPLACE"}],billing_event:[{name:"展示次数",key:"IMPRESSIONS"},{name:"应用安装",key:"APP_INSTALLS"},{name:"点击",key:"CLICKS"},{name:"链接点击量（单次点击费用）",key:"LINK_CLICKS"},{name:"领取优惠",key:"OFFER_CLAIMS"},{name:"主页赞",key:"PAGE_LIKES"},{name:"帖文互动",key:"POST_ENGAGEMENT"},{name:"观看视频达10秒的次数",key:"VIDEO_VIEWS"}],optimization_goal:[{name:"应用安装量",key:"APP_INSTALLS"},{name:"品牌知名度",key:"BRAND_AWARENESS"},{name:"广告点击量",key:"CLICKS"},{name:"互动用户",key:"ENGAGED_USERS"},{name:"FBX使用率",key:"EXTERNAL"},{name:"活动响应",key:"EVENT_RESPONSES"},{name:"展示次数",key:"IMPRESSIONS"},{name:"开发潜在客户",key:"LEAD_GENERATION"},{name:"链接点击量",key:"LINK_CLICKS"},{name:"优惠领取",key:"OFFER_CLAIMS"},{name:"转化量",key:"OFFSITE_CONVERSIONS"},{name:"主页互动",key:"PAGE_ENGAGEMENT"},{name:"主页赞",key:"PAGE_LIKES"},{name:"帖文互动",key:"POST_ENGAGEMENT"},{name:"单日独立覆盖人数",key:"REACH"},{name:"回复次数",key:"REPLIES"},{name:"社交展示次数",key:"SOCIAL_IMPRESSIONS"},{name:"观看视频达10秒的次数",key:"VIDEO_VIEWS"}]};switch(this.indicatortype){case"1":this.operationlist=[{name:"大于",key:"1",imp:"GREATER_THAN"},{name:"小于",key:"2",imp:"LESS_THAN"},{name:"介于",key:"3",imp:"IN_RANGE"},{name:"不介于",key:"4",imp:"NOT_IN_RANGE"}];break;case"2":this.operationlist=[{name:"包含",key:"1",imp:"CONTAIN"},{name:"不包含",key:"2",imp:"NOT_CONTAIN"}];break;case"3":"adset.placement.page_types"==this.indicatorval?this.operationlist=[{name:"包含任意",key:"1",imp:"ANY"},{name:"包含所有",key:"2",imp:"ALL"},{name:"不包含",key:"3",imp:"NONE"}]:this.operationlist=[{name:"是",key:"1",imp:"IN"},{name:"不是",key:"2",imp:"NOT_IN"}],this.indicatorselectlist=e[this.indicatorval];break;case"4":this.operationlist=[{name:"大于",key:"1",imp:"GREATER_THAN"},{name:"小于",key:"2",imp:"LESS_THAN"},{name:"介于",key:"3",imp:"IN_RANGE"},{name:"不介于",key:"4",imp:"NOT_IN_RANGE"}];break}this.operation="1",this.indicatorselect=[]},dataCheck:function(){if(0==this.indicator.length)return[!1,"请选择指标名称"];if(""==this.operation)return[!1,"请选择运算"];switch(this.indicatortype){case"2":if(""==this.indicatordata)return[!1,"请填写内容"];break;case"3":if(""==this.indicatorselect)return[!1,"请选择内容"];break;case"4":if("1"==this.operation||"2"==this.operation){if(""==this.indicatortime)return[!1,"请选择日期"]}else if(!this.indicatortimerange||2!=this.indicatortimerange.length)return[!1,"请选择日期"];break}return[!0]},dollarCheck:function(t){return-1==t.indexOf("ratio")&&(-1!=t.indexOf("amount")||-1!=t.indexOf("cost")||-1!=t.indexOf("budget")||-1!=t.indexOf("spent")||-1!=t.indexOf("cpm")||-1!=t.indexOf("cpc")||-1!=t.indexOf("cpa"))},determineSearch:function determineSearch(frm){var _this2=this,check=this.dataCheck();if(check[0]){var val,indicator=this.indicator[1].split("|"),key=indicator[0],compare=this.operationlist.find(function(t){return t.key==_this2.operation}),name="".concat(indicator[2]).concat(compare.name),trigger=eval(indicator[3]),ifdollar=this.dollarCheck(indicator[0]);switch(this.indicatortype){case"1":"1"==this.operation||"2"==this.operation?(val=ifdollar?100*this.indicatornum:this.indicatornum,name+=(ifdollar?"$":"")+this.indicatornum):(val=[ifdollar?100*this.indicatornum:this.indicatornum,ifdollar?100*this.indicatornumend:this.indicatornumend],name+=(ifdollar?"$":"")+this.indicatornum+"和"+(ifdollar?"$":"")+this.indicatornumend);break;case"2":val=this.indicatordata,name+=this.indicatordata;break;case"3":val=this.indicatorselect;var indicatorselectname=this.indicatorselect.map(function(t){return _this2.indicatorselectlist.find(function(e){return e.key==t}).name});name+=indicatorselectname.join(",");break;case"4":"1"==this.operation||"2"==this.operation?(val=new Date(this.indicatortime).getTime().toString(),name+=this.$timeFormat(this.indicatortime,"yyyy-MM-dd HH:mm:ss")):(val=this.indicatortimerange.map(function(t){return new Date(t).getTime().toString()}),name+=this.$timeFormat(this.indicatortimerange[0],"yyyy-MM-dd HH:mm:ss")+"和"+this.$timeFormat(this.indicatortimerange[1],"yyyy-MM-dd HH:mm:ss"));break}var option={field:key,value:val,operator:compare.imp};this.$emit("returnCondition",{name:name,key:key,option:option,trigger:trigger,indicator:this.indicator,operation:this.operation}),this.ifedit=!1,"hole"==frm?this.reset():this.cancelSearch()}else Object(_js_message__WEBPACK_IMPORTED_MODULE_6__["g"])(check[1])},cancelSearch:function(){this.$emit("update:status",!1),this.ifedit&&this.$emit("cancelCondition"),this.reset()},reset:function(){this.indicator=[],this.indicatortype="",this.indicatorval="",this.operation="",this.operationlist=[],this.indicatornum=0,this.indicatornumend=0,this.indicatordata="",this.indicatortime="",this.indicatortimerange=[],this.indicatorselect=[],this.indicatorselectlist=[],this.ifedit=!1},selectOperation:function(){}}}},"922a":function(t,e,a){"use strict";var i=a("5808"),s=a.n(i);s.a},9341:function(t,e,a){"use strict";var i=a("7d55"),s=a.n(i);s.a},"938a":function(t,e,a){},"94bb":function(t,e,a){},"961b":function(t,e,a){"use strict";var i=a("2371"),s=a.n(i);s.a},9646:function(t,e,a){},"970b":function(t,e,a){"use strict";var i=a("228f"),s=a.n(i);s.a},"97bb":function(t,e,a){},"97c3":function(t,e,a){},"98ee":function(t,e,a){"use strict";var i=a("8284"),s=a.n(i);s.a},"990c":function(t,e,a){},"9a66":function(t,e,a){"use strict";var i=a("b8e2"),s=a.n(i);s.a},"9d1d":function(t,e,a){"use strict";var i=a("5dc1"),s=a.n(i);s.a},"9d24":function(t,e,a){"use strict";a("3b2b"),a("a481"),a("ac6a"),a("28a5"),a("386d"),a("4917");e["a"]={getSearch:function(t,e){var a=e?e.match(/(?:\?)[^\#]*?(?=[\?|\#])/g)[0].substr(1):location.search.substr(1);if(!a)return"";var i=a.split("&"),s={};return i.forEach(function(t,e){var a=t.split("=");s[a[0]]=a[1]}),s[t]?s[t]:""},timeFormat:function(t,e){if(!t)return"";var a=new Date;a.setTime(t);var i=a.getFullYear(),s=e||"yyyy-MM-dd HH:mm:ss",n={M:a.getMonth()+1,d:a.getDate(),H:a.getHours(),m:a.getMinutes(),s:a.getSeconds()};for(var o in/(y+)/.test(s)&&(s=s.replace(RegExp.$1,i)),n)new RegExp("("+o+"+)").test(s)&&(s=s.replace(RegExp.$1,1===RegExp.$1.length?n[o]:("00"+n[o]).substring((""+n[o]).length)));return s},exportHTML:function(t,e,a,i){var s={xls:"application/vnd.ms-excel",csv:"text/csv"},n=a||document.getElementById(t).outerHTML,o=e||"数据",r=i||"xls",c='<html><head><meta charset="UTF-8"></head><body>'.concat(n,"</body></html>"),l=new Blob([c],{type:s[r]}),u=document.createElement("a");u.href=URL.createObjectURL(l),u.download="".concat(o,".").concat(r),u.click()},exportEXCEL:function(t,e,a,i){var s={xls:"application/vnd.ms-excel",csv:"text/csv"},n=a||document.getElementById(t).outerHTML,o=e||"数据",r=i||"xls",c="".concat(n),l=new Blob([c],{type:s[r]}),u=document.createElement("a");u.href=URL.createObjectURL(l),u.download="".concat(o,".").concat(r),u.click()},transFormdata:function(t,e,a){return Array,e}}},"9db4":function(t,e,a){},a264:function(t,e,a){},a28d:function(t,e,a){},a2f2:function(t,e,a){},a3db:function(t,e,a){"use strict";var i=a("03f1"),s=a.n(i);s.a},a47b:function(t,e,a){},a614:function(t,e,a){"use strict";var i=a("a624"),s=a.n(i);s.a},a624:function(t,e,a){},a627:function(t,e,a){},a694:function(t,e,a){},a905:function(t,e,a){},ac22:function(t,e,a){},adcf:function(t,e,a){"use strict";var i=a("3a43"),s=a.n(i);s.a},aec0:function(t,e,a){"use strict";var i=a("3849"),s=a.n(i);s.a},afc0:function(t,e,a){"use strict";var i=a("66ab"),s=a.n(i);s.a},b001:function(t,e,a){"use strict";var i=a("a694"),s=a.n(i);s.a},b30b:function(t,e,a){},b407:function(t,e,a){"use strict";var i=a("6eac"),s=a.n(i);s.a},b4e7:function(t,e,a){},b6eb:function(t,e,a){},b6f0:function(t,e,a){},b792:function(t,e,a){},b83c:function(t,e,a){},b8e2:function(t,e,a){},bb65:function(t,e,a){"use strict";var i=a("1dd2"),s=a.n(i);s.a},bde9:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),n=a("21a1"),o=a.n(n),r=new s.a({id:"icon-Facebook",use:"icon-Facebook-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-Facebook"><defs><style type="text/css"></style></defs><path d="M967.601349 1024c31.076808 0 56.398651-25.321843 56.398651-56.398651V56.398651c0-31.076808-25.321843-56.398651-56.398651-56.398651H56.398651C25.321843 0 0 25.321843 0 56.398651v910.819034c0 31.076808 25.321843 56.398651 56.398651 56.398651h911.202698z" fill="#3C5A99" p-id="2525" /><path d="M706.709629 1024V627.29112h133.13151l19.950543-154.61671h-153.082053V374.072686c0-44.888722 12.277257-75.198202 76.732859-75.198201h81.720494v-138.119146c-14.195579-1.918321-62.920944-6.138629-119.319595-6.138629-118.168602 0-198.738104 72.128887-198.738104 204.109405v113.948295h-133.515174v154.61671h133.515174v396.70888h159.604346z" fill="#FFFFFF" p-id="2526" /></symbol>'});o.a.add(r);e["default"]=r},be39:function(t,e,a){},be7e:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),n=a("21a1"),o=a.n(n),r=new s.a({id:"icon-turn",use:"icon-turn-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-turn"><defs><style type="text/css"></style></defs><path d="M941.728 137.152C941.728 122.304 932.576 109.152 919.456 103.424 905.728 97.728 889.728 100.576 879.456 111.424L805.152 185.152C724.576 109.152 615.456 64 502.88 64 261.152 64 64 261.152 64 502.88 64 744.576 261.152 941.728 502.88 941.728 633.728 941.728 757.152 884 840.576 783.424 846.304 776 846.304 765.152 839.456 758.88L761.152 680C757.152 676.576 752 674.88 746.88 674.88 741.728 675.424 736.576 677.728 733.728 681.728 677.728 754.304 593.728 795.424 502.88 795.424 341.728 795.424 210.304 664 210.304 502.88 210.304 341.728 341.728 210.304 502.88 210.304 577.728 210.304 648.576 238.88 702.304 288.576L623.456 367.424C612.576 377.728 609.728 393.728 615.456 406.88 621.152 420.576 634.304 429.728 649.152 429.728L905.152 429.728C925.152 429.728 941.728 413.152 941.728 393.152L941.728 137.152Z" p-id="21532" fill="#fff" /></symbol>'});o.a.add(r);e["default"]=r},be9b:function(t,e,a){"use strict";var i=a("3784"),s=a.n(i);s.a},bef5:function(t,e,a){"use strict";var i=a("795b"),s=a.n(i),n=a("d225"),o=a("b0b4"),r=a("bc3a"),c=a.n(r),l=a("815e"),u=a("77d2"),d=a("5c96"),m=function(){function t(){return Object(n["a"])(this,t),this.axios=c.a.create({baseURL:u["a"]["production"].BASE_URL,timeout:6e4,headers:{"X-Token":localStorage.getItem("atom_token")},loadDom:""}),this.load,this.init(),this.axios}return Object(o["a"])(t,[{key:"init",value:function(){var t=this;this.axios.interceptors.request.use(function(e){if(e.loadDom||e.fullScreen){var a=document.getElementById(e.loadDom);t.load=d["Loading"].service({target:a,fullscreen:e.fullScreen})}return e}),this.axios.interceptors.response.use(function(e){t.load&&t.load.close();var a=e.data;return a.code&&0!=a.code?(Object(l["a"])(a.msg),1e3===a.code&&(location.href="/login.html"),s.a.reject("error")):a})}}]),t}();e["a"]=m},bf68:function(t,e,a){},bf98:function(t,e,a){"use strict";var i=a("938a"),s=a.n(i);s.a},bf9b:function(t,e,a){"use strict";var i=a("4eb4"),s=a.n(i);s.a},c03a:function(t,e,a){"use strict";var i=a("2092"),s=a.n(i);s.a},c09e:function(t,e,a){"use strict";var i=a("e69e"),s=a.n(i);s.a},c0e6:function(t,e,a){},c11b:function(t,e,a){"use strict";var i=a("308d"),s=a("4e2b"),n=a("6bb5"),o=a("2a88"),r=a("013f"),c=a("d225"),l=a("b0b4"),u=a("bd86"),d=a("dd46"),m=function(){function t(){Object(c["a"])(this,t),Object(u["a"])(this,"timeout",6e4),Object(u["a"])(this,"heartRun",null),Object(u["a"])(this,"callback",null)}return Object(l["a"])(t,[{key:"set",value:function(t,e){this[t]=e}},{key:"reset",value:function(){clearTimeout(this.heartRun),this.start()}},{key:"start",value:function(){var t=this;this.heartRun=setTimeout(function(){t.callback&&t.callback()},this.timeout)}}]),t}(),p=function(t){function e(t){var a;return Object(c["a"])(this,e),a=Object(i["a"])(this,Object(n["a"])(e).call(this)),Object(u["a"])(Object(r["a"])(Object(r["a"])(a)),"socket",null),Object(u["a"])(Object(r["a"])(Object(r["a"])(a)),"url",d["a"].messageCountWebsocket),Object(u["a"])(Object(r["a"])(Object(r["a"])(a)),"connectRock",!1),Object(u["a"])(Object(r["a"])(Object(r["a"])(a)),"onMessage",null),Object(o["a"])(Object(n["a"])(e.prototype),"set",Object(r["a"])(a)).call(Object(r["a"])(a),"callback",a.sendInfo),a.onMessage=t.onMessage,a.connect(),a}return Object(s["a"])(e,t),Object(l["a"])(e,[{key:"connect",value:function(){try{this.socket=new WebSocket("".concat(this.url).concat(localStorage.getItem("atom_id"))),this.init()}catch(t){console.log(t)}}},{key:"init",value:function(){var t=this;this.socket.onopen=function(){Object(o["a"])(Object(n["a"])(e.prototype),"start",t).call(t)},this.socket.onmessage=function(a){Object(o["a"])(Object(n["a"])(e.prototype),"reset",t).call(t),t.onMessage&&"heart beat"!=a&&t.onMessage(a)},this.socket.onerror=function(e){t.reConnect("error")},this.socket.onclose=function(e){console.log("websocket 断开: "+e.code+" "+e.reason+" "+e.wasClean),t.reConnect("close")}}},{key:"sendInfo",value:function(){try{1==this.socket.readyState&&this.socket.send("heart beat")}catch(t){console.log(t)}}},{key:"reConnect",value:function(t){var e=this;this.connectRock||(this.connectRock=!0,setTimeout(function(){e.connectRock=!1,e.connect()},6e3))}}]),e}(m);e["a"]=p},c194:function(t,e,a){},c1fc:function(t,e,a){},c2c5:function(t,e,a){},c2e4:function(t,e,a){},c36b:function(t,e,a){"use strict";var i=a("94bb"),s=a.n(i);s.a},c469:function(t,e,a){},c568:function(t,e,a){"use strict";var i=a("320f"),s=a.n(i);s.a},c695:function(t,e,a){},c8ed:function(t,e,a){"use strict";var i=a("8345"),s=a.n(i);s.a},cb07:function(t,e,a){},cbcc:function(t,e,a){"use strict";var i=a("817a"),s=a.n(i);s.a},cc3e:function(t,e,a){"use strict";var i=a("5b17"),s=a.n(i);s.a},cc7d:function(t,e,a){"use strict";var i=a("2576"),s=a.n(i);s.a},cf79:function(t,e,a){},d008:function(t,e,a){"use strict";var i=a("7138"),s=a.n(i);s.a},d01b:function(t,e,a){},d1c0:function(t,e,a){},d1cf:function(t,e,a){var i={"./Facebook.svg":"bde9","./right.svg":"6e05","./save.svg":"e2c2","./turn.svg":"be7e","./user.svg":"ea8f","./wrong.svg":"e811"};function s(t){var e=n(t);return a(e)}function n(t){var e=i[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id="d1cf"},d21f:function(t,e,a){},d2c4:function(t,e,a){"use strict";var i=a("0203"),s=a.n(i);s.a},d2cd:function(t,e,a){},d3a6:function(t,e,a){},d3e0:function(t,e,a){"use strict";a("7f7f");e["a"]={bidGuide:function(t,e){return{tooltip:{trigger:"axis",formatter:function(t){var e='<p style="color: #fff;">价位：$'+t[0].name+"</p>";return e+='<p style="color: #fff;">'+t[0].seriesName+"："+("CPI"==t[0].seriesName||"花费"==t[0].seriesName?"$":"")+t[0].data+"</p>",e},textStyle:{color:"#fff"}},legend:{bottom:"0",show:!1},xAxis:{type:"category",data:t,axisTick:{show:!1},axisLabel:{show:!1},axisPointer:{type:"shadow"}},grid:{left:"20px",right:"20px",top:"25px",bottom:"33px"},yAxis:{type:"value",name:"",splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}},color:["#409eff","#94a6e7","#b3cef9","#dbe4ff","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],series:e}},triggerCharts:function(t,e,a,i,s,n){return{tooltip:{trigger:"axis",formatter:"{b0}<br/>{a0}: {c0}<br/>{a1}: {c1}%",axisPointer:{type:"cross",crossStyle:{color:"#999"},label:{show:!1}}},legend:{bottom:"0"},xAxis:{type:"category",data:t,axisPointer:{type:"shadow"}},yAxis:[{type:"value",name:"规则触发数",min:0,max:a,interval:i},{type:"value",name:"触发广告占比",min:0,max:s,interval:n,axisLabel:{formatter:function(t){return"".concat(t.toFixed(3),"%")}}}],color:["#3758d3","#94a6e7","#b3cef9","#dbe4ff","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],series:e}},regularPie:function(t,e,a){return{title:{show:!1,textStyle:{fontSize:14},left:"70px"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{top:"260px",itemWidth:10,itemHeight:10,formatter:function(t){return t.length>12?t.substr(0,11)+"...":t},data:t},grid:{left:"0px",top:0},color:["#3758d3","#617bdc","#94a6e7","#b3cef9","#dbe4ff","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],series:[{name:a,type:"pie",center:["50%","135"],radius:[0,"90%"],label:{normal:{show:!1,position:"center"}},labelLine:{normal:{show:!1}},data:e}]}},pie:function(t,e,a){return{title:{show:!1,textStyle:{fontSize:14},left:"70px"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",right:"10px",bottom:"10px",itemWidth:10,itemHeight:10,formatter:function(t){return t.length>12?t.substr(0,11)+"...":t},data:t},grid:{left:"0px",top:0},color:["#3758d3","#617bdc","#94a6e7","#b3cef9","#dbe4ff","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],series:[{name:a,type:"pie",center:["35%","50%"],radius:[0,"90%"],label:{normal:{show:!1,position:"center"}},labelLine:{normal:{show:!1}},data:e}]}},appChart:function(t,e){return{title:{text:""},tooltip:{trigger:"axis"},legend:{bottom:0},grid:{left:"3%",right:"4%",top:"40px",bottom:"40px",containLabel:!0},toolbox:{show:!1,feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:t},yAxis:{type:"value"},color:["#1796eb","#01c857","#f44446"],series:e}}}},d451:function(t,e,a){},d466:function(t,e,a){},d5a0:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_values__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("db0c"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_values__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_values__WEBPACK_IMPORTED_MODULE_2__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_set__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("b6d0"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_set__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_set__WEBPACK_IMPORTED_MODULE_3__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("f499"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_5__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("cebc"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("5176"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_7__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("59ad"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_9__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("e814"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("75fc"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_12__),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("a745"),_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_14__),_js_charts__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("d3e0"),_js_common__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("9d24"),_js_message__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("815e");__webpack_exports__["a"]={SENDPERMISSION:function(t,e){switch(console.log(e),e){case"granted":var a=new Notification("我是推送君",{body:"我是文本君",icon:"https://avatars3.githubusercontent.com/u/43479428?v=4"});a.onclick=function(){console.log("推送君已关闭"),a.close()};break;case"denied":break;case"default":break}},ITEMLIST:function(t,e){var a=e.data;t.itemlist=a},PASSWORD:function(t,e){e.msg;Object(_js_message__WEBPACK_IMPORTED_MODULE_17__["f"])("密码修改成功, 请重新登录")},LOGOUT:function(t){location.href="/login.html",localStorage.removeItem("atom_token")},SETSTATE:function(t,e){var a=e.k,i=e.v;t[a]=i},SETOBJSTATE:function(t,e){var a=e.obj,i=e.name,s=e.v;t[a][i]=s},MESSAGECOUNT:function MESSAGECOUNT(state,r){switch(!0){case"99+"!=r.data&&_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_13___default()(eval(r.data)):var result=eval(r.data),successtask=result[0].success,failtask=result[0].fail,totaltask=result[0].completed,taskname=result[0].taskName,requestId=result[0].requestId;0==failtask?Object(_js_message__WEBPACK_IMPORTED_MODULE_17__["d"])("成功","".concat(successtask,"项").concat(taskname,"成功")):(state.taskfail=failtask,state.tasksuccess=successtask,state.taskname=taskname,Object(_js_message__WEBPACK_IMPORTED_MODULE_17__["e"])("警告","".concat(failtask,"项").concat(taskname,"失败，").concat(successtask,'项成功，<span style="color:#409eff;cursor:pointer;">点击查看详情</span>'),function(){state.jobfailkey=requestId,state.jobfaildetail=!0,state.taskfaildetail=failtask,state.tasksuccessdetail=successtask,state.tasknamedetail=taskname}));break;default:state.messagecount=r.data;break}},VIDEOURL:function(t,e){var a=e.r,i=e.originurl;t.videoerrmsg=[],t.videoresult=[];for(var s=a.data,n=0;n<i.length;n++)""!==i[n].trim()?s[n].errMsg?t.videoerrmsg.push({result:s[n].errMsg,status:!1}):(t.videoerrmsg.push({result:s[n].url,status:!0}),t.videoresult.push(s[n].url)):(t.videoerrmsg.push({result:"",status:!1}),s.splice(n,0,""))},APPCOUNT:function(t,e){t.appcount=e.data?e.data.length:0},PAYCOUNT:function(t,e){t.paycountlist=e.data,t.paycount=e.data.length},INFO:function(t,e){t.reportAppDataList=e.data.reportAppDataList,t.appInstallsLists=e.data.appInstallsLists?e.data.appInstallsLists:[];var a=e.data.appInstallsLists?e.data.appInstallsLists:[],i=[],s=[];a.forEach(function(t){var e={};e.name=t.appName,e.value=t.installsNum,i.push(e),s.push(e.name)}),myChart2.setOption(_js_charts__WEBPACK_IMPORTED_MODULE_15__["a"].pie(s,i,"各APP安装比例")),t.appSpendDatasLists=e.data.appSpendDatasLists?e.data.appSpendDatasLists:[];var n=e.data.appSpendDatasLists?e.data.appSpendDatasLists:[],o=[],r=[];n.forEach(function(t){var e={};e.name=t.appName,e.value=t.spend,o.push(e),r.push(e.name)}),myChart3.setOption(_js_charts__WEBPACK_IMPORTED_MODULE_15__["a"].pie(r,o,"各APP花费比例")),t.todayInstallsNum=e.data.todayInstallsNum,t.todaySpend=e.data.todaySpend},APPINFO:function(t,e){var a=e.data.pageInfoAll.list,i=[],s=[],n={name:"安装",type:"line",smooth:!0,stack:"",data:[]},o={name:"花费",type:"line",smooth:!0,stack:"",data:[]},r={name:"CPI",type:"line",smooth:!0,stack:"",data:[]};a.forEach(function(t){var e={};e.name=t.appName,e.value=t.installsNum,n.data.push(t.installsNum),o.data.push(t.spend),r.data.push(t.cpi),s.push(_js_common__WEBPACK_IMPORTED_MODULE_16__["a"].timeFormat(t.insightDate,"yyyy-MM-dd"))}),i.push(n,o,r),myChart.setOption(_js_charts__WEBPACK_IMPORTED_MODULE_15__["a"].appChart(s,i))},APPINFOTABLE:function(t,e){t.appdatatotal=e.data.pageInfoAll.total,t.countryfilter=e.data.countryList.length>0?e.data.countryList:[""],e.data.pageInfoAll.list.forEach(function(t){t.afReRate1=t.afReRate1?t.afReRate1+"%":"",t.afReRate2=t.afReRate2?t.afReRate2+"%":"",t.afReRate3=t.afReRate3?t.afReRate3+"%":"",t.afReRate4=t.afReRate4?t.afReRate4+"%":"",t.afReRate5=t.afReRate5?t.afReRate5+"%":"",t.afReRate6=t.afReRate6?t.afReRate6+"%":"",t.afReRate7=t.afReRate7?t.afReRate7+"%":"",t.appEventsList.forEach(function(e){t["".concat(e.eventsName,"|eventCounter")]=e.eventCounter,t["".concat(e.eventsName,"|uniqueUsers")]=e.uniqueUsers,t["".concat(e.eventsName,"|salesIn")]=e.salesIn})}),t.appdata=e.data.pageInfoAll.list},APPINFOTABLETOTAL:function(t,e){t.appcpitotal=e.data,t.appcpitotal["2d_rr_user|uniqueUsers"]=t.appcpitotal["afUniqueUsers"]},APPINFOTABLEOUT:function(t,e){var a=e.res,i=e.name;t.appdataall=a.data.pageInfoAll.list,t.appdataall.forEach(function(t){t.appEventsList.forEach(function(e){t["".concat(e.eventsName,"|eventCounter")]=e.eventCounter,t["".concat(e.eventsName,"|uniqueUsers")]=e.uniqueUsers,t["".concat(e.eventsName,"|salesIn")]=e.salesIn}),t.gap=t.gap<0?(100*t.gap).toFixed(2):"+"+(100*t.gap).toFixed(2)});var s=localStorage.getItem(pandectOptionLS.new)&&JSON.parse(localStorage.getItem(pandectOptionLS.new))[t.appdataappid]?JSON.parse(localStorage.getItem(pandectOptionLS.new))[t.appdataappid]:[{name:"触达",key:"reachNum",checked:!0},{name:"展示",key:"showNum",checked:!0},{name:"点击",key:"clicksNum",checked:!0},{name:"CTR",key:"ctr",checked:!0},{name:"CVR",key:"cvr",checked:!0},{name:"CPM",key:"cpm",checked:!0},{name:"CPC",key:"cpc",checked:!0},{name:"安装",key:"installsNum",checked:!0},{name:"花费",key:"spend",checked:!0},{name:"CPI",key:"cpi",checked:!0}],n=[{name:"日期",key:"insightDateFormat"},{name:"国家",key:"country"},{name:"平台",key:"userOs"}].concat(Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_11__["a"])(s)),o="<table><thead><tr>";n.forEach(function(t){o+="<th>".concat(t.name,"</th>")}),o+="</tr></thead><tbody>";for(var r=function(e){o+="<tr>",n.forEach(function(a){"insightDateFormat"==a.key?o+="<td>".concat(_js_common__WEBPACK_IMPORTED_MODULE_16__["a"].timeFormat(t.appdataall[e]["insightDate"],"yyyy-MM-dd"),"</td>"):o+="<td>".concat(t.appdataall[e][a.key]?t.appdataall[e][a.key]:"--","</td>")}),o+="</tr>"},c=0;c<t.appdataall.length;c++)r(c);o+="</tbody></table>",_js_common__WEBPACK_IMPORTED_MODULE_16__["a"].exportHTML("outOther",i,o)},CUSTOMEVENT:function(t,e){t.customevent=[],t.customunit=e.data.eventsunit,e.data.eventsNameList.forEach(function(e){var a={};a.name=e,a.checked1=!1,a.checked2=!1,a.checked3=!1,t.customevent.push(a)})},BMLIST:function(t,e){var a=e.data;t.bmlist=a,t.getbmover=!0,t.disbmid=t.bmlist[0].bmId},ADDBMLIST:function(t,e){var a=e.data;t.addbmlist=a},SAVEBM:function(t,e){t.bmlist=t.bmlist.concat(e),e.forEach(function(e){t.addbmlist=t.addbmlist.filter(function(t){return t.id!=e.bmId})})},SETACCOUNT:function(t,e){t.disaccount=e.data.list,t.accounttotal=e.data.total},ADDACCOUNT:function(t,e){t.disaddaccount=e.data},SAVEACCOUNT:function(t,e){t.disaccount=t.disaccount.concat(e),t.addata[t.disbmid]=t.addata[t.disbmid].concat(e),e.forEach(function(e){t.disaddaccount=t.disaddaccount.filter(function(t){return t.account_id!=e.fbAccountId}),t.adaccount[t.disbmid]=t.adaccount[t.disbmid].filter(function(t){return t.account_id!=e.fbAccountId})})},SETPAGE:function(t,e){t.dispage=e.data.list,t.pagetotal=e.data.total},ADDPAGE:function(t,e){t.disaddpage=e.data,t.disaddpage.forEach(function(t){t.checked=!1})},SAVEPAGE:function(t,e){t.dispage=t.dispage.concat(e),t.pagedata[t.disbmid]=t.pagedata[t.disbmid].concat(e),e.forEach(function(e){t.disaddpage=t.disaddpage.filter(function(t){return t.pageId!=e.pageId}),t.pageaccount[t.disbmid]=t.pageaccount[t.disbmid].filter(function(t){return t.pageId!=e.pageId})})},SETAPPLIST:function(t,e){t.applist=e.data},ADDAPP:function(t,e){t.addapplist=e.data},SETAPP:function(t,e){t.setapplist=e.data,t.setapplist.forEach(function(t){t.stateName="已启用"})},CANSETAPP:function(t,e){t.cansetapplist=e.data},MANAGELIST:function(t,e){t.managelist=e.data.list,t.total=e.data.total,t.pagesize=e.data.pageSize},MANAGEAPPLIST:function(t,e){t.manageapplist=e.data},RULES:function(t,e){t.rulelist=e.data},RULEACCOUNT:function(t,e){var a=e.data;a.unshift({name:"不限",fbAccountId:"-1",fbId:"-1"}),t.ruleapp=a},OPTIMIZEACCOUNT:function(t,e){t.optimizeaccount=e.data},OPTIMIZELIST:function(t,e){t.optotal=e.data.count,t.optimizelist=e.data.list},EXECUTELIST:function(t,e){t.executelist=e.data},OPTIMIZEDETAIL:function(t,e){t.optimizedetail=e.data},CREATE:function CREATE(state,r){state.createlist=r.data.list,state.crtotal=r.data.total,state.crpagesize=r.data.pageSize,state.createchecked=[],state.createlist.forEach(function(v){state.createchecked.push(!1),v.imageUrl&&(v.img=eval("("+v.imageUrl+")").imageUrl),v.videoUrl&&(v.video=eval("("+v.videoUrl+")").videoUrl),v.card&&(v.card=eval("("+v.card+")"))})},ALLSELECT:function(t){var e=[];t.createchecked.filter(function(t){return!t}).length>0?t.createchecked.forEach(function(t){e.push(!0)}):t.createchecked.forEach(function(t){e.push(!1)}),t.createchecked=e.slice(0)},CLASSIFY:function(t,e){t.classify=e.data,t.classify.unshift("不限")},COUNTRIES:function(t,e){t.countries=e.data,t.countries.unshift("不限")},ALLPAGES:function(t,e){t.allpagelist=e.data},ALLACTIONS:function(t,e){e.data.forEach(function(t){t.value=t.name}),t.allactions=e.data.filter(function(t){return t.show})},SYNCTIME:function(t,e){t.synctime=e.data<60?"".concat(e.data,"秒"):"".concat(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10___default()(e.data/60),"分").concat(e.data%60,"秒")},SYNCLIST:function SYNCLIST(state,r){state.synclist=r.data.list?r.data.list:[],state.synctotal=r.data.total,state.synclist.forEach(function(v){v.img=eval("("+v.imageUrl+")").imageUrl})},OTHERCOUNTRIES:function(t,e){t.othercountries=e.data,t.othercountries.forEach(function(t){t.value=t.name})},LANGUAGE:function(t,e){t.language=e.data},INTERESTS:function(t,e){t.interests=e.data},PLATFORM:function(t,e){t.platform=e.data.applicationPlatforms,t.platform.unshift({marketType:"不限"})},CREATEPLATFORM:function(t,e){t.createplatform=e.data.applicationPlatforms},SYSTEM:function(t,e){t.system=e.data},SELECTCREATE:function(t,e){var a=t.createlist.find(function(t){return t.id==e});t.createlist=t.createlist.filter(function(t){return t.id!=e}),t.selectcreate.push(a)},CANCELCREATE:function(t,e){var a=t.selectcreate.find(function(t){return t.id==e});t.selectcreate=t.selectcreate.filter(function(t){return t.id!=e}),t.createlist.push(a)},PLANLIST:function(t,e){t.planlist=e.data.list,t.pltotal=e.data.total,t.plpagesize=e.data.pageSize},PLANCOUNTRY:function(t,e){t.plancountry=e.data,t.plancountry.unshift({name:"不限",code:"不限"})},INUSECREATE:function INUSECREATE(state,r){state.inusecreate=r.data.list,state.inusetotal=r.data.total,state.inusecreate.forEach(function(v){switch(v.creativityType){case 0:v.creativityTypeName="单图片";break;case 1:v.creativityTypeName="单视频";break;case 2:v.creativityTypeName="轮播";break}v.imageUrl&&(v.img=eval("("+v.imageUrl+")").imageUrl),v.videoUrl&&(v.video=eval("("+v.videoUrl+")").videoUrl)})},NOUSECREATE:function NOUSECREATE(state,r){state.nousecreate=r.data.list,state.nousetotal=r.data.total,state.nousecreate.forEach(function(v){switch(v.creativityType){case 0:v.creativityTypeName="单图片";break;case 1:v.creativityTypeName="单视频";break;case 2:v.creativityTypeName="轮播";break}v.imageUrl&&(v.img=eval("("+v.imageUrl+")").imageUrl),v.videoUrl&&(v.video=eval("("+v.videoUrl+")").videoUrl)})},ACCOUNTLIST:function(t,e){t.inuseaccount=e.data.usedAdaccounts,t.nouseaccount=e.data.notUsedAdaccounts},LOGLIST:function(t,e){t.loglist=e.data.slice(0,20)},LOGDETAIL:function(t,e){t.logdetail=e.data,t.logdetail.forEach(function(t){t.campaignDetail.createSuccess>0||t.campaignDetail.createFailed>0?t.statuskey1=!0:t.statuskey1=!1,t.adsetDetail.createSuccess>0||t.adsetDetail.createFailed>0?t.statuskey2=!0:t.statuskey2=!1,t.adDetail.createSuccess>0||t.adDetail.createFailed>0?t.statuskey3=!0:t.statuskey3=!1})},LOGCREATEFAIL:function(t){t.ifadcreate=!1},LOGCREATE:function(t,e){var a=e.res,i=e.option;t.logdetailid=a.data.planCreateLogId,t.logdetailname=i.campaignName},CREARENUM:function(t,e){t.logcreatecreative=e.data.creativeNum,t.logcreateaccount=e.data.adaccountNum,t.logcreateset=e.data.onlyCampaignAdsetNum,t.logcreatecampaign=e.data.campaignNum},CREATEINFO:function(t,e){var a=e.data.includeAudiences?JSON.parse(e.data.includeAudiences):{},i=e.data.excludedAudiences?JSON.parse(e.data.excludedAudiences):{};e.data.included=[];var s=function(t){a[t].forEach(function(a){e.data.included.push("".concat(a,"|").concat(t))})};for(var n in a)s(n);e.data.excluded=[];var o=function(t){i[t].forEach(function(a){e.data.excluded.push("".concat(a,"|").concat(t))})};for(var r in i)o(r);t.createinfo=e.data,t.disinfo.push(e.data)},RESETEDIT:function(t,e){t.disinfo.splice(0)},GENERTARGET:function(t,e){var a=e.data;for(var i in t.genertarget=[],a){var s={};s.label=i,s.options=a[i],t.genertarget.push(s)}},GENERACCOUNT:function(t,e){t.generaccount=e.data.adaccounts},BIDGUIDE:function(t,e){t.bidguide=e.data;var a=[],i=[],s=[],n=[];t.bidguide.forEach(function(t){a.push("".concat(t.bidAmountStart,"-").concat(t.bidAmountEnd)),i.push(t.cpi?_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_8___default()(t.cpi).toFixed(2):"暂无"),s.push(t.spend?_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_8___default()(t.spend).toFixed(2):"暂无"),n.push(t.installs?t.installs:"暂无")});var o=[{name:"CPI",type:"bar",data:i}],r=[{name:"花费",type:"bar",data:s}],c=[{name:"安装量",type:"bar",data:n}];myChart8.setOption(_js_charts__WEBPACK_IMPORTED_MODULE_15__["a"].bidGuide(a,o)),myChart9.setOption(_js_charts__WEBPACK_IMPORTED_MODULE_15__["a"].bidGuide(a,r)),myChart10.setOption(_js_charts__WEBPACK_IMPORTED_MODULE_15__["a"].bidGuide(a,c))},CLASSIFYFORPLAN:function(t,e){t.classifyforplan=e.data},CLASSIFYFILTERCOUNT:function(t,e){t.classifyfiltercount=e.data},ADPLANLIST:function(t,e){t.adplanlist=e.data.list,t.adplanlist.unshift({fbId:"-1",name:"不限"}),console.log(t.adplanlist)},CUSTOMEVENTAD:function(t,e){var a=e.r;e.applicationId;t.adcustomevent=[],t.customunit=a.data.eventsunit,a.data.eventsNameList.forEach(function(e){var a={};a.name=e,a.checked1=!1,a.checked2=!1,a.checked3=!1,t.adcustomevent.push(a)})},GETCONDITION:function(t,e){t.conditionlist=e.data},ADLIST:function(t,e){var a=e.res,i=e.type,s=e.dateCond,n=e.editType,o=e.name,r=e.customOption;t.adlisttimeout=!1;var c=[],l="",u="";switch(i){case"campaignName":l="adCampaignStatus",u="adCampaignFbStatus";break;case"adSetName":l="adSetStatus",u="adSetFbStatus";break;case"adName":l="adStatus",u="adFbStatus";break}var d=[],m=[];a.data.list.forEach(function(t,e){t.fbAdPartList&&t.fbAdPartList.forEach(function(t,a){var n="",o=t.materialId&&-1!=t.materialId.indexOf("http")?'<span class="headpic"><a href="'.concat(t.materialId,'" target="_blank"><img src="').concat(t.materialId,'"/></span></a>'):t.materialId;n+=s&&t.insightDate?","+t.insightDate:"",n+=t.age?","+t.age:"",n+=t.gender?","+t.gender:"",n+=t.country?","+t.country:"",n+=t.impressionDevice?","+t.impressionDevice:"",n+=t.publisherPlatform?","+t.publisherPlatform:"",n+=o?","+o:"",n+=t.materialText?","+t.materialText:"",t["parentindex"]=e,t["iscare"]=!0,t[i]=n.substring(1),t["careimg"]=!(!t.materialId||-1==t.materialId.indexOf("http")),d.push(t)}),t.fbAdAfPartList&&t.fbAdAfPartList.forEach(function(t,a){var n="";n+=s&&t.insightDate?","+t.insightDate:"",n+=t.country?","+t.country:"",t["parentindex"]=e,t["iscare"]=!0,t[i]=n.substring(1),m.push(t)})}),d.forEach(function(t,e){var a,s=m.find(function(e,s){if(e[i]==t[i]&&e["parentindex"]==t["parentindex"])return a=s,e});s&&(d[e]=_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_7___default()(t,s),m.splice(a,1))});var p=d.concat(m);if(p.forEach(function(t){t["afMinsRate"]=t["installNum"]&&t["afInstallsNum"]?(100*(t["afInstallsNum"]-t["installNum"])/t["installNum"]).toFixed(2):null,t["afCpi"]=t["afInstallsNum"]&&t["spend"]?(t["spend"]/t["afInstallsNum"]).toFixed(2):null}),p.forEach(function(t,e){a.data.list.splice(t.parentindex+1+e,0,t)}),a.data.list.forEach(function(t,e){var a="";switch(t[u]){case"ARCHIVED":a="已归档";break;case"ACTIVE":a="投放中";break;case"DELETED":a="已删除";break;case"PAUSED":a="已暂停";break;default:a="";break}var s="";switch(t[l]){case"ACTIVE":s="投放中";break;case"PAUSE":s="已暂停";break;case"DELETED":s="已删除";break;case"PENDING_REVIEW":s="审核中";break;case"DSIAPPROVED":s="未获批";break;case"PREAPPROVED":s="预先获批";break;case"PENDING_BILLING_INFO":s="结算中";break;case"CAMPAIGN_PAUSED":s="广告系列已暂停";break;case"ARCHIVED":s="已归档";break;case"ADSET_PAUSED":s="广告组已暂停";break;default:s="";break}var n=Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_6__["a"])({},t);switch(n.imid=t.id?t.id:"",n.effectiveStatus=t[u],n.effectiveStatusName=a,n.effectiveImport=t[l],n.effectiveImportName=s,n.switchStatus=t[u],n.jobStatus="",i){case"campaignName":n.jobStatus=t.adCampaignLockStatus>0;break;case"adSetName":n.jobStatus=t.adSetLockStatus>0;break;case"adName":n.jobStatus=t.adLockStatus>0;break}n.fbAccountId=t.fbAccountId?t.fbAccountId.split("_")[1]:"",n["ctr"]=n["ctr"]?n["ctr"]+"%":"",n["afMinsRate"]=n["afMinsRate"]?n["afMinsRate"]+"%":"",n["afRetentionRate"]=n["afRetentionRate"]?n["afRetentionRate"]+"%":"",n["cvr"]=n["cvr"]?n["cvr"]+"%":"",n["afCtr"]=n["afCtr"]?n["afCtr"]+"%":"",n["afLoyalUsersRate"]=n["afLoyalUsersRate"]?n["afLoyalUsersRate"]+"%":"",n["afROI"]=n["afROI"]?n["afROI"]+"%":"",n["afConversionRate"]=n["afConversionRate"]?n["afConversionRate"]+"%":"",n["afReRate1"]=n["afReRate1"]?n["afReRate1"]+"%":"",n["afReRate2"]=n["afReRate2"]?n["afReRate2"]+"%":"",n["afReRate3"]=n["afReRate3"]?n["afReRate3"]+"%":"",n["afReRate4"]=n["afReRate4"]?n["afReRate4"]+"%":"",n["afReRate5"]=n["afReRate5"]?n["afReRate5"]+"%":"",n["afReRate6"]=n["afReRate6"]?n["afReRate6"]+"%":"",n["afReRate7"]=n["afReRate7"]?n["afReRate7"]+"%":"",t.appEventsList&&t.appEventsList.forEach(function(t){n["".concat(t.eventsName,"|eventCounter")]=t.eventCounter,n["".concat(t.eventsName,"|uniqueUsers")]=t.uniqueUsers,n["".concat(t.eventsName,"|salesIn")]=t.salesIn}),c.push(n)}),n){var f="\ufeff";f+=""+r.map(function(t){return t.name}).join(","),f+="\n";for(var h=function(t){var e="";r.forEach(function(a){"campaignId"==a.key||"adsetId"==a.key||"adId"==a.key||"accountId"==a.key?e+=",".concat(c[t][a.key]?c[t][a.key]+"\t":"--"):e+=",".concat(null!==c[t][a.key]&&void 0!==c[t][a.key]&&""!==c[t][a.key]?'"'+c[t][a.key]+'"':"--")}),e=e.substr(1),f+=e,f+="\n"},_=0;_<c.length;_++)h(_);_js_common__WEBPACK_IMPORTED_MODULE_16__["a"].exportEXCEL("outAdList",o,f,"xls")}else switch(i){case"campaignName":t.adcampaignlist=_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default()(c),t.adcampaigntotal=a.data.total;break;case"adSetName":t.adsetlist=_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default()(c),t.adsettotal=a.data.total;break;case"adName":t.adadlist=_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_4___default()(c),t.adadtotal=a.data.total;break}},ADLISTTOTAL:function(t,e){t.adlisttotal=e.data,t.adlisttotal["2d_rr_user|uniqueUsers"]=t.adlisttotal["afUniqueUsers"]},ADLISTTIMEOUT:function(t){t.adlisttimeout=!0},UPDATETIME:function(t,e){t.nowtime=e.data.now,t.updatetime=e.data.fbDataUpdateTime;var a=t.nowtime-t.updatetime;t.datestatus=a<=6e4?"刚刚":"".concat(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10___default()(a/6e4),"分钟前")},ADACCOUNT:function(t,e){t.adaccountlist=e.data},CHANGESTATUS:function(t,e){t.adlist.forEach(function(t){-1!=e.adIds.indexOf(t.fbAdId)&&(t.status=e.status),t.load=!1})},CHANGEADLOAD:function(t,e){t.adlist.forEach(function(t){t.fbAdId==e&&(t.load=!0)})},ADCAMPAIGNLIST:function(t,e){t.copycampaignlist=e.data},ADSETLIST:function(t,e){t.copyadsetlist=e.data},CALCUCOUNT:function(t,e){t.adcount=e.data.adCount,t.adsetcount=e.data.adsetCount,t.campaigncount=e.data.campaignCount},CAMPAIGNINFO:function(t,e){t.editcampaignlist=e.data},CREATECAMPAIGNLIST:function(t,e){t.createcampaignlist=e.data},ADSETINFO:function(t,e){var a=e.res,i=e.applicationid;t.editadsetlist=a.data,t.editadsetlist.forEach(function(t){var e=t.userOs.split("_"),a=JSON.parse(t.targeting),s=JSON.parse(t.adsetSchedule);if(t.included=a.custom_audiences?a.custom_audiences.map(function(t){return t.id}):[],t.excluded=a.excluded_custom_audiences?a.excluded_custom_audiences.map(function(t){return t.id}):[],t.country=t.countries.split(","),t.platform=-1!=e[0].toLocaleLowerCase().indexOf("android")?"google_play":"itunes",t.lowversion=e[2],t.highversion="above"==e[4]?"":e[4],t.moneytype=t.dailyBudget>0?"day_budget":"total_budget",t.minage=a.age_min,t.maxage=a.age_max,t.language=a.locales?a.locales:[],t.interest=a.interests?a.interests.map(function(t){return t.id}):[],t.filtra=[],t.filtrapage=[],t.filtrapageObj=[],a.excluded_connections&&a.excluded_connections.length>0){var n=a.excluded_connections.filter(function(t){return t.id==i}),o=a.excluded_connections.filter(function(t){return t.id!=i});o.forEach(function(t){t.pageId=t.id}),n.length>0&&t.filtra.push("1"),o.length>0&&(t.filtra.push("2"),t.filtrapage=o.map(function(t){return t.id}),t.filtrapageObj=o)}1==t.genders.length?-1!=t.genders.indexOf(1)?t.sex=1:t.sex=2:t.sex=0,t.timerange=s?"schedule":"allday",t.startMinute=s?_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10___default()(s[0].start_minute):0,t.endMinute=s?_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10___default()(s[0].end_minute):0,t.weekday=s?s[0].days:[],t.equip=t.userDevice.split(","),t.verpla=t.publisherPlatforms.split(","),t.bid="IMPRESSIONS"==t.billingEvent?"cpm":"cpi"})},CREATEADSETLIST:function(t,e){t.createadsetlist=e.data},ADCREATELIST:function(t,e){t.adcreatelist=e.data.list,t.adcreatetotal=e.data.total,t.adcreatelist.forEach(function(t){"1"==t.sex?t.sexName="男":"2"==t.sex?t.sexName="女":t.sexName="全部"})},ADINFO:function(t,e){t.editadlist=e.data},DYNAMICCREATE:function(t,e){var a=Object(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_11__["a"])(new _Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_set__WEBPACK_IMPORTED_MODULE_3___default.a(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_object_values__WEBPACK_IMPORTED_MODULE_2___default()(e.data)));t.isdynamic=-1!=a.indexOf(!1)},SETADCREATEAPPLIST:function(t,e){var a=e.data;t.adapplist.length>0&&(a=a.filter(function(e){return e.id!=t.adapplist[0].id})),t.adapplist=a},ADAPPINFO:function(t,e){t.adapplist=t.adapplist.filter(function(t){return t.id!=e.data[0].id}),t.adapplist.push(e.data[0])},CREATEALLPAGES:function(t,e){if(t.createallpagelist.length>0){var a=t.createallpagelist.map(function(t){return t.id}),i=e.data.filter(function(t){return-1==a.indexOf(t.id)});t.createallpagelist=t.createallpagelist.concat(i)}else t.createallpagelist=e.data},JOBPROCESS:function(t,e){t.jobtotal=e.completed+e.unCompleted,t.jobcomplete=e.completed,t.copyjoblistdetail=[],e.tasks.forEach(function(e){var a={name:e.taskName,total:e.completed+e.unCompleted,completed:e.completed,percent:100*e.completed/(e.completed+e.unCompleted)};t.copyjoblistdetail.push(a)})},JOBPROCESSCOMPLETE:function(t,e){t.jobtotal=0,t.jobcomplete=0,t.copyjoblistdetail=[]},JOBLISTDETAILERROR:function(t){t.taskresult=[]},JOBLISTDETAIL:function JOBLISTDETAIL(state,r){state.taskresult=[];var campaignTab=["复制广告系列","复制广告系列(其他广告账户)"],adsetTab=["复制广告组","复制广告组(其他广告账户)"],adTab=["复制广告","创建广告","编辑广告","复制广告(其他广告账户)","替换创意"],errortasks=[],tabcampaign=r.filter(function(t){return-1!=campaignTab.indexOf(t.taskName)});tabcampaign.length>0&&(errortasks=tabcampaign.filter(function(t){return t["tasks"]}).map(function(t){return t["tasks"]}).flat(),errortasks.length>0&&state.taskresult.push({tabelhead:"广告系列名称",tabname:"广告系列".concat(eval(tabcampaign.map(function(t){return t.success}).join("+")),"/").concat(errortasks.length),tasks:errortasks}));var tabadset=r.filter(function(t){return-1!=adsetTab.indexOf(t.taskName)});tabadset.length>0&&(errortasks=tabadset.filter(function(t){return t["tasks"]}).map(function(t){return t["tasks"]}).flat(),errortasks.length>0&&state.taskresult.push({tabelhead:"广告组名称",tabname:"广告组".concat(eval(tabadset.map(function(t){return t.success}).join("+")),"/").concat(errortasks.length),tasks:errortasks}));var tabad=r.filter(function(t){return-1!=adTab.indexOf(t.taskName)});tabad.length>0&&(errortasks=tabad.filter(function(t){return t["tasks"]}).map(function(t){return t["tasks"]}).flat(),errortasks.length>0&&state.taskresult.push({tabelhead:"广告名称",tabname:"广告".concat(eval(tabad.map(function(t){return t.success}).join("+")),"/").concat(errortasks.length),tasks:errortasks}))},CALENDARDATE:function(t,e){t.calendardate=e.data},AFFILEDOWNLOAD:function(t,e){var a=e.r,i=e.name,s=[{name:"Ad Group",key:"adgroupName"},{name:"Adset",key:"adSetName"},{name:"Country",key:"country"},{name:"Date",key:"date"},{name:"Install Day",key:"installDayNum"},{name:"Day 1",key:"day1Num"},{name:"Day 2",key:"day2Num"},{name:"Day 3",key:"day3Num"},{name:"Day 4",key:"day4Num"},{name:"Day 5",key:"day5Num"},{name:"Day 6",key:"day6Num"},{name:"Day 7",key:"day7Num"}],n="\ufeff";n+=s.map(function(t){return t.name}).join(","),n+="\n";for(var o=function(t){var e="";s.forEach(function(i){e+=",".concat(null!==a.data[t][i.key]&&void 0!==a.data[t][i.key]?a.data[t][i.key]:"--")}),n+=e.substr(1),n+="\n"},r=0;r<a.data.length;r++)o(r);_js_common__WEBPACK_IMPORTED_MODULE_16__["a"].exportEXCEL("",i.replace(/\.csv$/,"")+"_error",n,"xls")},ACTIVEAD:function(t,e){t.hascreatead=e.data},ADRULELIST:function(t,e){t.adrulelist=e.data},SINGLERULES:function(t,e){t.singlerules=e.data},CONDITION:function(t,e){t.datacountry=e.data.countryList,t.dataage=e.data.ageList,t.dataplatform=["Facebook","Instagram","Audience Network","Messenger"],t.dataimpression=["安卓智能手机","iphone","ipad"]},DATALIST:function(t,e){t.datalist=e.data.list,t.datalist.forEach(function(t){t["ctr"]=t["ctr"]?(100*t["ctr"]).toFixed(2)+"%":t["ctr"],t["cvr"]=t["cvr"]?(100*t["cvr"]).toFixed(2)+"%":t["cvr"]}),t.datatotal=e.data.count,t.datasum=e.data,t.datasum,t.datasum["ctr"]=t.datasum["ctr"]?(100*t.datasum["ctr"]).toFixed(2)+"%":t.datasum["ctr"],t.datasum["cvr"]=t.datasum["cvr"]?(100*t.datasum["cvr"]).toFixed(2)+"%":t.datasum["cvr"]},DATALISTOUT:function(t,e){var a=e.res,i=e.name,s=a.data.list,n=["广告账户ID","广告账户名称","触达","展示","点击","CTR","CVR","CPM","CPC","相关度","安装","花费","CPI"],o="<table><thead><tr>";n.forEach(function(t){o+="<th>".concat(t,"</th>")}),o+="</tr></thead><tbody>";for(var r=0;r<s.length;r++)o+="<tr>",o+="<td style=\"mso-number-format:'\\@'\">".concat(s[r]["fbAccountId"],"</td>"),o+="<td>".concat(s[r]["adAccountName"],"</td>"),o+="<td>".concat(s[r]["reachNum"],"</td>"),o+="<td>".concat(s[r]["showNum"],"</td>"),o+="<td>".concat(s[r]["clicksNum"],"</td>"),o+="<td>".concat(s[r]["ctr"]?s[r]["ctr"]:"","</td>"),o+="<td>".concat(s[r]["cvr"]?s[r]["cvr"]:"","</td>"),o+="<td>".concat(s[r]["cpm"]?s[r]["cpm"]:"","</td>"),o+="<td>".concat(s[r]["cpc"]?s[r]["cpc"]:"","</td>"),o+="<td>".concat(s[r]["relevanceScore"],"</td>"),o+="<td>".concat(s[r]["installsNum"],"</td>"),o+="<td>".concat(s[r]["spend"],"</td>"),o+="<td>".concat(s[r]["cpi"]?s[r]["cpi"]:"","</td>"),o+="</tr>";o+="</tbody></table>",_js_common__WEBPACK_IMPORTED_MODULE_16__["a"].exportHTML("dataTable",i,o)},ADFORM:function(t,e){t.adformlist=e.data.list,t.adformtotal=e.data.total},ADFORMOUT:function(t,e){var a=e.res,i=e.name,s=a.data.list,n=["广告系列名称","推广计划名称","触达","展示","点击","CTR","CVR","CPM","CPC","相关度","安装","花费","CPI"],o="<table><thead><tr>";n.forEach(function(t){o+="<th>".concat(t,"</th>")}),o+="</tr></thead><tbody>";for(var r=0;r<s.length;r++)o+="<tr>",o+="<td>".concat(s[r]["adCampaignName"],"</td>"),o+="<td>".concat(s[r]["adPlanName"],"</td>"),o+="<td>".concat(s[r]["reachNum"],"</td>"),o+="<td>".concat(s[r]["showNum"],"</td>"),o+="<td>".concat(s[r]["clicksNum"],"</td>"),o+="<td>".concat(s[r]["ctr"]?s[r]["ctr"]:"","</td>"),o+="<td>".concat(s[r]["cvr"]?s[r]["cvr"]:"","</td>"),o+="<td>".concat(s[r]["cpm"]?s[r]["cpm"]:"","</td>"),o+="<td>".concat(s[r]["cpc"]?s[r]["cpc"]:"","</td>"),o+="<td>".concat(s[r]["relevanceScore"],"</td>"),o+="<td>".concat(s[r]["installsNum"],"</td>"),o+="<td>".concat(s[r]["spend"],"</td>"),o+="<td>".concat(s[r]["cpi"]?s[r]["cpi"]:"","</td>"),o+="</tr>";o+="</tbody></table>",_js_common__WEBPACK_IMPORTED_MODULE_16__["a"].exportHTML("dataTable",i,o)},CREATEFORM:function CREATEFORM(state,r){state.createformlist=r.data.list,state.createformtotal=r.data.total,state.createformlist.forEach(function(v){v.imageUrl&&(v.img=eval("("+v.imageUrl+")").imageUrl)}),state.createformsum=r.data.createSum?r.data.createSum:{}},CREATECARD:function(t,e){t.createcardlist=e.data.list,t.createcardtotal=e.data.total},CREATEFORMOUT:function CREATEFORMOUT(state,_ref12){var res=_ref12.res,name=_ref12.name,dt=res.data.list,titlear=["创意ID","创意名称","缩略图","国家","触达","展示","点击","CTR","CVR","CPM","CPC","相关度","安装","花费","CPI"],str="<table><thead><tr>";titlear.forEach(function(t){str+="<th>".concat(t,"</th>")}),str+="</tr></thead><tbody>",dt.forEach(function(v){str+="<tr>",str+="<td style=\"mso-number-format:'\\@'\">".concat(v["creativeId"],"</td>"),str+="<td>".concat(v["adCreativeName"],"</td>"),str+="<td>".concat(v.imageUrl?eval("("+v.imageUrl+")").imageUrl:"","</td>"),str+="<td>".concat(v["country"]?v["country"]:"","</td>"),str+="<td>".concat(v["reachNum"],"</td>"),str+="<td>".concat(v["showNum"],"</td>"),str+="<td>".concat(v["clicksNum"],"</td>"),str+="<td>".concat(v["ctr"]?v["ctr"]:"","</td>"),str+="<td>".concat(v["cvr"]?v["cvr"]:"","</td>"),str+="<td>".concat(v["cpm"]?v["cpm"]:"","</td>"),str+="<td>".concat(v["cpc"]?v["cpc"]:"","</td>"),str+="<td>".concat(v["relevanceScore"],"</td>"),str+="<td>".concat(v["installsNum"],"</td>"),str+="<td>".concat(v["spend"],"</td>"),str+="<td>".concat(v["cpi"]?v["cpi"]:"","</td>"),str+="</tr>"}),str+="</tbody></table>",_js_common__WEBPACK_IMPORTED_MODULE_16__["a"].exportHTML("",name,str)},CREATECARDOUT:function(t,e){var a=e.res,i=e.name,s=a.data.list,n=["创意ID","创意名称","卡片ID","卡片名称","国家","点击"],o="<table><thead><tr>";n.forEach(function(t){o+="<th>".concat(t,"</th>")}),o+="</tr></thead><tbody>",s.forEach(function(t){o+="<tr>",o+="<td style=\"mso-number-format:'\\@'\">".concat(t["creativeId"],"</td>"),o+="<td>".concat(t["adCreativeName"],"</td>"),o+="<td style=\"mso-number-format:'\\@'\">".concat(t["creativeCardId"],"</td>"),o+="<td>".concat(t["creativeCardName"],"</td>"),o+="<td>".concat(t["country"]?t["country"]:"","</td>"),o+="<td>".concat(t["clicksNum"],"</td>"),o+="</tr>"}),o+="</tbody></table>",_js_common__WEBPACK_IMPORTED_MODULE_16__["a"].exportHTML("",i,o)},DAYCPITABLE:function(t,e){t.daycpilist=[],t.daycpilist=e.data.pageInfoAll.list.slice(0),t.daycpitotal=e.data.pageInfoAll.total,t.cpicountry=e.data.countryList?e.data.countryList:[],t.cpiimpression=e.data.impressionList?e.data.impressionList:[]},DAYCPI:function(t,e){var a=e.data.pageInfoAll.list,i=[],s=[],n={name:"安装",type:"line",smooth:!0,stack:"",data:[]},o={name:"花费",type:"line",smooth:!0,stack:"",data:[]},r={name:"CPI",type:"line",smooth:!0,stack:"",data:[]};a.forEach(function(t){var e={};e.name=t.appName,e.value=t.installsNum,n.data.push(t.installsNum),o.data.push(t.spend),r.data.push(t.cpi),s.push(_js_common__WEBPACK_IMPORTED_MODULE_16__["a"].timeFormat(t.insightDate,"yyyy-MM-dd"))}),i.push(n,o,r),myChart4.setOption(_js_charts__WEBPACK_IMPORTED_MODULE_15__["a"].appChart(s,i))},DAYCPIOUT:function(t,e){var a=e.res,i=e.name,s=a.data.pageInfoAll.list,n=["日期","国家","平台","安装","花费","CPI"],o="<table><thead><tr>";n.forEach(function(t){o+="<th>".concat(t,"</th>")}),o+="</tr></thead><tbody>";for(var r=0;r<s.length;r++)o+="<tr>",o+="<td>".concat(_js_common__WEBPACK_IMPORTED_MODULE_16__["a"].timeFormat(s[r]["insightDate"],"yyyy-MM-dd"),"</td>"),o+="<td>".concat(s[r]["country"],"</td>"),o+="<td>".concat(s[r]["impressionDevice"],"</td>"),o+="<td>".concat(s[r]["installsNum"],"</td>"),o+="<td>".concat(s[r]["spend"],"</td>"),o+="<td>".concat(s[r]["cpi"]?s[r]["cpi"]:"","</td>"),o+="</tr>";o+="</tbody></table>",_js_common__WEBPACK_IMPORTED_MODULE_16__["a"].exportHTML("daycpiTable",i,o)},OPTIONMORE:function(t,e){var a=e.res,i=e.keyword;t.adcampaign="campaignKeyword"==i?a.data:[],t.adaccount="accountKeyword"==i?a.data:[],t.adcreate="creativeKeyword"==i?a.data:[]},MATTERLIST:function(t,e){var a=e.res,i=e.type,s=e.name;s?function(){var t=a.data.list,e=[{name:0==i?"FB图片编号":"FB视频编号",key:"materialId"},{name:0==i?"图片":"视频",key:"materialUrl"},{name:"触达",key:"reachNum"},{name:"展示",key:"showNum"},{name:"点击",key:"clicksNum"},{name:"CTR",key:"ctr"},{name:"CVR",key:"cvr"},{name:"CPM",key:"cpm"},{name:"CPC",key:"cpc"},{name:"相关度",key:"relevanceScore"},{name:"安装",key:"installsNum"},{name:"花费",key:"spend"},{name:"CPI",key:"cpi"}],n="\ufeff";n+=""+e.map(function(t){return t.name}).join(","),n+="\n";for(var o=function(a){var i="";e.forEach(function(e){"materialId"==e.key?i+=",".concat(null!==t[a][e.key]&&void 0!==t[a][e.key]&&""!==t[a][e.key]?t[a][e.key]+"\t":"--"):i+=",".concat(null!==t[a][e.key]&&void 0!==t[a][e.key]&&""!==t[a][e.key]?t[a][e.key]:"--")}),i=i.substr(1),n+=i,n+="\n"},r=0;r<t.length;r++)o(r);var c="";c+="合计, ,",e.forEach(function(t){"materialId"!=t.key&&"materialUrl"!=t.key&&(c+=a.data[t.key]+",")}),n+=c,_js_common__WEBPACK_IMPORTED_MODULE_16__["a"].exportEXCEL("outAdList",s,n,"xls")}():0==i?(t.imagematterlist=a.data.list,t.imagematterlist.forEach(function(t){t.ctr=(100*t.ctr).toFixed(2)+"%",t.cvr=(100*t.cvr).toFixed(2)+"%"}),t.imagemattersum=a.data,t.imagemattertotal=a.data.count,t.imagemattersum,t.imagemattersum["ctr"]=t.imagemattersum["ctr"]?(100*t.imagemattersum["ctr"]).toFixed(2)+"%":t.imagemattersum["ctr"],t.imagemattersum["cvr"]=t.imagemattersum["cvr"]?(100*t.imagemattersum["cvr"]).toFixed(2)+"%":t.imagemattersum["cvr"]):(t.videomatterlist=a.data.list,t.videomatterlist.forEach(function(t){t.ctr=(100*t.ctr).toFixed(2)+"%",t.cvr=(100*t.cvr).toFixed(2)+"%"}),t.videomattersum=a.data,t.videomattertotal=a.data.count,t.videomattersum,t.videomattersum["ctr"]=t.videomattersum["ctr"]?(100*t.videomattersum["ctr"]).toFixed(2)+"%":t.videomattersum["ctr"],t.videomattersum["cvr"]=t.videomattersum["cvr"]?(100*t.videomattersum["cvr"]).toFixed(2)+"%":t.videomattersum["cvr"])},TARGETADLIST:function(t,e){t.targetadlist=e.data.list,t.targetadlist.forEach(function(t){t.secondtree=!0,t.isIndeterminate=!1})},TARGETADSETLIST:function(t,e){var a=e.r,i=(e.campaignid,a.data.list);i.forEach(function(t){t.checked=""}),t.targetadsetlist=i},TARGETTREE:function(t,e){t.targetadsetlist=t.targetadsetarray["campaignid_".concat(e)]},TARGETLIST:function(t,e){t.targetlist=e.data.data,t.targettotal=e.data.total,t.targetlist.forEach(function(t){switch(t.ifedit=t.ownAccountId.split("_")[1]==t.accountId,t.ifdelete=!t.lookalikeAudienceIds,t.approximateCount=1e3==t.approximateCount?"<1000":t.approximateCount,t.operationStatusCode){case 200:t.statusName="正常";break;case 400:t.statusName="警告";break;case 441:t.statusName="准备中";break;case"":case null:case void 0:t.statusName="--";break;default:t.statusName="错误";break}var e=[{name:"客户文件",key:"CUSTOM"},{name:"网站",key:"WEBSITE"},{name:"应用",key:"APP"},{name:"线下转化",key:"OFFLINE_CONVERSION"},{name:"CLAIM",key:"CLAIM"},{name:"合作伙伴",key:"PARTNER"},{name:"MANAGED",key:"MANAGED"},{name:"视频",key:"VIDEO"},{name:"预约",key:"ENGAGEMENT"},{name:"账户包",key:"BAG_OF_ACCOUNTS"},{name:"研究规则受众",key:"STUDY_RULE_AUDIENCE"},{name:"FOX",key:"FOX"}];switch(t.subtype){case"LOOKALIKE":var a=JSON.parse(t.lookalikeSpec).origin[0];"custom_audience"==a.type?(t.childType=a.name?"自定义受众：".concat(a.name):"",t.childliketype="custom_audience"):"campaign_conversion"==a.type?(t.childType="广告转化",t.childliketype="campaign_conversion"):"page"==a.type&&(t.childType="主页粉丝",t.childliketype="page");break;default:var i=e.find(function(e){return e.key==t.subtype});t.childType=i?i.name:t.subtype;break}}),t.targettype=[{name:"不限",value:"-1"},{name:"类似受众",value:"LOOKALIKE"},{name:"自定义受众",value:"APP"}]},TARGETDETAIL:function(t,e){t.targetdetail=e.data,t.targetdetail.forEach(function(t){switch(t.operationStatus){case 200:t.statusName="正常";break;case 400:t.statusName="警告";break;case 441:t.statusName="准备中";break;case"":case null:case void 0:t.statusName="--";break;default:t.statusName="错误";break}t.approximateCount=1e3==t.approximateCount?"<1000":t.approximateCount})},APPACCOUNT:function(t,e){t.appaccount=e.data},TARGETADDDETAIL:function(t,e){t.targetadddetail=e.data},TARGETINFO:function(t,e){var a=e.r,i=e.type;switch(i){case"app":t.targetinfo=a.data;break;case"lookalike":t.liketargetinfo=a.data;break;default:t.specialtargetinfo=a.data;break}},TARGETACCOUNT:function(t,e){var a=[];e.data.forEach(function(t){var e={name:t.fbAccountName,fbId:t.fbAccountId};a.push(e)}),t.targetaccount=a},LIKETARGET:function(t,e){t.liketarget=e.data},TARGETCAMPAINGNS:function(t,e){var a=e.res,i=e.pageIndex;1==i&&(t.targetcampaigns=[]),t.targetcampaigns=t.targetcampaigns.concat(a.data.list),t.targetcampaigns.length!=a.data.total&&(t.ifmorecampaigns=!0)},TARGETAPPLIST:function(t,e){t.targetapplist=e.data},SAMELIKE:function(t){t.ifsame=!0},TARGETPLANLIST:function(t,e){var a=e.data.list;a.forEach(function(t){t.treegradelist=[],t.secondtree=!0,t.isIndeterminate=!1}),t.targetplanlist=a},TARGETPLANLISTCHECK:function(t,e){var a=e.id,i=e.key,s=e.vl;t.targetadlist.forEach(function(t){a?t.campaignId==a&&(t[i]=s):(console.log(i),t[i]=s)})},TARGETTREECHECK:function(t,e){var a=e.check;t.targetadsetlist.forEach(function(t){t.checked=a})},TARGETLOGOPENCLOSE:function(t,e){var a=e.ifopen;a?t.targetplanlist.forEach(function(e){-1!=t.filterarr.indexOf(e.id)&&(console.log(e.id),e.disabled=!1)}):t.targetplanlist.forEach(function(t){t.disabled=!0})},TARGETCAMPAIGNACCOUNT:function(t,e){t.targetcampaignaccount=e.data},DELETEDETAIL:function(t,e){t.deleteusing=e.data.usedAudience,t.deletesharing=e.data.sharedAudience},REGULARLIST:function(t,e){t.regularlist=e.data.list,t.regularlist.forEach(function(t){switch(t.ruleStatus){case 0:t.statusName="测试";break;case 1:t.statusName="已上架";break;case 2:t.statusName="已下架";break}}),t.regulartotal=e.data.total},ALLRULES:function(t,e){t.allrules=e.data},GETRULELIST:function(t,e){t.newrulelist=e.data.list,t.newruletotal=e.data.count,t.newrulelist.forEach(function(t){var e=JSON.parse(t.executionSpec);"NOTIFICATION"==e["execution_type"]&&(t.noedit=!0);var a=JSON.parse(t.evaluationSpec);t.iftrigger="TRIGGER"==a["evaluation_type"]})},REGUFORMDATA:function(t,e){var a=e.data.ruleDurations,i=[],s=[];for(var n in a){var o={};o.name=n,o.value=a[n],i.push(o),s.push(o.name)}myChart5.setOption(_js_charts__WEBPACK_IMPORTED_MODULE_15__["a"].regularPie(s,i,"规则启用比例"));var r=e.data.ruleGroupTriggerCounts,c=[],l=[];for(var u in r){var d={};d.name=u,d.value=r[u],c.push(d),l.push(d.name)}console.log(c),myChart6.setOption(_js_charts__WEBPACK_IMPORTED_MODULE_15__["a"].regularPie(l,c,"规则触发比例"));var m=e.data.ruleGroupTriggerStatistics,p=[],f=[],h=[];for(var _ in m)p.push(m[_].triggerCount),f.push((100*m[_].fbTargetRate).toFixed(2)),h.push(_);var v=[{name:"规则触发数",type:"bar",data:p},{name:"触发广告占比",type:"bar",data:f,yAxisIndex:1}],g="1000000000000",b=Math.max.apply(Math,p).toString().length,y=g.substr(0,b-1),k=_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10___default()(Math.max.apply(Math,p)/(y||1)+1)*(y||1),E=k/5,C=Math.max.apply(Math,f),O=0;switch(!0){case C>10:O=10*(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10___default()(C/10)+1);break;case C>1:O=_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10___default()(C)+1;break;default:O=(_Users_yehubin_project_atom_front_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10___default()(10*C)+1)/10;break}var w=O/5;myChart7.setOption(_js_charts__WEBPACK_IMPORTED_MODULE_15__["a"].triggerCharts(h,v,k,E,O,w)),t.ruleform=[];var I=e.data.ruleEffects;for(var T in I){var A={};A.name=T,A.groupId=I[T].groupId,A.installChange=I[T].installChange,A.costChange=I[T].costChange,A.cpiChange=I[T].cpiChange,t.ruleform.push(A)}},MESSAGELIST:function(t,e){t.messagelist=e.data,t.messagetotal=e.data.length}}},d5f4:function(t,e,a){},d676:function(t,e,a){"use strict";var i=a("c469"),s=a.n(i);s.a},d836:function(t,e,a){"use strict";var i=a("383a"),s=a.n(i);s.a},d866:function(t,e,a){},d867:function(t,e,a){"use strict";var i=a("b83c"),s=a.n(i);s.a},d927:function(t,e,a){"use strict";var i=a("56d6"),s=a.n(i);s.a},daba:function(t,e,a){},db55:function(t,e,a){"use strict";var i=a("6819"),s=a.n(i);s.a},dc9c:function(t,e,a){},dd46:function(t,e,a){"use strict";var i=a("77d2");e["a"]={itemlist:"project/getMyProject",changepassword:"user/changePassword?oldPassword={oldPassword}&password={password}&password2={password2}",gettoken:"facebook/getLongTimeToken",logout:"user/logout",messagecount:"user/UnreadMessageCount",videourl:"tool/transformUrl",initurl:"report/rptTotal",appurl:"report/rptAppcpi",appcpitotal:"report/sumAppcpi",counturl:"report/countRecharge",customevent:"report/afEvents?",bmlist:"facebook/bms",addbmlist:"facebook/sync/bms",savebm:"facebook/save/bms",bmaccountlist:"facebook/adaccounts?bm_id={bmid}",addaccountlist:"facebook/sync/adaccounts?bm_id={bmid}",saveaccount:"facebook/save/adaccounts",switchstatus:"facebook/updateAccountStatus",pagelist:"page/pageList?bm_id={bmid}",addpagelist:"page/sync/pages?bm_id={bmid}",savepage:"page/save/pages",pbia:"facebook/pbia?page_id={pageid}",applist:"facebook/applicationList",addapplist:"facebook/sync/applications",saveapp:"facebook/save/applications",setapp:"facebook/application/adaccounts?application_id={applicationid}",cansetapp:"facebook/application/canSyncAdaccount?application_id={applicationid}",saveset:"facebook/application/saveAdaccounts",delset:"facebook/application/delAdaccounts",setaf:"facebook/application/bangdingAf?",managelist:"project/getProjects?keywords={keywords}&status={status}&pageIndex={pageIndex}&pageSize={pageSize}",addproject:"project/addProject",editproject:"project/updateProject",projectover:"project/offProject",projectbegin:"project/projectIsON",getrulelist:"adRule/list?",deleterule:"adRule/{ruleId}/delete",ruleclose:"adRule/{ruleId}/close",ruleopen:"adRule/{ruleId}/open",addrule:"adRule/add",editrule:"adRule/update",getexecute:"adRule/{fbRuleId}/preview",executerule:"adRule/{fbRuleId}/execute",openrule:"optimize/{projectId}/ruleGroups/add",closerule:"optimize/{projectId}/ruleGroups/delete",optimize:"adRule/logs?",optimizedetail:"adRule/logResults?",optimizeadaccount:"optimize/getAdaccountLists?",matchmd5:"".concat(i["a"]["production"].MD5_URL,"/file/search"),fileupload:"".concat(i["a"]["production"].UPLOAD_URL,"/file/"),classify:"creative/getClassifys?projectId={projectid}",createlist:"creative/getCreatives?",countries:"common/countries",createcountry:"creative/getCountrys?",updatesex:"creative/updateSex",createopen:"creative/creativeStatusisOn",createclose:"creative/creativeStatusisOff",syncall:"creative/synCreatives?",syncgroup:"creative/synCreateiveAccount",synctime:"creative/getSynTime?",addcountries:"creative/addCreativeCountrys?creativityIds={creativityIds}&countryId={countryId}",synclist:"creative/getCreativePage?",synclistall:"creative/synAssignCreatives?ids={ids}",allpagelist:"page/allPages",actionlist:"creative/actionCallOn",toaddcreate:"creative/addCreativity",addcreates:"creative/addCreatives",language:"common/locales",interests:"common/interests",platform:"facebook/application?application_id={applicationid}",system:"common/versions?os={os}",addcreatelist:"creative/getCreativesNoPage",creategener:"plan/create",planlist:"plan/list?",plancountry:"project/countries?project_id={projectid}",changeprice:"plan/updateGoalBid",inusecreate:"plan/inUsedCreative?",nousecreate:"plan/notUsedCreative?",addcreate:"plan/addCreative",delcreate:"plan/delCreative",autoselect:"plan/autoSelectCreative?",delallcreate:"plan/delAllCreative",addallcreate:"plan/addAllCreative?",accountlist:"plan/adaccounts?",addaccount:"plan/addAdaccount",delaccount:"plan/delAdaccount",planlog:"plan/create/log?",logdetail:"plan/adCreateDetail?",adfailreason:"plan/errorMsg/ad?",adsetfailreason:"plan/errorMsg/adset?",campaignfailreason:"plan/errorMsg/campaign?",genertarget:"v2/audience/usableAudienceList?",generaccount:"plan/getAccountByAudience?",logcreate:"plan/createAdv2",logcreatenum:"plan/plan/predictCreateDetail?",createinfo:"plan/info?",editcreate:"plan/update",openplan:"plan/openPlan",closeplan:"plan/closePlan",bidguide:"plan/priceGuide?",classifyfilter:"plan/usableCreativeCountWithPlan?",classifyfilternoplan:"plan/usableCreativeCount?",adlisttotal:"projectad/sumFbAdList",adlist:"projectad/getProjectsAd?",adlistnew:"projectad/getFbAdList",adlistdata:"projectad/getProjectsAdCpi?",adaccountlist:"projectad/getAdaccountLists?",changeadstatus:"projectad/updateStatus?",adafdata:"projectad/getAfDatas?",eventdata:"projectad/getAfEvents?",savecondition:"projectad/saveTag?",getcondition:"projectad/queryTag?",deletecondition:"projectad/deleteTag?",updatetime:"projectad/fbDataUpdateTime",resetname:"fbAd/updateName?",seekreplace:"fbAd/replaceName?",seekreplacecreate:"fbAd/fbAdCreative",creativedetail:"fbAd/getCreatives?",adcampaignlist:"fbAd/getFbCampaign?",adsetlist:"fbAd/getFbAdSet?",adcopy:"fbAd/copyAd",calcucount:"ad/getDetailCount?",createcampaign:"ad/createCampaign",campaigninfo:"ad/getCampaignInfo?",editcampaign:"ad/editCampaign",createcampaignlist:"ad/projectCampaignList?",createadset:"ad/createAdSet",adsetinfo:"ad/getAdSetInfo?",editadset:"ad/editAdSet",createadsetlist:"ad/projectAdSetList?",createad:"ad/createAd",adinfo:"ad/getAdInfo?",dynamiccreate:"fbAd/isDynamicCreative?",editad:"ad/editAd",createeditasync:"ad/modifyAdWithNewCreative",appinfo:"ad/getAppInfo?",isactivead:"ad/isIncludeAd?",asyncquery:"fbAd/getJob?",joblist:"asyncTasks/unCompleted",jobresultdetail:"asyncTasks/",calendardata:"/afFile/getDateList?",addatacsv:"".concat(i["a"]["production"].BASE_URL,"/afFile/upload"),submitafdata:"afFile/upload",affiledownload:"afFile/download?",adrulelist:"adRule/list4Apply?",userules:"adRule/addObjs",singlerules:"projectad/{objId}/rules",removerule:"projectad/{objId}/rules/remove",conditionlist:"report/getRptOption",datalist:"report/rptAccount",adformlist:"report/rptAd",createformlist:"report/rptCreate",daycpi:"report/rptCpi",getoptionmore:"report/getRptOptionMore?",createcard:"report/rptCreateCarousel?",matterlist:"report/rptMaterial",getvideourl:"report/video/source?",targetlist:"v2/audience/list?",targetdetail:"audience/detail?",appmethod:"audience/appEvents?",addtarget:"v2/audience/createCustomAudience",targetadddetail:"audience/createDetail?",liketarget:"v2/audience/getCustomAudienceByAccount?",autoliketarget:"v2/audience/createAudienceWithAudience",pageliketarget:"v2/audience/createAudienceUsePage",adliketarget:"v2/audience/createCustomAudienceWithCampaign",specialtarget:"v2/audience/editAudience",targetinfo:"v2/audience/getAudienceDetail?",targetcampaigns:"audience/campaigns?",campaigntoaccount:"audience/getAccountByBatch?",targetdelete:"v2/audience/deleteBatchAudience",targetshare:"v2/audience/shareAudience",deletedetail:"v2/audience/waitingDeleteAudienceDetail?",regularlist:"optimize/ruleGroupsList?",regularstatus:"optimize/update?",allrules:"optimize/allRules",reguformdata:"optimize/ruleRpt?",messagelist:"user/userMessage?",setmessage:"user/setUserMessageStatus?",setallread:"user/setUserMessageRead",messageCountWebsocket:"".concat(-1!=location.protocol.indexOf("https:")?"wss":"ws","://").concat(i["a"]["production"].WEBSOCKET_URL,"/websocket/")}},de0b:function(t,e,a){"use strict";a.r(e);a("3b2b"),a("a481"),a("6b54"),a("28a5"),a("cadf"),a("551c"),a("097d");var i,s,n,o,r,c,u,d,m,p,f,h,_,v,g=a("a026"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app",attrs:{id:"app"}},[a("router-view")],1)},y=[],k={mounted:function(){this.$store.dispatch("messageWebsocket")}},E=k,C=(a("3f95"),a("2877")),O=Object(C["a"])(E,b,y,!1,null,null,null),w=O.exports,I=a("8c4f"),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",[a("top-header")],1),a("router-view")],1)},A=[],x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"head"},[a("p",{staticClass:"logo"},[a("router-link",{attrs:{to:"/pandect"}})],1),a("user-info"),a("header-message"),a("import-menu",{on:{showAddBox:t.showAddBox,showVideoBox:t.showVideoBox}}),a("header-add",{attrs:{status:t.status},on:{cancelAddbm:t.cancelAddbm}}),a("video-url",{attrs:{status:t.status2},on:{"update:status":function(e){t.status2=e}}}),a("fail-detail")],1)},S=[],j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"操作详情",visible:t.jobfaildetail},on:{close:t.toCancel}},[a("p",{directives:[{name:"show",rawName:"v-show",value:0==t.taskresult.length,expression:"taskresult.length == 0"}],staticClass:"noinfo"},[t._v("该任务不存在！")]),a("p",{directives:[{name:"show",rawName:"v-show",value:0!=t.taskresult.length,expression:"taskresult.length != 0"}],staticClass:"detailinfo"},[t._v(t._s(t.tasknamedetail)+"，"+t._s(t.tasksuccessdetail)+"项成功，"+t._s(t.taskfaildetail)+"项失败")]),a("el-tabs",{directives:[{name:"show",rawName:"v-show",value:0!=t.taskresult.length,expression:"taskresult.length != 0"}],attrs:{type:"card","empty-text":"全部完成"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.taskresult,function(e,i){return a("el-tab-pane",{key:i,attrs:{label:e.tabname,name:""+(i+1)}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tasks,"max-height":"250"}},[a("el-table-column",{attrs:{prop:"extraInfo",label:e.tabelhead},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.extraInfo?e.row.extraInfo:"--"))]}}])}),a("el-table-column",{attrs:{prop:"result",label:"错误信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.result))]}}])})],1)],1)}),1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.toCancel}},[t._v("确 定")])],1)],1)},D=[],M=a("cebc"),P=a("2f62"),L={data:function(){return{activeName:"1"}},computed:Object(M["a"])({},Object(P["d"])(["jobfaildetail","taskresult","taskfaildetail","tasksuccessdetail","tasknamedetail","jobfailkey"])),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{handleClick:function(){},toCancel:function(){this.SETSTATE({k:"jobfaildetail",v:!1}),this.SETSTATE({k:"taskresult",v:[]}),this.SETSTATE({k:"taskfaildetail",v:0}),this.SETSTATE({k:"tasksuccessdetail",v:0}),this.SETSTATE({k:"tasknamedetail",v:""})}}),watch:{jobfaildetail:function(t,e){t&&this.$store.dispatch("joblistDetail")}}},R=L,N=(a("cbcc"),Object(C["a"])(R,j,D,!1,null,"c1941128",null)),$=N.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message"},[a("router-link",{attrs:{to:"/message"}},[a("i",{staticClass:"el-icon-message"}),a("p",{directives:[{name:"show",rawName:"v-show",value:parseInt(t.messagecount)>0,expression:"parseInt(messagecount) > 0"}]},[t._v(t._s(t.messagecount))])])],1)},F=[],B={data:function(){return{}},computed:Object(M["a"])({},Object(P["d"])(["messagecount"])),mounted:function(){this.$store.dispatch("getMessageCount")}},K=B,V=(a("5c87"),Object(C["a"])(K,U,F,!1,null,"7e96ad51",null)),W=V.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"创建项目",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{staticClass:"form",attrs:{model:t.form,"label-position":"left","label-width":t.formLabelWidth}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",placeholder:"请输入名称"},model:{value:t.form.projectname,callback:function(e){t.$set(t.form,"projectname",e)},expression:"form.projectname"}})],1),a("el-form-item",{attrs:{label:"投放平台"}},[a("el-radio-group",{model:{value:t.form.radio1,callback:function(e){t.$set(t.form,"radio1",e)},expression:"form.radio1"}},[a("el-radio",{attrs:{label:"Facebook"}})],1)],1),a("el-form-item",{attrs:{label:"项目目标"}},[a("el-radio-group",{model:{value:t.form.radio2,callback:function(e){t.$set(t.form,"radio2",e)},expression:"form.radio2"}},[a("el-radio",{attrs:{label:"安装应用"}})],1)],1),a("el-form-item",{attrs:{label:"选择应用"}},[a("el-select",{staticClass:"addselect",attrs:{placeholder:"请选择应用"},model:{value:t.form.region,callback:function(e){t.$set(t.form,"region",e)},expression:"form.region"}},t._l(t.manageapplist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.applicationId}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toAdd}},[t._v("确 定")])],1)],1)},z=[],H=a("815e"),q={props:["status"],data:function(){return{dialogFormVisible:!1,form:{projectname:"",radio1:"Facebook",radio2:"安装应用",region:""},formLabelWidth:"100px"}},mounted:function(){},computed:Object(M["a"])({},Object(P["d"])(["manageapplist"]),Object(P["b"])(["dismanage"])),watch:{status:function(t,e){this.dialogFormVisible=t,t&&this.$store.dispatch("manageApplist")}},methods:{toAdd:function(){if(""!=this.form.projectname)if(""!=this.form.region){var t=this.form.projectname,e=this.form.region,a=0,i=0,s=this.$router;this.$store.dispatch("headerAddProject",{appid:e,pname:t,pplat:a,ptag:i,route:s}),this.dialogFormVisible=!1,this.form.projectname="",this.form.region=""}else Object(H["g"])("请选择应用");else Object(H["g"])("请输入项目名称")},toCancel:function(){this.$emit("cancelAddbm","status"),this.form.projectname="",this.form.region=""}}},J=q,Y=(a("7a8f"),Object(C["a"])(J,G,z,!1,null,"20ea9910",null)),X=Y.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userinfo"},[a("span",{on:{mouseenter:t.showList,mouseleave:t.hideList}},[a("svg-icon",{attrs:{svgclass:"user",svgname:"user"}}),t._v("\n        "+t._s(t.nickname)+"\n        "),a("i")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.list,expression:"list"}],staticClass:"list",on:{mouseenter:t.showList,mouseleave:t.hideList}},[a("p",{on:{click:t.changePassword}},[t._v("修改密码")]),a("p",{on:{click:t.toLogout}},[t._v("退出")])]),a("el-dialog",{staticClass:"dialog",attrs:{title:"修改密码",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{staticClass:"form",attrs:{model:t.form,"label-position":"left","label-width":t.formLabelWidth}},[a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{staticClass:"input",attrs:{type:"password","auto-complete":"off",placeholder:"请输入旧密码"},model:{value:t.form.oldpassword,callback:function(e){t.$set(t.form,"oldpassword",e)},expression:"form.oldpassword"}})],1),a("el-form-item",{attrs:{label:"新密码"}},[a("el-input",{staticClass:"input",attrs:{type:"password","auto-complete":"off",placeholder:"6-18位字母或数字或特殊符号"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"重复新密码"}},[a("el-input",{staticClass:"input",attrs:{type:"password","auto-complete":"off",placeholder:"请再次输入密码"},model:{value:t.form.passwordagain,callback:function(e){t.$set(t.form,"passwordagain",e)},expression:"form.passwordagain"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toChange}},[t._v("确 定")])],1)],1)],1)},Q=[],tt={data:function(){return{list:!1,dialogFormVisible:!1,form:{oldpassword:"",password:"",passwordagain:""},formLabelWidth:"100px"}},created:function(){var t="nickname",e=localStorage.getItem("atom_nickname");this.SETSTATE({k:t,v:e})},mounted:function(){},computed:Object(M["a"])({},Object(P["d"])(["nickname"])),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{showList:function(){this.list=!0},hideList:function(){this.list=!1},changePassword:function(){this.dialogFormVisible=!0},toLogout:function(){this.$store.dispatch("toLogout")},toChange:function(){var t=this.form.oldpassword,e=this.form.password,a=this.form.passwordagain;t?e?a?e===a?this.$store.dispatch("changePassword",{k:t,n1:e,n2:a}):Object(H["a"])("两次输入的密码不一样"):Object(H["a"])("重复密码不能为空"):Object(H["a"])("新密码不能为空"):Object(H["a"])("旧密码不能为空")}})},et=tt,at=(a("9a66"),Object(C["a"])(et,Z,Q,!1,null,"c99cd1da",null)),it=at.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"menu"},[a("li",{staticClass:"special"},[a("router-link",{attrs:{to:"/pandect"}},[t._v("总览")])],1),a("li",[t._v("我的项目\n    "),a("i"),a("div",{staticClass:"list"},[t._l(t.itemlist,function(e,i){return a("p",{key:i},[a("router-link",{attrs:{to:"/project/"+e.id,title:e.projectName}},[t._v(t._s(e.projectName))])],1)}),a("p",{staticClass:"manage"},[a("router-link",{attrs:{to:"/manage"}},[t._v("管理项目")])],1),a("p",{staticStyle:{"padding-left":"20px"},on:{click:t.toAdd}},[t._v("\n        创建项目\n      ")])],2)]),a("li",[t._v("Facebook同步\n    "),a("i"),a("div",{staticClass:"list"},[a("p",[a("router-link",{attrs:{to:"/bm"}},[t._v("BM同步")])],1),a("p",[a("router-link",{attrs:{to:"/app"}},[t._v("APP同步")])],1)])]),a("li",[t._v("工具箱\n    "),a("i"),a("div",{staticClass:"list"},[a("p",{staticStyle:{"padding-left":"20px"},on:{click:t.videoTranslate}},[t._v("\n        视频转换\n      ")])])])])},nt=[],ot={data:function(){return{activeIndex:"1",activeIndex2:"1"}},mounted:function(){this.$store.dispatch("getItemList")},computed:Object(M["a"])({},Object(P["d"])(["itemlist"]),{ifSuperAdmin:function(){return!(!localStorage.getItem("atom_roleId")||"1"!=localStorage.getItem("atom_roleId"))}}),methods:{videoTranslate:function(){this.$emit("showVideoBox")},toAdd:function(){this.$emit("showAddBox")},handleSelect:function(t,e){console.log(t,e)}}},rt=ot,ct=(a("b001"),Object(C["a"])(rt,st,nt,!1,null,"d584e61a",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"视频解析转换",visible:t.status,id:"videoLoad"},on:{close:t.toCancel}},[t._l(t.link,function(e,i){return a("div",{key:i,staticClass:"link"},[a("div",{staticClass:"linkfrom"},[a("span",{staticClass:"title"},[t._v("短视频链接")]),a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",placeholder:"短视频链接默认文案：请输入gid、tiktok链接或短链接"},model:{value:t.link[i],callback:function(e){t.$set(t.link,i,e)},expression:"link[index]"}})],1),t.videoerrmsg[i]?a("div",[a("p",{directives:[{name:"show",rawName:"v-show",value:!t.videoerrmsg[i].status,expression:"!videoerrmsg[index].status"}],staticClass:"result",staticStyle:{color:"red"}},[t._v(t._s(t.videoerrmsg[i].result))]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.videoerrmsg[i].status,expression:"videoerrmsg[index].status"}],staticClass:"result"},[a("a",{attrs:{href:t.videoerrmsg[i].result,target:"_blank"}},[t._v(t._s(t.videoerrmsg[i].result))])])]):t._e()])}),a("div",{staticClass:"add"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:t.toAdd}}),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.videoresult.length>0,expression:"videoresult.length > 0"}],attrs:{type:"primary","data-clipboard-text":t.videoresult.join("\n\n"),round:"",id:"copyResult"}},[t._v("复制结果")])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return e.stopPropagation(),t.toCancel(e)}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toTranslate}},[t._v("确 定")])],1)],2)},dt=[],mt=(a("b54a"),{props:["status"],data:function(){return{link:[""]}},computed:Object(M["a"])({},Object(P["d"])(["videoerrmsg","videoresult"])),mounted:function(){this.$textCopy("#copyResult")},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{toTranslate:function(){var t=this.link.filter(function(t){return t});t=t.map(function(t){return t.trim()}),0!=t.length?this.$store.dispatch("videoUrlTranslate",{urls:t,originurl:this.link}):Object(H["g"])("至少输入一个需要转换的短视频链接")},toCancel:function(){this.link=[""],this.$emit("update:status",!1),this.SETSTATE({k:"videoerrmsg",v:{}}),this.SETSTATE({k:"videoresult",v:[]})},toAdd:function(){this.link.push("")},toCopy:function(){},showBox:function(){}})}),pt=mt,ft=(a("28ca"),Object(C["a"])(pt,ut,dt,!1,null,"7a9d75fe",null)),ht=ft.exports,_t={data:function(){return{status:!1,status2:!1}},methods:{showVideoBox:function(){this.status2=!0},showAddBox:function(){this.status=!0},cancelAddbm:function(){this.status=!1}},mounted:function(){},components:{ImportMenu:lt,UserInfo:it,HeaderAdd:X,HeaderMessage:W,VideoUrl:ht,FailDetail:$}},vt=_t,gt=(a("961b"),Object(C["a"])(vt,x,S,!1,null,"556a5d30",null)),bt=gt.exports,yt={components:{TopHeader:bt},data:function(){return{}}},kt=yt,Et=(a("26ce"),Object(C["a"])(kt,T,A,!1,null,"7b28beca",null)),Ct=Et.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bind"},[a("p",{staticClass:"title"},[t._v("绑定Facebook账号")]),a("p",{staticClass:"info"},[t._v("未绑定Facebook账号将无法使用Facebook相关功能，请先绑定")]),a("el-button",{attrs:{type:"primary"},on:{click:t.getAuth}},[t._v("去绑定")])],1)},wt=[],It={data:function(){return{}},methods:{getLongtimeToken:function(t){this.$store.dispatch("getLongToken",{token:t})},getAuth:function(){var t=this;FB.getLoginStatus(function(e){"connected"===e.status?t.getLongtimeToken(e.authResponse.accessToken):"not_authorized"===e.status?FB.login(function(t){this.getLongtimeToken(t.authResponse.accessToken)},{scope:"ads_management,ads_read,manage_pages,email,business_management"}):"unknown"===e.status&&FB.login(function(t){this.getLongtimeToken(t.authResponse.accessToken)},{scope:"ads_management,ads_read,manage_pages,email,business_management"})})}},mounted:function(){(function(t,e,a){var i,s=t.getElementsByTagName(e)[0];t.getElementById(a)||(i=t.createElement(e),i.id=a,i.src="//connect.facebook.net/zh_TW/sdk.js",s.parentNode.insertBefore(i,s))})(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:"329006174266183",autoLogAppEvents:!0,xfbml:!0,version:"v2.10"}),FB.AppEvents.logPageView()}}},Tt=It,At=(a("1839"),Object(C["a"])(Tt,Ot,wt,!1,null,"2062fb5b",null)),xt=At.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"contain"},[t.ifaccount&&0==t.appcount?a("div",{staticClass:"noapp"},[a("p",{staticClass:"title"},[t._v("暂无应用")]),a("router-link",{staticClass:"el-button toadd",attrs:{to:"/app"},on:{click:t.toAddapp}},[t._v("去添加")])],1):a("div",{staticClass:"hasapp"},[a("el-main",{staticClass:"main1"},[a("pandect")],1),a("el-main",{staticClass:"main2"},[a("sort",{on:{selectProject:t.selectProject}})],1),a("el-main",{staticClass:"main1"},[a("table-list")],1),a("el-main",{staticClass:"main2"},[a("app-chart")],1),t.ifapp&&t.countryfilter.length>0?a("el-main",{staticClass:"main1"},[a("other-table",{attrs:{name:t.appname}}),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:t.appdatatotal,"current-page":t.appdataindex,"page-sizes":[20,200,500],"page-size":20},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)],1):t._e(),a("el-footer")],1)])},jt=[],Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pandect"},[a("div",{staticClass:"title"},[a("p",{staticClass:"left"},[t._v("总览")]),a("p",{staticClass:"right"},[a("el-popover",{attrs:{trigger:"click",placement:"top",width:"600"}},[a("el-table",{attrs:{id:"waitAtt",data:t.paycountlist,height:"250"}},[a("el-table-column",{attrs:{prop:"bmName",width:"140",label:"所属BM"}}),a("el-table-column",{attrs:{width:"140",prop:"fbAccountId",label:"账号ID"}}),a("el-table-column",{attrs:{prop:"name",label:"账号名称"}}),a("el-table-column",{attrs:{width:"100",prop:"balance",label:"余额($)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.balance/100))])]}}])})],1),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("span",[t._v(t._s(t.paycount))]),t._v(" 个待充值广告账户")])],1)],1)]),a("div",{staticClass:"info"},[a("div",{staticClass:"chartbox"},[a("div",{staticClass:"data"},[a("p",{staticClass:"name"},[t._v("今日安装量")]),a("p",{staticClass:"count"},[t._v(t._s(t._f("numberFormat")(t.todayinstall)))])]),a("div",{staticClass:"chart",attrs:{id:"Chart1"}})]),a("div",{staticClass:"chartbox"},[a("div",{staticClass:"data"},[a("p",{staticClass:"name"},[t._v("今日花费")]),a("p",{staticClass:"count"},[t._v("$"+t._s(t._f("numberFormat")(t.todayexpend)))])]),a("div",{staticClass:"chart mb0",attrs:{id:"Chart2"}})])])])},Mt=[],Pt=a("3eba"),Lt=a.n(Pt),Rt=(a("94b1"),a("ef97"),a("c037"),a("cd12"),a("007d"),a("cb8f"),a("627c"),a("b11c"),Lt.a),Nt={data:function(){return{}},mounted:function(){this.$store.dispatch("getPayCount"),myChart2=Rt.init(document.getElementById("Chart1")),myChart3=Rt.init(document.getElementById("Chart2"))},computed:Object(M["a"])({},Object(P["d"])(["paycount","paycountlist"]),Object(P["b"])(["todayinstall","todayexpend"]))},$t=Nt,Ut=(a("33df"),Object(C["a"])($t,Dt,Mt,!1,null,null,null)),Ft=Ut.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sort"},[a("div",{staticClass:"left"},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.selectApp},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("el-option",{attrs:{label:"所有APP",value:""}}),t._l(t.applist,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2),a("span",{staticClass:"tip"},[t._v("FB数据稳定期为28天，28天内数据均会微调")])],1),a("div",{staticClass:"right"},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.value6,callback:function(e){t.value6=e},expression:"value6"}})],1)])])},Kt=[],Vt=(a("7f7f"),a("7514"),{data:function(){return{value:"",value6:[(new Date).getTime()-5184e5,new Date],appid:""}},mounted:function(){},computed:Object(M["a"])({},Object(P["b"])(["applist"])),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{selectApp:function(){var t,e=this,a=this.applist.find(function(t){return t.id==e.value}),i="ifapp";if(!a)return this.appid="",t=!1,this.SETSTATE({k:i,v:t}),i="appdataappid",t=o,this.SETSTATE({k:i,v:t}),i="appdatasort",t="",this.SETSTATE({k:i,v:t}),i="appdatacountry",t="",this.SETSTATE({k:i,v:t}),i="appdataimporession",t="",void this.SETSTATE({k:i,v:t});var s=a.id,n=a.name;this.$emit("selectProject",n),t=!0,this.SETSTATE({k:i,v:t});var o=s;this.appid=s;var r=this.$timeFormat(0==this.value6.length?(new Date).getTime()-6048e5:this.value6[0],"yyyy-MM-dd"),c=this.$timeFormat(0==this.value6.length?(new Date).getTime():this.value6[1],"yyyy-MM-dd");i="appdataappid",t=o,this.SETSTATE({k:i,v:t}),i="appdatastartdate",t=r,this.SETSTATE({k:i,v:t}),i="appdataenddate",t=c,this.SETSTATE({k:i,v:t}),i="appdataindex",t=1,this.SETSTATE({k:i,v:t}),this.$store.dispatch("selectApp"),this.$store.dispatch("getCustomEvent",this.value)}}),watch:{value6:function(t,e){var a=this.$timeFormat(t[0],"yyyy-MM-dd"),i=this.$timeFormat(t[1],"yyyy-MM-dd"),s="appdatastartdate",n=a;this.SETSTATE({k:s,v:n}),s="appdataenddate",n=i,this.SETSTATE({k:s,v:n}),this.$store.dispatch("infoInit",{startDate:a,endDate:i});var o=this.appid;this.appid&&this.$store.dispatch("selectApp",{appid:o,startDate:a,endDate:i})}}}),Wt=Vt,Gt=(a("fae8"),Object(C["a"])(Wt,Bt,Kt,!1,null,"31fe6a4e",null)),zt=Gt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tablelist"},[a("p",{staticClass:"download"},[a("span",{on:{click:t.outTable}},[t._v(" 导出全部\n      "),a("svg-icon",{attrs:{svgclass:"save",svgname:"save"}})],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"outTable",data:t.appdatalist,"show-summary":"","summary-method":t.getSummaries,"default-sort":{prop:"date",order:"descending"}}},[a("el-table-column",{attrs:{prop:"app",label:"APP"}}),a("el-table-column",{attrs:{prop:"cd",label:"触达",sortable:"",width:"110"}}),a("el-table-column",{attrs:{prop:"zs",label:"展示",sortable:"",width:"110"}}),a("el-table-column",{attrs:{prop:"dj",label:"点击",sortable:"",width:"90"}}),a("el-table-column",{attrs:{prop:"ctr",label:"CTR",sortable:"",width:"80"}}),a("el-table-column",{attrs:{prop:"cvr",label:"CVR",sortable:"",width:"80"}}),a("el-table-column",{attrs:{prop:"cpm",label:"CPM",sortable:"",width:"80"}}),a("el-table-column",{attrs:{prop:"cpc",label:"CPC",sortable:"",width:"80"}}),a("el-table-column",{attrs:{prop:"az",label:"安装",sortable:"",width:"90"}}),a("el-table-column",{attrs:{prop:"hf",label:"花费",sortable:"",width:"110"}}),a("el-table-column",{attrs:{prop:"cpi",label:"CPI",sortable:"",width:"80"}}),a("el-table-column",{attrs:{prop:"afInstallsNum",label:"监测平台安装",width:"130"}}),a("el-table-column",{attrs:{prop:"gap",label:"GAP",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.gap)+"%")])]}}])})],1)],1)},qt=[],Jt=(a("c5f6"),a("ac6a"),{data:function(){return{}},methods:{outTable:function(){var t="应用统计表_".concat(this.$timeFormat(new Date,"yyyyMMddHHmmss"));this.$exportHTML("outTable",t)},getSummaries:function(t){var e=t.columns,a=t.data,i=[];return e.forEach(function(t,e){if(0!==e)if(4!==e&&5!==e&&6!==e&&7!==e)if(10!==e){if(12===e)return i[12]=(100*(i[11]-i[8])/i[8]).toFixed(2),void(i[12]=i[12]<0?i[12]+"%":"+"+i[12]+"%");var s=a.map(function(e){return Number(e[t.property])});s.every(function(t){return isNaN(t)})?i[e]="":(i[e]=s.reduce(function(t,e){var a=Number(e);return isNaN(a)?t:t+e},0),i[e]=-1!=i[e].toString().indexOf(".")?i[e].toFixed(2):i[e])}else i[10]=(i[9]/i[8]).toFixed(2);else i[e]="";else i[e]="合计"}),i}},computed:Object(M["a"])({},Object(P["d"])(["appdataappid"]),Object(P["b"])(["appdatalist"]))}),Yt=Jt,Xt=(a("5e03"),Object(C["a"])(Yt,Ht,qt,!1,null,null,null)),Zt=Xt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.ifapp,expression:"ifapp"}],staticClass:"chart",attrs:{id:"appChart"}})},te=[],ee={data:function(){return{}},computed:Object(M["a"])({},Object(P["d"])(["ifapp"])),mounted:function(){myChart=Rt.init(document.getElementById("appChart"))}},ae=ee,ie=(a("adcf"),Object(C["a"])(ae,Qt,te,!1,null,"098bd6c0",null)),se=ie.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tablelist"},[a("p",{staticClass:"download"},[a("span",{on:{click:t.outListOption}},[a("i",{staticClass:"el-icon-tickets"}),t._v("\n      自定义列\n    ")]),a("span",{on:{click:t.outTable}},[t._v("导出全部\n      "),a("svg-icon",{attrs:{svgclass:"save",svgname:"save"}})],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{id:"outOther",data:t.onlyapplist,"show-summary":"","summary-method":t.getSummaries},on:{"sort-change":t.toSort,"filter-change":t.toFilter}},t._l(t.customOption,function(e,i){return a("el-table-column",{key:i,attrs:{prop:e.key,fixed:!e.checked,label:e.name,"filter-method":"国家"==e.name?t.filterTag:"平台"==e.name?t.filterTag2:null,"filter-placement":"bottom-end",filters:"国家"==e.name?t.countryfilter:"平台"==e.name?t.platFilters:null,sortable:"日期"!=e.name&&"国家"!=e.name&&"平台"!=e.name&&!e.isevent&&"custom",width:"100"},scopedSlots:t._u([{key:"default",fn:function(i){return[a("p",[t._v(t._s(i.row[e.key]||0===i.row[e.key]||"0"===i.row[e.key]?i.row[e.key]:"--"))])]}}])})}),1),a("list-option",{ref:"pandectOption",attrs:{status:t.status,customEvent:t.customevent,customUnit:t.customunit,opDefault:t.opDefault,setDefaultOption:t.setDefaultOption},on:{outOption:t.outOption,hideOptionbox:t.hideOptionbox}})],1)},oe=[],re=a("f499"),ce=a.n(re),le=a("5176"),ue=a.n(le),de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog pandectdialog",attrs:{title:"自定义列",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("div",{staticClass:"cont"},[a("div",{staticClass:"leftnav"},t._l(t.leftOption,function(e,i){return a("div",{key:i,staticClass:"line"},[a("p",{staticClass:"title",on:{click:function(a){t.goAnchor("option_"+e.key)}}},[t._v(t._s(e.title))]),t._l(e.child,function(e,i){return a("div",{key:i},["常用"!=e.name?a("p",{staticClass:"child",on:{click:function(a){t.goAnchor("option_"+e.key)}}},[t._v(t._s(e.name))]):t._e()])})],2)}),0),a("div",{staticClass:"midnav"},[a("div",{staticClass:"search"},[a("el-input",{attrs:{placeholder:"请输入搜索内容","prefix-icon":"el-icon-search"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1),a("div",{staticClass:"midlist",attrs:{id:"midList"}},t._l(t.leftOption,function(e,i){return a("div",{key:i,staticClass:"mbox"},[a("p",{staticClass:"title",attrs:{id:"option_"+e.key}},[t._v(t._s(e.title))]),t._l(e.child,function(e,i){return a("div",{key:i,staticClass:"child"},["常用"!=e.name?a("p",{staticClass:"ntitle",attrs:{id:"option_"+e.key}},[a("span",[t._v(t._s(e.name))]),a("i",{staticClass:"line"})]):t._e(),"应用内事件"==e.name?a("div",{staticClass:"event"},[a("p",{directives:[{name:"show",rawName:"v-show",value:!t.specialOption||0==t.specialOption.length,expression:"!specialOption || specialOption.length == 0"}],staticStyle:{color:"#999","text-align":"center","line-height":"30px"}},[t._v("暂无")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.specialOption&&t.specialOption.length>0,expression:"specialOption && specialOption.length > 0"}],staticClass:"eline"},[a("p",{staticClass:"tl"}),a("p",{staticClass:"nm"},[t._v("独立用户数")]),a("p",{staticClass:"nm"},[t._v("事件发生数")]),a("p",{staticClass:"nm"},[t._v("事件收益("+t._s(t.customUnit)+")")])]),t._l(t.specialOption,function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:-1!=e.name.toLowerCase().indexOf(t.state.trim().toLowerCase()),expression:"p.name.toLowerCase().indexOf(state.trim().toLowerCase()) != -1"}],key:e.name,staticClass:"eline"},[a("p",{staticClass:"tl"},[t._v(t._s(e.name))]),a("p",{staticClass:"nm"},[a("el-checkbox",{staticClass:"ck",on:{change:t.toSelectOption},model:{value:e.checked1,callback:function(a){t.$set(e,"checked1",a)},expression:"p.checked1"}})],1),a("p",{staticClass:"nm"},[a("el-checkbox",{staticClass:"ck",on:{change:t.toSelectOption},model:{value:e.checked2,callback:function(a){t.$set(e,"checked2",a)},expression:"p.checked2"}})],1),a("p",{staticClass:"nm"},[a("el-checkbox",{staticClass:"ck",on:{change:t.toSelectOption},model:{value:e.checked3,callback:function(a){t.$set(e,"checked3",a)},expression:"p.checked3"}})],1)])})],2):a("div",{staticClass:"nchild"},t._l(t.middleOption[e.name],function(e,i){return a("p",{key:i},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",disabled:!e.tip,content:e.tip,placement:"right"}},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:-1!=e.name.toLowerCase().indexOf(t.state.trim().toLowerCase()),expression:"l.name.toLowerCase().indexOf(state.trim().toLowerCase()) != -1"}],staticClass:"ckbox",on:{change:t.toSelectOption},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"l.checked"}},[t._v(t._s(e.name))])],1)],1)}),0)])})],2)}),0)]),a("div",{staticClass:"rightnav"},[a("p",{staticClass:"tagtotal"},[t._v("已选择"+t._s(this.cantDeleteOption.length+this.selectOption.length)+"项")]),a("div",{staticClass:"tagall"},[t._l(t.cantDeleteOption,function(e){return a("p",{key:e.name},[a("el-tag",{staticClass:"tagline",attrs:{type:"info"}},[t._v(t._s(e.name))])],1)}),t._l(t.selectOption,function(e){return a("p",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:e,list:t.selectOption,group:"tag"},expression:"{ item: tag, list: selectOption, group: 'tag'}"}],key:e.name},[a("el-tag",{staticClass:"tagline",attrs:{closable:"",type:"info"},on:{close:function(a){t.deleteTag(e.key)}}},[t._v(t._s(e.name))])],1)})],2)])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveList}},[t._v("确 定")])],1)])},me=[],pe={props:["status","opDefault","setDefaultOption","customEvent","customUnit"],data:function(){return{state:"",dialogFormVisible:!1,cantDeleteOption:[],selectOption:[],eventOption:[],localEvent:[],leftOption:[{title:"常用",key:"cy",child:[{name:"常用",key:"cy"}]},{title:"监测平台",key:"jcpt",child:[{name:"表现",key:"bx"},{name:"留存",key:"lc"},{name:"应用内事件",key:"yynsj"}]}],specialOption:this.customEvent,middleOption:{}}},mounted:function(){this.$dragging.$on("dragged",function(t){t.value}),this.$dragging.$on("dragend",function(){})},methods:{showBox:function(){var t=this;this.middleOption={"常用":[{name:"触达",key:"reachNum",checked:!!this.setDefaultOption.find(function(t){return"触达"==t.name})},{name:"展示",key:"showNum",checked:!!this.setDefaultOption.find(function(t){return"展示"==t.name})},{name:"点击",key:"clicksNum",checked:!!this.setDefaultOption.find(function(t){return"点击"==t.name})},{name:"CTR",key:"ctr",checked:!!this.setDefaultOption.find(function(t){return"CTR"==t.name})},{name:"CVR",key:"cvr",checked:!!this.setDefaultOption.find(function(t){return"CVR"==t.name})},{name:"CPM",key:"cpm",checked:!!this.setDefaultOption.find(function(t){return"CPM"==t.name})},{name:"CPC",key:"cpc",checked:!!this.setDefaultOption.find(function(t){return"CPC"==t.name})},{name:"安装",key:"installsNum",checked:!!this.setDefaultOption.find(function(t){return"安装"==t.name})},{name:"花费",key:"spend",checked:!!this.setDefaultOption.find(function(t){return"花费"==t.name})},{name:"CPI",key:"cpi",checked:!!this.setDefaultOption.find(function(t){return"CPI"==t.name})}],"表现":[{name:"AF_展示数",key:"afImpressionsNum",checked:!!this.setDefaultOption.find(function(t){return"AF_展示数"==t.name})},{name:"AF_点击数",key:"afClicksNum",checked:!!this.setDefaultOption.find(function(t){return"AF_点击数"==t.name})},{name:"AF_点击率",key:"afCtr",checked:!!this.setDefaultOption.find(function(t){return"AF_点击率"==t.name})},{name:"AF_安装数",key:"afInstallsNum",tip:"安装后有效激活的数量",checked:!!this.setDefaultOption.find(function(t){return"AF_安装数"==t.name})},{name:"AF_安装数差异率",key:"afMinsRate",tip:"（监测平台安装数-Facebook安装数）/Facebook安装数",checked:!!this.setDefaultOption.find(function(t){return"AF_安装数差异率"==t.name})},{name:"AF_CPI",key:"afCpi",tip:"花费/AF_安装量",checked:!!this.setDefaultOption.find(function(t){return"AF_CPI"==t.name})},{name:"AF_转化率",key:"afCvr",tip:"安装数/点击数",checked:!!this.setDefaultOption.find(function(t){return"AF_转化率"==t.name})},{name:"AF_次日留存率",key:"afRetentionRate",tip:"AF_2d_rr_user_独立用户数/AF_安装量，仅tiktok显示",checked:!!this.setDefaultOption.find(function(t){return"AF_次日留存率"==t.name})},{name:"AF_会话次数",key:"afSessionsNum",tip:"APP打开次数",checked:!!this.setDefaultOption.find(function(t){return"AF_会话次数"==t.name})},{name:"AF_忠实用户",key:"loyalUsersNum",tip:"默认为打开app超过三次以上的用户，可重新定义",checked:!!this.setDefaultOption.find(function(t){return"AF_忠实用户"==t.name})},{name:"AF_忠实用户比率",key:"afLui",tip:"忠实用户数／安装数",checked:!!this.setDefaultOption.find(function(t){return"AF_忠实用户比率"==t.name})},{name:"AF_收益",key:"totalRevenue",tip:"源自应用内购买事件的收益",checked:!!this.setDefaultOption.find(function(t){return"AF_收益"==t.name})},{name:"AF_花费",key:"totalCost",tip:"渠道上报的总花费",checked:!!this.setDefaultOption.find(function(t){return"AF_花费"==t.name})},{name:"AF_投资回报率",key:"afRoi",tip:"ROI，收益/花费",checked:!!this.setDefaultOption.find(function(t){return"AF_投资回报率"==t.name})},{name:"AF_单用户平均收益",key:"afArpu",tip:"平均每位用户带来的收益，收益/安装数",checked:!!this.setDefaultOption.find(function(t){return"AF_单用户平均收益"==t.name})},{name:"AF_平均eCPI",key:"afEcpi",tip:"每次安装的平均有效成本",checked:!!this.setDefaultOption.find(function(t){return"AF_平均eCPI"==t.name})}],"留存":[{name:"Day 1留存量",key:"retentionNum1",checked:!!this.setDefaultOption.find(function(t){return"Day 1留存量"==t.name})},{name:"Day 1留存率",key:"afReRate1",checked:!!this.setDefaultOption.find(function(t){return"Day 1留存率"==t.name})},{name:"Day 2留存量",key:"retentionNum2",checked:!!this.setDefaultOption.find(function(t){return"Day 2留存量"==t.name})},{name:"Day 2留存率",key:"afReRate2",checked:!!this.setDefaultOption.find(function(t){return"Day 2留存率"==t.name})},{name:"Day 3留存量",key:"retentionNum3",checked:!!this.setDefaultOption.find(function(t){return"Day 3留存量"==t.name})},{name:"Day 3留存率",key:"afReRate3",checked:!!this.setDefaultOption.find(function(t){return"Day 3留存率"==t.name})},{name:"Day 4留存量",key:"retentionNum4",checked:!!this.setDefaultOption.find(function(t){return"Day 4留存量"==t.name})},{name:"Day 4留存率",key:"afReRate4",checked:!!this.setDefaultOption.find(function(t){return"Day 4留存率"==t.name})},{name:"Day 5留存量",key:"retentionNum5",checked:!!this.setDefaultOption.find(function(t){return"Day 5留存量"==t.name})},{name:"Day 5留存率",key:"afReRate5",checked:!!this.setDefaultOption.find(function(t){return"Day 5留存率"==t.name})},{name:"Day 6留存量",key:"retentionNum6",checked:!!this.setDefaultOption.find(function(t){return"Day 6留存量"==t.name})},{name:"Day 6留存率",key:"afReRate6",checked:!!this.setDefaultOption.find(function(t){return"Day 6留存率"==t.name})},{name:"Day 7留存量",key:"retentionNum7",checked:!!this.setDefaultOption.find(function(t){return"Day 7留存量"==t.name})},{name:"Day 7留存率",key:"afReRate7",checked:!!this.setDefaultOption.find(function(t){return"Day 7留存率"==t.name})}]},this.cantDeleteOption=this.opDefault,this.selectOption=this.setDefaultOption,this.customEvent.forEach(function(e){e.checked1=!!t.setDefaultOption.find(function(t){return t.name=="".concat(e.name,"独立用户数")}),e.checked2=!!t.setDefaultOption.find(function(t){return t.name=="".concat(e.name,"事件发生数")}),e.checked3=!!t.setDefaultOption.find(function(t){return-1!=t.name.indexOf("".concat(e.name,"事件收益"))})})},goAnchor:function(t){document.getElementById("midList").scrollTop=document.getElementById(t).offsetTop-134},saveList:function(){var t=this.cantDeleteOption.concat(this.selectOption);this.$emit("outOption",t,this.selectOption,this.localEvent),this.dialogFormVisible=!1},toCancel:function(){this.$emit("hideOptionbox")},deleteTag:function(t){for(var e in this.selectOption=this.selectOption.filter(function(e){return e.key!=t}),this.middleOption)this.middleOption[e].forEach(function(e){t==e.key&&(e.checked=!1)})},toSelectOption:function(t){var e=this;for(var a in this.selectOption=[],this.middleOption){var i=this.middleOption[a];this.selectOption=this.selectOption.concat(i.filter(function(t){return t.checked}))}this.eventOption=[],this.localEvent=[],this.specialOption.forEach(function(t){if((t.checked1||t.checked2||t.checked3)&&e.localEvent.push(t.name),t.checked1){var a={name:t.name+"独立用户数",key:t.name+"|uniqueUsers",checked:!0,isevent:!0};e.eventOption.push(a)}if(t.checked2){var i={name:t.name+"事件发生数",key:t.name+"|eventCounter",checked:!0,isevent:!0};e.eventOption.push(i)}if(t.checked3){var s={name:t.name+"事件收益(".concat(e.customUnit,")"),key:t.name+"|salesIn",checked:!0,isevent:!0};e.eventOption.push(s)}}),this.selectOption=this.selectOption.concat(this.eventOption)}},watch:{status:function(t,e){this.dialogFormVisible=t},setDefaultOption:function(t,e){for(var a in this.selectOption=t,this.middleOption)this.middleOption[a].forEach(function(e){t.find(function(t){return t.name==e.name})?e.checked=!0:e.checked=!1})},customEvent:function(t,e){this.specialOption=t}}},fe=pe,he=(a("3d0b"),a("732e"),Object(C["a"])(fe,de,me,!1,null,"96837a44",null)),_e=he.exports,ve={props:["name"],components:{ListOption:_e},data:function(){return{sortObj:{reachNum:"reach_num",showNum:"show_num",clicksNum:"clicks_num",ctr:"ctr",cvr:"cvr",cpm:"cpm",cpc:"cpc",installsNum:"installs_num",spend:"spend",cpi:"cpi",afImpressionsNum:"af_impressions_num",afClicksNum:"af_clicks_num",afCtr:"af_ctr",afInstallsNum:"af_installs_num",afMinsRate:"af_minsRrate",afCvr:"af_cvr",afRetentionRate:"af_retentionRate",afSessionsNum:"af_sessions_num",loyalUsersNum:"af_loyal_users_num",afLui:"af_lui",totalRevenue:"af_total_revenue",totalCost:"af_total_cost",afRoi:"af_roi",afArpu:"af_arpu",afCpi:"af_cpi",afEcpi:"af_ecpi",retentionNum1:"retentionNum1",retentionNum2:"retentionNum2",retentionNum3:"retentionNum3",retentionNum4:"retentionNum4",retentionNum5:"retentionNum5",retentionNum6:"retentionNum6",retentionNum7:"retentionNum7",afReRate1:"afReRate1",afReRate2:"afReRate2",afReRate3:"afReRate3",afReRate4:"afReRate4",afReRate5:"afReRate5",afReRate6:"afReRate6",afReRate7:"afReRate7"},status:!1,opDefault:[{name:"日期",key:"insightDateFormat"},{name:"国家",key:"country"},{name:"平台",key:"userOs"}],setDefaultOption:[],customOption:[],filters:{country:[],imporession:[]},platFilters:[{text:"Android",value:"imporession_Android"},{text:"iOS",value:"imporession_iOS"}]}},created:function(){this.setDefaultOption=localStorage.getItem(pandectOptionLS.new)&&JSON.parse(localStorage.getItem(pandectOptionLS.new))[this.appdataappid]?JSON.parse(localStorage.getItem(pandectOptionLS.new))[this.appdataappid]:[{name:"触达",key:"reachNum",checked:!0},{name:"展示",key:"showNum",checked:!0},{name:"点击",key:"clicksNum",checked:!0},{name:"CTR",key:"ctr",checked:!0},{name:"CVR",key:"cvr",checked:!0},{name:"CPM",key:"cpm",checked:!0},{name:"CPC",key:"cpc",checked:!0},{name:"安装",key:"installsNum",checked:!0},{name:"花费",key:"spend",checked:!0},{name:"CPI",key:"cpi",checked:!0}],this.customOption=this.opDefault.concat(this.setDefaultOption),"597615686992125"!=this.appdataappid&&(this.customOption=this.customOption.filter(function(t){return"AF_次日留存率"!=t.name}))},watch:{appdataappid:function(t,e){t&&(this.setDefaultOption=localStorage.getItem(pandectOptionLS.new)&&JSON.parse(localStorage.getItem(pandectOptionLS.new))[t]?JSON.parse(localStorage.getItem(pandectOptionLS.new))[t]:[{name:"触达",key:"reachNum",checked:!0},{name:"展示",key:"showNum",checked:!0},{name:"点击",key:"clicksNum",checked:!0},{name:"CTR",key:"ctr",checked:!0},{name:"CVR",key:"cvr",checked:!0},{name:"CPM",key:"cpm",checked:!0},{name:"CPC",key:"cpc",checked:!0},{name:"安装",key:"installsNum",checked:!0},{name:"花费",key:"spend",checked:!0},{name:"CPI",key:"cpi",checked:!0}],this.customOption=this.opDefault.concat(this.setDefaultOption),"597615686992125"!=t&&(this.customOption=this.customOption.filter(function(t){return"AF_次日留存率"!=t.name})))}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{getSummaries:function(t){var e=this,a=t.columns,i=(t.data,[]);return a.forEach(function(t,a){switch(a){case 0:i[a]="合计";break;case 1:case 2:i[a]="";break;default:var s=e.appcpitotal[t.property]||0===e.appcpitotal[t.property]?e.appcpitotal[t.property]:"";i[a]=s;break}}),i},filterJudge:function(t){return"国家"==t?this.countryfilter:"平台"==t?[{text:"Android",value:"imporession_Android"},{text:"iOS",value:"imporession_iOS"}]:void 0},outListOption:function(){this.status=!0,this.$refs.pandectOption.showBox()},outOption:function(t,e,a){var i=this;this.customOption=t,"597615686992125"!=this.appdataappid&&(this.customOption=this.customOption.filter(function(t){return"AF_次日留存率"!=t.name})),this.setDefaultOption=[],e.forEach(function(t){i.setDefaultOption.push(ue()({},t))});var s=localStorage.getItem(pandectOptionLS.new);s=s?JSON.parse(s):{},s[this.appdataappid]=e,localStorage.setItem(pandectOptionLS.new,ce()(s));var n=localStorage.getItem(pandectEventLS.new);n=n?JSON.parse(n):{},n[this.appdataappid]=a,localStorage.setItem(pandectEventLS.new,ce()(n)),this.$store.dispatch("selectApp")},hideOptionbox:function(){this.status=!1},toSort:function(t){t.column;var e=t.prop,a=t.order;if(e){var i="appdatasort",s=this.sortObj[e];s+="ascending"==a?" asc":" desc",this.SETSTATE({k:i,v:s}),this.$store.dispatch("selectApp")}else this.SETSTATE({k:"appdatasort",v:""})},toFilter:function(t){for(var e in t)this.filters[e]=t[e];var a=[],i=[];for(var s in this.filters)this.filters[s].forEach(function(t){-1!=t.indexOf("country")&&a.push(t.split("_")[1]),-1!=t.indexOf("imporession")&&i.push(t.split("_")[1])});var n="appdatacountry",o=a.join(",");this.SETSTATE({k:n,v:o}),n="appdataimporession",o=i.join(","),this.SETSTATE({k:n,v:o}),this.SETSTATE({k:"appdataindex",v:1}),this.$store.dispatch("selectApp")},outTable:function(){var t="".concat(this.name,"每日CPI").concat(this.$timeFormat(new Date,"yyyyMMddHHmmss"));this.$store.dispatch("selectAppout",t)},filterTag:function(t,e){return!0},filterTag2:function(t,e,a){return!0}}),computed:Object(M["a"])({},Object(P["d"])(["appdataall","customevent","customunit","appdataappid","appcpitotal"]),Object(P["b"])(["onlyapplist","countryfilter"]))},ge=ve,be=(a("0c23"),Object(C["a"])(ge,ne,oe,!1,null,null,null)),ye=be.exports,ke={components:{Pandect:Ft,Sort:zt,TableList:Zt,AppChart:se,OtherTable:ye},data:function(){return{appname:""}},computed:Object(M["a"])({},Object(P["d"])(["ifapp","appdatatotal","countryfilter","appcount","ifaccount","appdataindex"])),created:function(){pandectOptionLS.old&&localStorage.getItem(pandectOptionLS.old)&&localStorage.removeItem(pandectOptionLS.old),pandectEventLS.old&&localStorage.getItem(pandectEventLS.old)&&localStorage.removeItem(pandectEventLS.old);var t="ifapp",e="";this.SETSTATE({k:t,v:e}),t="ifaccount",e=!1,this.SETSTATE({k:t,v:e});var a=this.$timeFormat((new Date).getTime()-6048e5,"yyyy-MM-dd"),i=this.$timeFormat(new Date,"yyyy-MM-dd");t="appdatastartdate",e=a,this.SETSTATE({k:t,v:e}),t="appdataenddate",e=i,this.SETSTATE({k:t,v:e}),this.$store.dispatch("infoInit",{startDate:a,endDate:i}),this.$store.dispatch("getAppCount")},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{toAddapp:function(){},pageSizeChange:function(t){var e="appdatapagesize",a=t;this.SETSTATE({k:e,v:a}),this.$store.dispatch("selectApptable")},pageSwitch:function(t){var e="appdataindex",a=t;this.SETSTATE({k:e,v:a}),this.$store.dispatch("selectApptable")},selectProject:function(t){this.appname=t}})},Ee=ke,Ce=(a("07d4"),Object(C["a"])(Ee,St,jt,!1,null,"1d486341",null)),Oe=Ce.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain"},[a("p",{staticClass:"title"},[t._v("BM同步")]),t.getbmover&&t.bmlist.length>0?a("div",{staticClass:"nav"},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelectNav}},t._l(t.bmlist,function(e,i){return a("el-menu-item",{key:i,attrs:{index:i.toString()}},[t._v(t._s(e.bmName))])}),1),a("el-button",{staticClass:"addBM",attrs:{type:"primary",size:"small"},on:{click:function(e){t.status1=!0}}},[t._v("新增BM")])],1):t._e(),t.getbmover&&t.bmlist.length>0?a("div",{staticClass:"list"},[a("div",{staticClass:"leftnav"},[a("p",{class:{on:0==t.leftnav},on:{click:function(e){t.leftTab(0)}}},[t._v("广告账户")]),a("p",{class:{on:1==t.leftnav},on:{click:function(e){t.leftTab(1)}}},[t._v("主页管理")])]),0==t.leftnav?a("div",{staticClass:"right"},[a("div",{staticClass:"ctrl"},[a("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:function(e){t.status2=!0}}},[t._v("新增账户")]),a("el-input",{staticClass:"search",attrs:{placeholder:"搜索账户ID/名称","suffix-icon":"el-icon-search"},on:{input:t.accountSearch},model:{value:t.state4,callback:function(e){t.state4=e},expression:"state4"}})],1),a("ad-list"),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper","current-page":t.pageindex,total:t.accounttotal,"page-size":t.bm_pageSize},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)],1):a("div",{staticClass:"right"},[a("div",{staticClass:"ctrl"},[a("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:function(e){t.status3=!0}}},[t._v("新增主页")]),a("el-input",{staticClass:"search",attrs:{placeholder:"搜索主页ID/名称","suffix-icon":"el-icon-search"},on:{input:t.pageSearch},model:{value:t.state5,callback:function(e){t.state5=e},expression:"state5"}})],1),a("home-page"),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper","current-page":t.bmpageindex,total:t.pagetotal,"page-size":t.bmpg_pageSize},on:{"size-change":t.pageSizeChange2,"current-change":t.bmpageSwitch}})],1)],1)]):t._e(),t.getbmover&&0==t.bmlist.length?a("div",{staticClass:"nobm"},[a("p",{staticClass:"info"},[t._v("暂无BM账号 请新增")]),a("el-button",{staticClass:"addBM2",attrs:{type:"primary",size:"small"},on:{click:function(e){t.status1=!0}}},[t._v("新增BM")])],1):t._e(),a("add-bm",{attrs:{status:t.status1},on:{cancelAddbm:t.cancelAddbm}}),a("add-account",{attrs:{status:t.status2},on:{cancelAddbm:t.cancelAddbm,dataChange:t.dataChange}}),a("add-page",{attrs:{status:t.status3},on:{cancelAddbm:t.cancelAddbm,dataChange:t.dataChange}})],1)},Ie=[],Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.disaccount}},[a("el-table-column",{attrs:{prop:"fbAccountId",label:"账户ID",width:"200"}}),a("el-table-column",{attrs:{prop:"name",label:"账户名称"}}),a("el-table-column",{attrs:{prop:"balance",label:"账户余额($)",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.balance<=0||e.row.balance<300*e.row.avgSpend?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"剩余余额不足3天花费",placement:"top-start"}},[a("i",{staticClass:"el-icon-warning"})]):t._e(),a("span",{staticStyle:{"margin-left":"0px"}},[t._v(t._s(e.row.balance/100))])]}}])}),a("el-table-column",{attrs:{prop:"accountStatus",label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:{good:1==e.row.accountStatus,bad:1!=e.row.accountStatus}},[t._v(t._s(1==e.row.accountStatus?"正常":"异常"))])]}}])}),a("el-table-column",{attrs:{label:"停用/启用",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#d7dae2"},on:{change:function(a){t.switchChange(e.row.status,e.row.fbId)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])})],1)},Ae=[],xe={data:function(){return{}},computed:Object(M["a"])({},Object(P["d"])(["disaccount"])),methods:{switchChange:function(t,e){this.$store.dispatch("accountStatus",{status:t,id:e})}}},Se=xe,je=(a("afc0"),Object(C["a"])(Se,Te,Ae,!1,null,"4b32611f",null)),De=je.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dispage}},[a("el-table-column",{attrs:{prop:"pageId",label:"主页ID",width:"200"}}),a("el-table-column",{attrs:{prop:"picture",label:"主页头像",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("span",{staticClass:"headpic"},[a("img",{attrs:{src:t.row.picture,alt:""}})])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"主页昵称"}}),a("el-table-column",{attrs:{prop:"insId",label:"instagram ID"}}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClick(e.row.pageId)}}},[t._v("同步PBIA")])]}}])})],1)},Pe=[],Le={data:function(){return{}},computed:Object(M["a"])({},Object(P["d"])(["dispage"])),methods:{handleClick:function(t){this.$store.dispatch("getPbia",t)}}},Re=Le,Ne=(a("c8ed"),Object(C["a"])(Re,Me,Pe,!1,null,"17533bea",null)),$e=Ne.exports,Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"新增BM",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{staticClass:"form",attrs:{model:t.form,"label-position":"left","label-width":t.formLabelWidth}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{id:"addBM",height:"500",data:t.addbmlist,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"BMID",width:"140"}}),a("el-table-column",{attrs:{prop:"name",label:"BM名称","show-overflow-tooltip":""}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveBm}},[t._v("确 定")])],1)],1)},Fe=[],Be={props:["status"],data:function(){return{list:!1,dialogFormVisible:!1,form:{oldpassword:"",password:"",passwordagain:""},formLabelWidth:"100px",multipleSelection:[]}},watch:{status:function(t,e){this.dialogFormVisible=t;var a="addBM";1==t&&this.$store.dispatch("getAddBmlist",{loadDom:a})}},computed:Object(M["a"])({},Object(P["d"])(["addbmlist"])),mounted:function(){},methods:{saveBm:function(){if(0!=this.multipleSelection.length){var t=[];this.multipleSelection.forEach(function(e){var a={};a.bmId=e.id,a.bmName=e.name,t.push(a)}),this.$store.dispatch("saveBm",{bm:t}),this.dialogFormVisible=!1}else Object(H["g"])("请选择需要添加BM账户")},toCancel:function(){this.$emit("cancelAddbm","status1")},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)}}},Ke=Be,Ve=Object(C["a"])(Ke,Ue,Fe,!1,null,null,null),We=Ve.exports,Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"新增主页",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{staticClass:"form",attrs:{model:t.form,"label-position":"left","label-width":t.formLabelWidth}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{id:"addPage",height:"500",data:t.disaddpage,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",selectable:t.ifChecked,width:"55"}}),a("el-table-column",{attrs:{prop:"pageId",label:"主页ID",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.permittedRoles.length&&-1!=e.row.permittedRoles.indexOf("INSIGHTS_ANALYST")?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"无创建广告权限，请去FB BM修改权限",placement:"top-start"}},[a("i",{staticClass:"el-icon-warning"})]):t._e(),a("span",{staticStyle:{"margin-left":"0px"}},[t._v(t._s(e.row.pageId))])]}}])}),a("el-table-column",{attrs:{prop:"picture",label:"主页头像",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("span",{staticClass:"headpic"},[a("img",{attrs:{src:t.row.picture,alt:""}})])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"主页名称","show-overflow-tooltip":""}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.savePage}},[t._v("确 定")])],1)],1)},ze=[],He={props:["status"],data:function(){return{list:!1,check:"",dialogFormVisible:!1,form:{},formLabelWidth:"100px",multipleSelection:[]}},watch:{status:function(t,e){this.dialogFormVisible=t;var a=this.disbmid,i="addPage";1==t&&this.$store.dispatch("getAddPage",{bmid:a,loadDom:i})}},computed:Object(M["a"])({},Object(P["d"])(["disaddpage","disbmid"])),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{ifChecked:function(t,e){return 1!=t.permittedRoles.length||-1==t.permittedRoles.indexOf("INSIGHTS_ANALYST")},savePage:function(){if(0!=this.multipleSelection.length){var t=[];this.multipleSelection.forEach(function(e){var a={};a.bmId=e.bmId,a.createTime=e.createTime,a.id=e.id,a.insId=e.insId,a.insProfilePic=e.insProfilePic,a.isUsername=e.isUsername,a.name=e.name,a.pageId=e.pageId,a.picture=e.picture,a.uid=e.uid,t.push(a)});var e="pagekwd",a="";this.SETSTATE({k:e,v:a}),this.$emit("dataChange","state5",""),this.$store.dispatch("savePage",{page:t}),this.dialogFormVisible=!1,this.check=!1}else Object(H["g"])("请选择需要添加的主页")},toCancel:function(){this.$emit("cancelAddbm","status3")},handleSelectionChange:function(t){this.multipleSelection=t}})},qe=He,Je=(a("24bd"),Object(C["a"])(qe,Ge,ze,!1,null,"36ebf08a",null)),Ye=Je.exports,Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"新增账户",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{staticClass:"form",attrs:{model:t.form,"label-position":"left","label-width":t.formLabelWidth}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{id:"addAccount",height:"500",data:t.disaddaccount,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"account_id",label:"账户ID",width:"200"}}),a("el-table-column",{attrs:{prop:"name",label:"账户名称"}}),a("el-table-column",{attrs:{prop:"balance",label:"账户余额($)",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.balance/100))])]}}])}),a("el-table-column",{attrs:{prop:"account_status",label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:{good:1==e.row.account_status,bad:1!=e.row.account_status}},[t._v(t._s(1==e.row.account_status?"正常":"异常"))])]}}])})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveAccount}},[t._v("确 定")])],1)],1)},Ze=[],Qe={props:["status"],data:function(){return{list:!1,dialogFormVisible:!1,form:{oldpassword:"",password:"",passwordagain:""},formLabelWidth:"100px",multipleSelection:[]}},mounted:function(){},computed:Object(M["a"])({},Object(P["d"])(["disaddaccount","disbmid"])),watch:{status:function(t,e){this.dialogFormVisible=t;var a=this.disbmid,i="addAccount";1==t&&this.$store.dispatch("getAddAccount",{bmid:a,loadDom:i})}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{saveAccount:function(){var t=this;if(0!=this.multipleSelection.length){var e=[];this.multipleSelection.forEach(function(a){var i={};i.accountStatus=a.account_status,i.balance=a.balance,i.bmId=t.disbmid,i.fbAccountId=a.account_id,i.fbId=a.id,i.name=a.name,i.status=1,e.push(i)});var a="accountkwd",i="";this.SETSTATE({k:a,v:i}),this.$emit("dataChange","state4",""),this.$store.dispatch("saveAccount",{account:e}),this.dialogFormVisible=!1}else Object(H["g"])("请选择需要添加的账户")},toCancel:function(){this.$emit("cancelAddbm","status2")},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)}})},ta=Qe,ea=(a("414a"),Object(C["a"])(ta,Xe,Ze,!1,null,"19d12fda",null)),aa=ea.exports,ia={components:{AdList:De,HomePage:$e,AddBm:We,AddPage:Ye,AddAccount:aa},data:function(){return{searchrun:null,activeBmid:"",activeIndex:"0",pageindex:1,bmpageindex:1,status1:!1,status2:!1,status3:!1,state4:"",state5:"",leftnav:0}},computed:Object(M["a"])({},Object(P["d"])(["getbmover","bmlist","addata","accounttotal","pagetotal","bm_pageSize","bmpg_pageSize"])),created:function(){var t="pagekwd",e="";this.SETSTATE({k:t,v:e}),t="accountkwd",e="",this.SETSTATE({k:t,v:e}),t="bm_pageSize",e=20,this.SETSTATE({k:t,v:e}),t="bmpg_pageSize",e=20,this.SETSTATE({k:t,v:e}),t="bm_pageIndex",e=1,this.SETSTATE({k:t,v:e}),t="bmpg_pageIndex",e=1,this.SETSTATE({k:t,v:e})},mounted:function(){this.$store.dispatch("getBmlist")},watch:{},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE","SETACCOUNT","ADDACCOUNT","SETPAGE","ADDPAGE"]),{pageSizeChange:function(t){var e=t,a="bm_pageSize";this.SETSTATE({k:a,v:e}),this.$store.dispatch("getAccount")},pageSizeChange2:function(t){var e=t,a="bmpg_pageSize";this.SETSTATE({k:a,v:e}),this.$store.dispatch("getPage")},dataChange:function(t,e){this[t]=e},pageSwitch:function(t){this.pageindex=t;var e=this.pageindex,a="bm_pageIndex";this.SETSTATE({k:a,v:e}),this.$store.dispatch("getAccount")},bmpageSwitch:function(t){this.bmpageindex=t;var e=this.bmpageindex,a="bmpg_pageIndex";this.SETSTATE({k:a,v:e}),this.$store.dispatch("getPage")},accountSearch:function(){var t=this;clearTimeout(this.searchrun),this.searchrun=setTimeout(function(){var e=t.state4,a="accountkwd";t.SETSTATE({k:a,v:e}),t.$store.dispatch("getAccount")},300)},pageSearch:function(){var t=this;clearTimeout(this.searchrun),this.searchrun=setTimeout(function(){var e=t.state5,a="pagekwd";t.SETSTATE({k:a,v:e}),t.$store.dispatch("getPage")},300)},cancelAddbm:function(t){this[t]=!1},leftTab:function(t){this.leftnav=t},handleSelectNav:function(t,e){if(this.activeIndex!=t){this.pageindex=1,this.bmpageindex=1,this.activeIndex=t,this.activeBmid=this.bmlist[this.activeIndex].bmId;var a="disbmid",i=this.activeBmid;this.SETSTATE({k:a,v:i}),i=1,a="bm_pageIndex",this.SETSTATE({k:a,v:i}),i=1,a="bmpg_pageIndex",this.SETSTATE({k:a,v:i}),i="",a="pagekwd",this.SETSTATE({k:a,v:i}),i="",a="accountkwd",this.SETSTATE({k:a,v:i}),this.$store.dispatch("getAccount"),this.$store.dispatch("getPage")}}})},sa=ia,na=(a("fdaa"),Object(C["a"])(sa,we,Ie,!1,null,"3755a74c",null)),oa=na.exports,ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain"},[a("p",{staticClass:"title"},[t._v("APP同步")]),a("div",{staticClass:"list"},[a("div",{staticClass:"right"},[a("div",{staticClass:"ctrl"},[a("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:function(e){t.status1=!0}}},[t._v("新增应用")]),a("el-input",{staticClass:"search",attrs:{placeholder:"搜索应用ID/名称","suffix-icon":"el-icon-search"},on:{input:t.appSearch},model:{value:t.state4,callback:function(e){t.state4=e},expression:"state4"}})],1),a("app-list",{on:{editApp:t.editApp,setDetection:t.setDetection}})],1)]),a("add-app",{attrs:{status:t.status1},on:{cancelAddapp:t.cancelAddapp}}),a("set-app",{attrs:{status:t.status2,id:t.id},on:{cancelAddapp:t.cancelAddapp}}),a("app-detection",{attrs:{status:t.status3,platform:t.platform,id:t.id},on:{cancelAddapp:t.cancelAddapp}})],1)},ca=[],la=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.disapp}},[a("el-table-column",{attrs:{prop:"picture",label:"应用LOGO",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("span",{staticClass:"headpic"},[a("img",{attrs:{src:t.row.picture,alt:""}})])]}}])}),a("el-table-column",{attrs:{prop:"applicationId",label:"应用ID",width:"200"}}),a("el-table-column",{attrs:{prop:"name",label:"应用名称"}}),a("el-table-column",{attrs:{prop:"category",label:"平台",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.applicationPlatformVO,function(e,i){return a("span",{key:i,staticClass:"marketType"},[t._v(t._s(e.marketType))])})}}])}),a("el-table-column",{attrs:{prop:"accountNum",label:"广告账户",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.setApp(e.row.applicationId)}}},[t._v(t._s(e.row.accountNum))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small",disabled:0==e.row.applicationPlatformVO.filter(function(t){return"google_play"==t.marketType||"itunes"==t.marketType}).length},on:{click:function(a){t.setDetection(e.row.applicationId,e.row.applicationPlatformVO)}}},[t._v("设置监测平台")])]}}])})],1)},ua=[],da={data:function(){return{}},computed:Object(M["a"])({},Object(P["b"])(["disapp"])),methods:{switchChange:function(t,e){this.$store.dispatch("accountStatus",{status:t,id:e})},setApp:function(t){this.$emit("editApp",t)},setDetection:function(t,e){this.$emit("setDetection",t,e)}}},ma=da,pa=(a("a3db"),Object(C["a"])(ma,la,ua,!1,null,"b1cf70c6",null)),fa=pa.exports,ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"新增应用",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{staticClass:"form",attrs:{model:t.form,"label-position":"left","label-width":t.formLabelWidth}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{id:"addApp",height:"500",data:t.addapplist,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"picture",label:"应用LOGO",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("span",{staticClass:"headpic"},[a("img",{attrs:{src:t.row.picture,alt:""}})])]}}])}),a("el-table-column",{attrs:{prop:"applicationId",label:"应用ID",width:"160"}}),a("el-table-column",{attrs:{prop:"name",label:"应用名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"category",label:"平台",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.applicationPlatformVO,function(e,i){return a("span",{key:i,staticClass:"marketType"},[t._v(t._s(e.marketType))])})}}])})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveApp}},[t._v("确 定")])],1)],1)},_a=[],va={props:["status"],data:function(){return{list:!1,dialogFormVisible:!1,form:{},formLabelWidth:"100px",multipleSelection:[]}},watch:{status:function(t,e){this.dialogFormVisible=t;var a="addApp";1==t&&this.$store.dispatch("getAddApplist",{loadDom:a})}},computed:Object(M["a"])({},Object(P["d"])(["addapplist","disbmid"])),methods:{saveApp:function(){if(0!=this.multipleSelection.length){var t=[];this.multipleSelection.forEach(function(e){var a={};a.applicationId=e.applicationId,a.applicationPlatformVO=e.applicationPlatformVO,a.category=e.category,a.id=e.id,a.name=e.name,a.picture=e.picture,a.uid=e.uid,t.push(a)}),this.$store.dispatch("saveApp",{app:t}),this.dialogFormVisible=!1}else Object(H["g"])("请选择需要添加的应用")},toCancel:function(){this.$emit("cancelAddapp","status1")},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.multipleTable.toggleRowSelection(t)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){this.multipleSelection=t}}},ga=va,ba=(a("c03a"),Object(C["a"])(ga,ha,_a,!1,null,"42a38d72",null)),ya=ba.exports,ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:t.title,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("div",{staticClass:"set"},[a("el-input",{staticClass:"search",attrs:{placeholder:"搜索广告账户ID/名称","suffix-icon":"el-icon-search"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}}),a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelectNav}},[a("el-menu-item",{attrs:{index:"0"}},[t._v("已加入")]),a("el-menu-item",{attrs:{index:"1"}},[t._v("未加入")])],1),"0"==t.activeIndex?a("p",{staticClass:"allctrl",on:{click:t.delAll}},[t._v("删除全部")]):a("p",{staticClass:"allctrl",on:{click:t.selAll}},[t._v("选择全部")]),a("el-select",{staticClass:"select",attrs:{placeholder:"请选择"},on:{change:t.selectChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),0==t.activeIndex?a("set-list",{attrs:{id:t.id,keyword:t.state}}):t._e(),1==t.activeIndex?a("can-set",{attrs:{id:t.id,keyword:t.state}}):t._e()],1)])},Ea=[],Ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{height:"400",id:"setList",data:t.list}},[a("el-table-column",{attrs:{prop:"fbAccountId",label:"账户ID",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"账户名称"}}),a("el-table-column",{attrs:{prop:"balance",label:"账户余额($)",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.balance/100))])]}}])}),a("el-table-column",{attrs:{prop:"stateName",label:"是否启用",width:"120"}}),a("el-table-column",{attrs:{prop:"address",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.toCancel(e.row.fbId)}}},[t._v("取消")])]}}])})],1)},Oa=[],wa={props:["id","keyword"],data:function(){return{}},computed:Object(M["a"])({},Object(P["b"])(["setapplist"]),{list:function(){var t=this.keyword.trim().toLowerCase();return this.setapplist.filter(function(e){return-1!=e.fbAccountId.toLowerCase().indexOf(t)||-1!=e.name.toLowerCase().indexOf(t)})}}),methods:{toCancel:function(t){var e={fbAccountId:t,applicationId:this.id},a=e.fbAccountId,i=e.applicationId;this.$store.dispatch("delSet",{option:[{fbAccountId:a,applicationId:i}]})}}},Ia=wa,Ta=Object(C["a"])(Ia,Ca,Oa,!1,null,null,null),Aa=Ta.exports,xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{height:"400",id:"cansetapplist",data:t.list}},[a("el-table-column",{attrs:{prop:"fbAccountId",label:"账户ID",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"账户名称"}}),a("el-table-column",{attrs:{prop:"balance",label:"账户余额($)",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.balance/100))])]}}])}),a("el-table-column",{attrs:{prop:"address",label:"是否启用",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("span",[t._v("已启用")]):a("span",[t._v("未启用")])]}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.toSet(e.row.fbId)}}},[t._v("加入")])]}}])})],1)},Sa=[],ja={props:["id","keyword"],data:function(){return{}},computed:Object(M["a"])({},Object(P["b"])(["cansetapplist"]),{list:function(){var t=this.keyword.trim().toLowerCase();return this.cansetapplist.filter(function(e){return-1!=e.fbAccountId.toLowerCase().indexOf(t)||-1!=e.name.toLowerCase().indexOf(t)})}}),methods:{toSet:function(t){var e=t,a=this.id;this.$store.dispatch("saveSet",{option:[{fbAccountId:e,applicationId:a}]})}}},Da=ja,Ma=Object(C["a"])(Da,xa,Sa,!1,null,null,null),Pa=Ma.exports,La={props:["status","id"],components:{SetList:Aa,CanSet:Pa},data:function(){return{activeIndex:"0",dialogFormVisible:!1,title:"",state:"",options:[{value:"1",label:"已启用"},{value:"0",label:"未启用"}],value:""}},watch:{status:function(t,e){this.dialogFormVisible=t;var a=this.id;1==t&&(this.$store.dispatch("setApp",{id:a,loading:"setList"}),this.$store.dispatch("canSetapp",{id:a}))},id:function(t,e){if(""!=t){var a=this.disapp.find(function(e){return e.applicationId==t});this.title="设置"+a.name+"的广告账户"}}},computed:Object(M["a"])({},Object(P["b"])(["disapp","setapplist","cansetapplist"])),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{createSearch:function(){},delAll:function(){var t=this,e=[];this.setapplist.forEach(function(a){var i={};i.fbAccountId=a.fbId,i.applicationId=t.id,e.push(i)}),this.$store.dispatch("delSet",{option:e})},selAll:function(){var t=this,e=[];this.cansetapplist.forEach(function(a){var i={};i.fbAccountId=a.fbId,i.applicationId=t.id,e.push(i)}),this.$store.dispatch("saveSet",{option:e})},handleSelectNav:function(t){t!=this.activeIndex&&(this.activeIndex=t)},toCancel:function(){this.activeIndex="0",this.value="",this.$emit("cancelAddapp","status2");var t="setappstatus",e=this.value;this.SETSTATE({k:t,v:e}),this.state=""},selectChange:function(){var t="setappstatus",e=this.value;this.SETSTATE({k:t,v:e})}})},Ra=La,Na=(a("285b"),Object(C["a"])(Ra,ka,Ea,!1,null,"583aa6d9",null)),$a=Na.exports,Ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"设置监测平台",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{staticClass:"form",attrs:{model:t.form,"label-position":"left","label-width":t.formLabelWidth}},[t.platform.find(function(t){return"google_play"==t.marketType})?a("p",{staticClass:"title"},[t._v("设置Google Play监测平台")]):t._e(),t.platform.find(function(t){return"google_play"==t.marketType})?a("el-form-item",{attrs:{label:"监测平台"}},[a("el-radio-group",{model:{value:t.form.radio1,callback:function(e){t.$set(t.form,"radio1",e)},expression:"form.radio1"}},[a("el-radio",{attrs:{label:"AppsFlyer"}})],1)],1):t._e(),t.platform.find(function(t){return"google_play"==t.marketType})?a("el-form-item",{attrs:{label:"API密钥"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",placeholder:"请输入密钥"},model:{value:t.form.apikey1,callback:function(e){t.$set(t.form,"apikey1",e)},expression:"form.apikey1"}})],1):t._e(),t.platform.find(function(t){return"itunes"==t.marketType})?a("p",{staticClass:"title"},[t._v("设置iTunes监测平台")]):t._e(),t.platform.find(function(t){return"itunes"==t.marketType})?a("el-form-item",{attrs:{label:"监测平台"}},[a("el-radio-group",{model:{value:t.form.radio2,callback:function(e){t.$set(t.form,"radio2",e)},expression:"form.radio2"}},[a("el-radio",{attrs:{label:"AppsFlyer"}})],1)],1):t._e(),t.platform.find(function(t){return"itunes"==t.marketType})?a("el-form-item",{attrs:{label:"API密钥"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",placeholder:"请输入密钥"},model:{value:t.form.apikey2,callback:function(e){t.$set(t.form,"apikey2",e)},expression:"form.apikey2"}})],1):t._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toSet}},[t._v("确 定")])],1)],1)},Fa=[],Ba={props:["status","id","platform"],data:function(){return{dialogFormVisible:!1,form:{radio1:"",radio2:"",apikey1:"",apikey2:""},formLabelWidth:"100px"}},mounted:function(){},computed:Object(M["a"])({},Object(P["b"])(["disapp"])),watch:{status:function(t,e){var a=this;if(this.dialogFormVisible=t,t){this.formReset();var i=this.disapp.find(function(t){return t.applicationId==a.id});i&&i.AfDataList.forEach(function(t){"google_play"==t.marketType&&t.afKey&&(a.form.radio1="AppsFlyer",a.form.apikey1=t.afKey),"itunes"==t.marketType&&t.afKey&&(a.form.radio2="AppsFlyer",a.form.apikey2=t.afKey)})}}},methods:{toSet:function(){this.form.radio1||this.form.radio2?(!this.platform.find(function(t){return"google_play"==t.marketType})||this.form.radio1&&""!=this.form.apikey1)&&(!this.platform.find(function(t){return"itunes"==t.marketType})||this.form.radio2&&""!=this.form.apikey2)?(this.form.radio1&&this.$store.dispatch("setAF",{application_id:this.id,market_type:"google_play",af_key:this.form.apikey1}),this.form.radio2&&this.$store.dispatch("setAF",{application_id:this.id,market_type:"itunes",af_key:this.form.apikey2}),this.dialogFormVisible=!1,this.formReset()):Object(H["g"])("请完善平台信息"):Object(H["g"])("请选择监测平台")},formReset:function(){this.form.radio1="",this.form.radio2="",this.form.apikey1="",this.form.apikey2=""},toCancel:function(){this.$emit("cancelAddapp","status3")}}},Ka=Ba,Va=(a("5c43"),Object(C["a"])(Ka,Ua,Fa,!1,null,"3bf88b05",null)),Wa=Va.exports,Ga={components:{AppList:fa,AddApp:ya,SetApp:$a,AppDetection:Wa},data:function(){return{status1:!1,status2:!1,status3:!1,state4:"",platform:[],id:""}},computed:Object(M["a"])({},Object(P["d"])(["bmlist","addata"])),created:function(){var t="appkwd",e="";this.SETSTATE({k:t,v:e})},mounted:function(){this.$store.dispatch("getApplist")},watch:{},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{setDetection:function(t,e){this.status3=!0,this.platform=e,this.id=t},appSearch:function(){var t=this.state4.toLowerCase(),e="appkwd";this.SETSTATE({k:e,v:t})},cancelAddapp:function(t){this[t]=!1},editApp:function(t){this.status2=!0,this.id=t}})},za=Ga,Ha=(a("1163"),Object(C["a"])(za,ra,ca,!1,null,"61b108b8",null)),qa=Ha.exports,Ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain"},[a("p",{staticClass:"title"},[t._v("管理项目")]),a("div",{staticClass:"list"},[a("div",{staticClass:"right"},[a("div",{staticClass:"ctrl"},[a("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:function(e){t.status=!0}}},[t._v("创建项目")]),a("router-link",{staticClass:"cantmanage",attrs:{to:"/notmanage"}},[t._v("已归档项目")]),a("el-input",{staticClass:"search",attrs:{placeholder:"搜索项目ID/名称","suffix-icon":"el-icon-search"},on:{input:t.projectSearch},model:{value:t.state4,callback:function(e){t.state4=e},expression:"state4"}})],1),a("manage-list",{on:{editProject:t.editProject,overProject:t.overProject}}),a("manage-over",{attrs:{id:t.overid,status:t.status2},on:{cancelAddbm:t.cancelAddbm}}),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper",total:t.total,"page-size":t.pagesize},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)],1)]),a("manage-add",{attrs:{status:t.status,title:t.title,id:t.editid},on:{cancelAddbm:t.cancelAddbm}})],1)},Ya=[],Xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dismanage,id:"manageTable"}},[a("el-table-column",{attrs:{prop:"id",label:"项目ID",width:"140"}}),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{staticClass:"detail",attrs:{to:"/project/"+e.row.id}},[t._v(t._s(e.row.projectName))])]}}])}),a("el-table-column",{attrs:{prop:"creater",label:"创建人/时间",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"marketType"},[t._v(t._s(e.row.creater))]),a("span",{staticClass:"marketType"},[t._v(t._s(t._f("timeFormat")(e.row.createTime)))])]}}])}),a("el-table-column",{attrs:{prop:"projectPlatform",label:"投放平台",width:"100"}}),a("el-table-column",{attrs:{prop:"projectTarget",label:"项目目标"}}),a("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"}},[a("router-link",{staticClass:"detail",attrs:{to:"/project/"+e.row.id}},[t._v("详情")])],1),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.toEdit(e.row.id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.toOver(e.row.id)}}},[t._v("归档")])]}}])})],1)},Za=[],Qa={data:function(){return{}},computed:Object(M["a"])({},Object(P["b"])(["dismanage"])),created:function(){var t="",e="projectkwd";this.SETSTATE({k:e,v:t})},mounted:function(){this.$store.dispatch("getManagelist",{})},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{toEdit:function(t){this.$emit("editProject",t)},toOver:function(t){this.$emit("overProject",t)}})},ti=Qa,ei=(a("875f"),Object(C["a"])(ti,Xa,Za,!1,null,"2586c0fc",null)),ai=ei.exports,ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:t.title,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{staticClass:"form",attrs:{model:t.form,"label-position":"left","label-width":t.formLabelWidth}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.form.projectname,callback:function(e){t.$set(t.form,"projectname",e)},expression:"form.projectname"}})],1),a("el-form-item",{attrs:{label:"投放平台"}},[a("el-radio-group",{model:{value:t.form.radio1,callback:function(e){t.$set(t.form,"radio1",e)},expression:"form.radio1"}},[a("el-radio",{attrs:{label:"Facebook"}})],1)],1),a("el-form-item",{attrs:{label:"项目目标"}},[a("el-radio-group",{model:{value:t.form.radio2,callback:function(e){t.$set(t.form,"radio2",e)},expression:"form.radio2"}},[a("el-radio",{attrs:{label:"安装应用"}})],1)],1),a("el-form-item",{attrs:{label:"选择应用"}},[a("el-select",{staticClass:"addselect",attrs:{disabled:""!=t.id,placeholder:"请选择应用"},model:{value:t.form.region,callback:function(e){t.$set(t.form,"region",e)},expression:"form.region"}},t._l(t.manageapplist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.applicationId}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toAdd}},[t._v("确 定")])],1)],1)},si=[],ni={props:["status","id","title"],data:function(){return{dialogFormVisible:!1,form:{projectname:"",radio1:"Facebook",radio2:"安装应用",region:""},formLabelWidth:"100px"}},mounted:function(){this.$store.dispatch("manageApplist")},computed:Object(M["a"])({},Object(P["d"])(["manageapplist"]),Object(P["b"])(["dismanage"])),watch:{status:function(t,e){this.dialogFormVisible=t},id:function(t,e){if(""!=t){var a=this.dismanage.find(function(e){return e.id==t});this.form.projectname=a.projectName,this.form.region=a.applicationId}}},methods:{toAdd:function(){if(""!=this.form.projectname)if(/\s/g.test(this.form.projectname)||this.form.projectname.replace(/[\u0391-\uFFE5]/g,"aa").length>50)Object(H["g"])("项目名称不能有空格，且长度不能大于50个字符");else if(""!=this.form.region){var t=this.form.projectname,e=this.form.region,a=0,i=0,s=this.id;this.id?this.$store.dispatch("editProject",{appid:e,pname:t,pplat:a,ptag:i,id:s}):this.$store.dispatch("addProject",{appid:e,pname:t,pplat:a,ptag:i,id:s}),this.dialogFormVisible=!1,this.form.projectname="",this.form.region=""}else Object(H["g"])("请选择应用");else Object(H["g"])("请输入项目名称")},toCancel:function(){this.$emit("cancelAddbm","status"),this.form.projectname="",this.form.region=""}}},oi=ni,ri=(a("ee25"),Object(C["a"])(oi,ii,si,!1,null,"88273f9c",null)),ci=ri.exports,li=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.toCancel}},[a("span",[t._v("归档后将不可进入，确认归档？")]),a("el-checkbox",{staticClass:"checkbox",model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("停用广告系列")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toOver}},[t._v("确 定")])],1)],1)},ui=[],di={props:["id","status"],data:function(){return{dialogVisible:!1,checked:!1}},methods:{toCancel:function(){this.$emit("cancelAddbm","status2"),this.checked=!1},toOver:function(){var t=this.id,e=this.checked;this.$store.dispatch("overProject",{id:t,adIsOff:e}),this.dialogVisible=!1}},watch:{status:function(t,e){this.dialogVisible=t}}},mi=di,pi=(a("81b6"),Object(C["a"])(mi,li,ui,!1,null,"0dd57f8c",null)),fi=pi.exports,hi={components:{ManageList:ai,ManageAdd:ci,ManageOver:fi},data:function(){return{size:20,status:!1,status2:!1,state4:"",editid:"",overid:"",title:"创建项目"}},computed:Object(M["a"])({},Object(P["b"])(["dismanage"]),Object(P["d"])(["total","pagesize"])),created:function(){},mounted:function(){this.SETSTATE({k:"managelist",v:[]})},watch:{},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{pageSizeChange:function(t){var e=t;this.size=t,this.$store.dispatch("getManagelist",{pageSize:e})},pageSwitch:function(t){var e=t,a=this.size;this.$store.dispatch("getManagelist",{pageIndex:e,pageSize:a})},projectSearch:function(){var t=this.state4,e="projectkwd";this.SETSTATE({k:e,v:t});var a=this.size;this.$store.dispatch("getManagelist",{pageSize:a})},cancelAddbm:function(t){this[t]=!1,this.editid="",this.title="创建项目"},editProject:function(t){this.status=!0,this.editid=t,this.title="编辑项目"},overProject:function(t){this.status2=!0,this.overid=t}})},_i=hi,vi=(a("7b9d"),Object(C["a"])(_i,Ja,Ya,!1,null,"007c45f5",null)),gi=vi.exports,bi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain"},[a("p",{staticClass:"title"},[a("router-link",{staticClass:"back",attrs:{to:"/manage"}},[t._v("管理项目")]),t._v("  >  已归档项目")],1),a("div",{staticClass:"list"},[a("div",{staticClass:"right"},[a("div",{staticClass:"ctrl"},[a("el-input",{staticClass:"search2",attrs:{placeholder:"搜索项目ID/名称","suffix-icon":"el-icon-search"},on:{input:t.projectSearch},model:{value:t.state4,callback:function(e){t.state4=e},expression:"state4"}})],1),a("notmanage-list",{on:{beginProject:t.beginProject}}),a("manage-begin",{attrs:{id:t.beginid,status:t.status2},on:{cancelAddbm:t.cancelAddbm}}),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper",total:t.total,"page-size":t.pagesize},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)],1)])])},yi=[],ki=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.toCancel}},[a("span",[t._v("确认激活此项目吗？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toBegin}},[t._v("确 定")])],1)])},Ei=[],Ci={props:["id","status"],data:function(){return{dialogVisible:!1}},methods:{toCancel:function(){this.$emit("cancelAddbm","status2")},toBegin:function(){var t=this.id;this.$store.dispatch("beginProject",{id:t}),this.dialogVisible=!1}},watch:{status:function(t,e){this.dialogVisible=t}}},Oi=Ci,wi=(a("9341"),Object(C["a"])(Oi,ki,Ei,!1,null,"0a6a2960",null)),Ii=wi.exports,Ti=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dismanage,id:"manageTable"}},[a("el-table-column",{attrs:{prop:"id",label:"项目ID",width:"140"}}),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称"}}),a("el-table-column",{attrs:{prop:"closer",label:"归档人/时间",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"marketType"},[t._v(t._s(e.row.closer))]),a("span",{staticClass:"marketType"},[t._v(t._s(t._f("timeFormat")(e.row.closeTime)))])]}}])}),a("el-table-column",{attrs:{prop:"projectPlatform",label:"投放平台",width:"100"}}),a("el-table-column",{attrs:{prop:"projectTarget",label:"项目目标"}}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.toBegin(e.row.id)}}},[t._v("激活")])]}}])})],1)},Ai=[],xi={data:function(){return{}},computed:Object(M["a"])({},Object(P["b"])(["dismanage"])),created:function(){var t="",e="projectkwd";this.SETSTATE({k:e,v:t})},mounted:function(){var t=0;this.$store.dispatch("getManagelist",{status:t})},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{toBegin:function(t){this.$emit("beginProject",t)}})},Si=xi,ji=(a("6c9b"),Object(C["a"])(Si,Ti,Ai,!1,null,"78408035",null)),Di=ji.exports,Mi={components:{NotmanageList:Di,ManageBegin:Ii},data:function(){return{size:20,status:!1,status2:"",state4:"",beginid:""}},computed:Object(M["a"])({},Object(P["b"])(["dismanage"]),Object(P["d"])(["total","pagesize"])),mounted:function(){this.SETSTATE({k:"managelist",v:[]})},watch:{},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{pageSizeChange:function(t){var e=t;this.size=t;var a=0;this.$store.dispatch("getManagelist",{pageSize:e,status:a})},pageSwitch:function(t){var e=t,a=this.size,i=0;this.$store.dispatch("getManagelist",{pageIndex:e,pageSize:a,status:i})},projectSearch:function(){var t=this.state4,e="projectkwd",a=0;this.SETSTATE({k:e,v:t});var i=this.size;this.$store.dispatch("getManagelist",{pageSize:i,status:a})},cancelAddbm:function(t){this[t]=!1},beginProject:function(t){this.status2=!0,this.beginid=t}})},Pi=Mi,Li=(a("32b0"),Object(C["a"])(Pi,bi,yi,!1,null,"fa0158b8",null)),Ri=Li.exports,Ni=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contain"},[a("p",{staticClass:"title"},[t._v("规则列表")]),a("div",{staticClass:"list"},[a("div",{staticClass:"right"},[a("div",{staticClass:"ctrl"},[a("el-select",{staticClass:"select",attrs:{filterable:"","collapse-tags":"",placeholder:"状态"},on:{change:t.toSort},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.statuslist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),a("el-input",{staticClass:"search",attrs:{placeholder:"搜索规则ID/名称","suffix-icon":"el-icon-search"},on:{input:t.reguSearch},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1),a("regular-list"),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper","current-page":t.rg_pageNo,total:t.regulartotal,"page-size":t.rg_pageSize},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)],1)])])},$i=[],Ui=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.regularlist}},[a("el-table-column",{attrs:{prop:"id",label:"规则ID",width:"140"}}),a("el-table-column",{attrs:{prop:"name",label:"规则名称",width:"300"}}),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),a("el-table-column",{attrs:{prop:"statusName",label:"状态",width:"140"}}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!=e.row.ruleStatus?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.setApp(e.row.id,0)}}},[t._v("测试")]):t._e(),1!=e.row.ruleStatus?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.setApp(e.row.id,1)}}},[t._v("上架")]):t._e(),2!=e.row.ruleStatus?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.setApp(e.row.id,2)}}},[t._v("下架")]):t._e()]}}])})],1)},Fi=[],Bi={data:function(){return{}},computed:Object(M["a"])({},Object(P["d"])(["regularlist"])),methods:{switchChange:function(t,e){this.$store.dispatch("accountStatus",{status:t,id:e})},setApp:function(t,e){this.$store.dispatch("setRegularStatus",{status:e,id:t})}}},Ki=Bi,Vi=(a("26c8"),Object(C["a"])(Ki,Ui,Fi,!1,null,"3127a839",null)),Wi=Vi.exports,Gi=null,zi={components:{RegularList:Wi},data:function(){return{status:"",state:"",statuslist:[{name:"不限",id:"-1"},{name:"测试",id:"0"},{name:"已上架",id:"1"},{name:"已下架",id:"2"}]}},mounted:function(){this.$store.dispatch("getRegular")},computed:Object(M["a"])({},Object(P["d"])(["regulartotal","rg_pageSize","rg_pageNo"])),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{pageSwitch:function(t){var e="rg_pageNo",a=t;this.SETSTATE({k:e,v:a}),this.toGetRegular()},pageSizeChange:function(t){var e="rg_pageSize",a=t;this.SETSTATE({k:e,v:a}),e="rg_pageNo",a=1,this.SETSTATE({k:e,v:a}),this.toGetRegular()},toSort:function(){var t="rg_ruleStatus",e="-1"==this.status?"":this.status;this.SETSTATE({k:t,v:e}),t="rg_pageNo",e=1,this.SETSTATE({k:t,v:e}),this.toGetRegular()},toGetRegular:function(){this.$store.dispatch("getRegular")},reguSearch:function(){var t=this,e="rg_keyword",a=this.state;this.SETSTATE({k:e,v:a}),e="rg_pageNo",a=1,this.SETSTATE({k:e,v:a}),clearTimeout(Gi),Gi=setTimeout(function(){t.toGetRegular()},300)}})},Hi=zi,qi=(a("7cf0"),Object(C["a"])(Hi,Ni,$i,!1,null,"8c04a7f4",null)),Ji=qi.exports,Yi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reguform"},[a("p",{staticClass:"title"},[t._v("规则报表")]),a("div",{staticClass:"ctrlbutton"},[a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"规则"},on:{change:t.toSort},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.allrules,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),a("el-date-picker",{staticClass:"datar",attrs:{type:"daterange",clearable:!1,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.toSort},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._m(0),t._m(1),a("p",{staticClass:"download"},[a("span",{on:{click:t.outTable}},[t._v(" 导出全部\n      "),a("svg-icon",{attrs:{svgname:"save",svgclass:"save"}})],1)]),a("reguform-list")],1)},Xi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"piechart"},[a("div",{staticClass:"drawchart"},[a("p",{staticClass:"ctitle"},[t._v("规则启用比例")]),a("div",{staticClass:"chart",attrs:{id:"Chart1"}})]),a("div",{staticClass:"drawchart"},[a("p",{staticClass:"ctitle"},[t._v("规则触发比例")]),a("div",{staticClass:"chart",attrs:{id:"Chart2"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stripchart"},[a("div",{staticClass:"chart",attrs:{id:"Chart3"}})])}],Zi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"1200px"},attrs:{id:"regularList",data:t.ruleform},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"groupId",label:"规则ID",width:"140"}}),a("el-table-column",{attrs:{prop:"name",label:"规则名称",width:"400"}}),a("el-table-column",{attrs:{prop:"installChange",label:"安装变化",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.installChange?e.row.installChange.toFixed(2)+"%":"--")+"\n    ")]}}])}),a("el-table-column",{attrs:{prop:"costChange",label:"花费变化",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.costChange?e.row.costChange.toFixed(2)+"%":"--")+"\n    ")]}}])}),a("el-table-column",{attrs:{prop:"cpiChange",label:"CPI变化",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(e.row.cpiChange?e.row.cpiChange.toFixed(2)+"%":"--")+"\n    ")]}}])})],1)},Qi=[],ts={data:function(){return{filters:{country:[],imporession:[]}}},methods:{sortChange:function(t){t.column;var e=t.prop,a=t.order,i="";switch(e){case"installsNum":i="ascending"==a?"installs_num asc":"installs_num desc";break;case"spend":i="ascending"==a?"spend asc":"spend desc";break;case"cpi":i="ascending"==a?"cpi asc":"cpi desc";break}this.$emit("tableSort",i)}},computed:Object(M["a"])({},Object(P["d"])(["ruleform"]))},es=ts,as=(a("6ffc"),Object(C["a"])(es,Zi,Qi,!1,null,null,null)),is=as.exports,ss={components:{ReguformList:is},data:function(){return{value:[(new Date).getTime()-5184e5,new Date],status:[]}},computed:Object(M["a"])({},Object(P["d"])(["allrules"])),mounted:function(){this.$store.dispatch("getAllRules");var t=this.$timeFormat(this.value[0],"yyyy-MM-dd"),e=this.$timeFormat(this.value[1],"yyyy-MM-dd");this.$store.dispatch("getReguFormData",{startTime:t,endTime:e}),myChart5=Rt.init(document.getElementById("Chart1")),myChart6=Rt.init(document.getElementById("Chart2")),myChart7=Rt.init(document.getElementById("Chart3"))},methods:{toSort:function(){var t=this.status.join(","),e=this.value?this.$timeFormat(this.value[0],"yyyy-MM-dd"):"",a=this.value?this.$timeFormat(this.value[1],"yyyy-MM-dd"):"";this.$store.dispatch("getReguFormData",{startTime:e,endTime:a,ruleGroupIds:t})},outTable:function(){var t="规则报表".concat(this.$timeFormat(this.value[0],"yyyy-MM-dd"),"_").concat(this.$timeFormat(this.value[1],"yyyy-MM-dd"));this.$exportHTML("regularList",t)}}},ns=ss,os=(a("55e7"),Object(C["a"])(ns,Yi,Xi,!1,null,"5fa7eb18",null)),rs=os.exports,cs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"msgpage"},[a("div",{staticClass:"ctrl"},[a("p",{staticClass:"title"},[t._v("消息中心")]),a("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:t.setRead}},[t._v("全部已读")])],1),a("message-list"),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper","current-page":t.pageIndex,total:t.messagetotal,"page-size":t.pageSize},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)],1)},ls=[],us=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"msglist"},[a("el-collapse",{attrs:{accordion:""},on:{change:t.handleChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},t._l(t.list,function(e,i){return a("el-collapse-item",{key:i,attrs:{title:"",name:e.id}},[a("template",{slot:"title"},[a("p",{staticClass:"dot"},[a("span",{directives:[{name:"show",rawName:"v-show",value:0==e.status,expression:"l.status == 0"}]})]),a("p",{class:{msgtitle:!0,read:0!=e.status},domProps:{innerHTML:t._s(e.title)}}),a("p",{class:{time:!0,read:0!=e.status}},[t._v(t._s(t._f("timeFormat")(e.createTime,"yyyy-MM-dd HH:mm")))])]),"asyncTask"==e.busiType?a("div",{staticClass:"msgdesc",domProps:{innerHTML:t._s(e.message)},on:{click:function(a){t.taskDetail(e.extraInfo,e.message)}}}):a("div",{staticClass:"msgdesc",domProps:{innerHTML:t._s(e.message)}})],2)}),1)],1)},ds=[],ms={data:function(){return{activeNames:""}},computed:Object(M["a"])({},Object(P["d"])(["messagelist","msgpagesize","msgpageindex"]),{list:function(){var t=(this.msgpageindex-1)*this.msgpagesize,e=t+this.msgpagesize;return this.messagelist.slice(t,e)}}),mounted:function(){},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{handleChange:function(t){if(t){var e=this.list.find(function(e){return e.id==t});if(0==e.status){var a=e.id;this.$store.dispatch("updateMessage",{ids:a})}}},taskDetail:function(t,e){this.SETSTATE({k:"jobfailkey",v:t}),this.SETSTATE({k:"jobfaildetail",v:!0});var a=e.indexOf("taskDetail");if(-1!=a){var i=e.substr(a+11),s=i.lastIndexOf(")"),n=i.substring(0,s-1).split(",");console.log(n),this.SETSTATE({k:"taskfaildetail",v:n[1].trim().replace(",","")}),this.SETSTATE({k:"tasksuccessdetail",v:n[2].trim()}),this.SETSTATE({k:"tasknamedetail",v:n[3].trim().substr(1)})}}})},ps=ms,fs=(a("7648"),a("9099"),Object(C["a"])(ps,us,ds,!1,null,"6e597423",null)),hs=fs.exports,_s={components:{MessageList:hs},beforeRouteLeave:function(t,e,a){clearInterval(i),a()},data:function(){return{pageSize:20,pageIndex:1}},computed:Object(M["a"])({},Object(P["d"])(["messagetotal"])),mounted:function(){var t=this;this.$store.dispatch("getMessageList"),i=setInterval(function(){t.$store.dispatch("getMessageList")},3e3)},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{setRead:function(){this.SETSTATE({k:"messagecount",v:0}),this.$store.dispatch("setAllRead")},pageSizeChange:function(t){this.pageSize=t,this.pageIndex=1;var e="msgpagesize",a=t;this.SETSTATE({k:e,v:a}),e="msgpageindex",a=1,this.SETSTATE({k:e,v:a})},pageSwitch:function(t){this.pageIndex=t;var e="msgpageindex",a=t;this.SETSTATE({k:e,v:a})}})},vs=_s,gs=(a("4ed5"),Object(C["a"])(vs,cs,ls,!1,null,"75915b40",null)),bs=gs.exports,ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",[a("top-header")],1),a("el-container",{staticClass:"contain"},[a("el-aside",{staticClass:"aside",attrs:{width:"200px"}},[a("left-nav")],1),a("router-view")],1)],1)},ks=[],Es=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-col",{staticClass:"elcol",attrs:{span:12}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"0",router:!0}},[a("el-menu-item",{staticClass:"specialitem",attrs:{index:"/project/"+t.$route.params.id+"/ad"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{staticClass:"theme",attrs:{slot:"title"},slot:"title"},[t._v("广告管理")])]),a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),a("span",{staticClass:"theme"},[t._v("推广计划")])]),a("el-menu-item-group",[a("el-menu-item",{staticClass:"lstitle",attrs:{index:"/project/"+t.$route.params.id+"/plan"}},[t._v("推广计划管理")]),a("el-menu-item",{staticClass:"lstitle",attrs:{index:"/project/"+t.$route.params.id+"/gener/1"}},[t._v("创建推广计划")])],1)],2),a("el-menu-item",{staticClass:"specialitem",attrs:{index:"/project/"+t.$route.params.id+"/target"}},[a("i",{staticClass:"el-icon-location-outline"}),a("span",{staticClass:"theme",attrs:{slot:"title"},slot:"title"},[t._v("受众管理")])]),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-edit"}),a("span",{staticClass:"theme"},[t._v("创意库    ")])]),a("el-menu-item-group",[a("el-menu-item",{staticClass:"lstitle",attrs:{index:"/project/"+t.$route.params.id+"/create"}},[t._v("创意管理")]),a("el-menu-item",{staticClass:"lstitle",attrs:{index:"/project/"+t.$route.params.id+"/sync"}},[t._v("同步记录")]),a("el-menu-item",{staticClass:"lstitle",attrs:{index:"/project/"+t.$route.params.id+"/createform"}},[t._v("创意报表")])],1)],2),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),a("span",{staticClass:"theme"},[t._v("规则引擎")])]),a("el-menu-item-group",[a("el-menu-item",{staticClass:"lstitle",attrs:{index:"/project/"+t.$route.params.id+"/rule"}},[t._v("规则管理")]),a("el-menu-item",{staticClass:"lstitle",attrs:{index:"/project/"+t.$route.params.id+"/optimize"}},[t._v("优化记录")])],1)],2),a("el-submenu",{attrs:{index:"5"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-document"}),a("span",{staticClass:"theme"},[t._v("数据报表")])]),a("el-menu-item-group",[a("el-menu-item",{staticClass:"lstitle",attrs:{index:"/project/"+t.$route.params.id+"/matterform"}},[t._v("素材报表")]),a("el-menu-item",{staticClass:"lstitle",attrs:{index:"/project/"+t.$route.params.id+"/data"}},[t._v("账户报表")]),a("el-menu-item",{staticClass:"lstitle",attrs:{index:"/project/"+t.$route.params.id+"/daycpi"}},[t._v("每日CPI")])],1)],2)],1)],1)},Cs=[],Os={},ws=Os,Is=(a("4ab4"),Object(C["a"])(ws,Es,Cs,!1,null,"68e0680c",null)),Ts=Is.exports,As={components:{TopHeader:bt,LeftNav:Ts},data:function(){return{}}},xs=As,Ss=(a("16a9"),Object(C["a"])(xs,ys,ks,!1,null,"0bf07f08",null)),js=Ss.exports,Ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rule"},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("规则管理")])],1),a("div",{staticClass:"ctrlline"},[a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"广告账户，可多选，支持编号和名称搜索"},on:{change:t.selectCondition},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}},t._l(t.adaccountlist,function(t){return a("el-option",{key:t.fbId,attrs:{label:t.name+(-1!=t.fbId?"("+t.fbId+")":""),value:t.fbId}})}),1),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addStatus=!0}}},[t._v("创建")]),a("el-input",{staticClass:"keyword",attrs:{placeholder:"请输入规则名称","suffix-icon":"el-icon-search"},on:{input:t.toSort},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),a("div",{staticClass:"rulelist"},[a("rule-list",{on:{editRule:t.editRule}})],1),a("rule-add",{ref:"ruleAdd",attrs:{status:t.addStatus},on:{"update:status":function(e){t.addStatus=e}}})],1)},Ms=[],Ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialogrule",attrs:{title:this.editid?"编辑规则":"创建规则",visible:t.status},on:{close:t.hideBox}},[a("el-form",{attrs:{"label-position":"left"}},[a("el-form-item",{attrs:{label:"广告账户","label-width":"110px"}},[a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"","collapse-tags":"",disabled:Boolean(t.editid)||"ad"==t.from,placeholder:"请选择广告账户，可搜索"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}},t._l(t.adaccountlist,function(t){return a("el-option",{key:t.fbId,attrs:{label:t.name+(-1!=t.fbId?"("+t.fbId+")":""),value:t.fbId}})}),1)],1),a("el-form-item",{attrs:{label:"规则应用对象","label-width":"110px"}},[a("el-select",{staticClass:"select",attrs:{filterable:"",placeholder:"选择对象",disabled:Boolean(t.editid)},on:{change:t.selectObject},model:{value:t.form.ruleobject,callback:function(e){t.$set(t.form,"ruleobject",e)},expression:"form.ruleobject"}},[t._l(t.adObjectOption,function(t){return a("el-option",{key:t.difkey,attrs:{label:t.name,value:t.key}})}),t._l(t.objectOption,function(t){return a("el-option",{key:t.difkey,attrs:{label:t.name,value:t.key}})})],2)],1),a("el-form-item",{attrs:{label:"操作","label-width":"110px"}},[a("div",[a("el-cascader",{staticClass:"ctrlselect2",attrs:{options:t.ctrlList,"show-all-levels":!1,"expand-trigger":"hover"},on:{change:t.selectCtrl},model:{value:t.form.ctrlmethod,callback:function(e){t.$set(t.form,"ctrlmethod",e)},expression:"form.ctrlmethod"}}),a("el-input",{directives:[{name:"show",rawName:"v-show",value:t.form.ctrlmethodwant&&"other"!=t.form.ctrlmethodwant,expression:"form.ctrlmethodwant && form.ctrlmethodwant != 'other'"}],staticClass:"ctrlnum",attrs:{placeholder:""},model:{value:t.ctrlway1.ctrlnum,callback:function(e){t.$set(t.ctrlway1,"ctrlnum",e)},expression:"ctrlway1.ctrlnum"}}),a("el-select",{directives:[{name:"show",rawName:"v-show",value:t.form.ctrlmethodwant&&"other"!=t.form.ctrlmethodwant,expression:"form.ctrlmethodwant && form.ctrlmethodwant != 'other'"}],staticClass:"unitselect",attrs:{filterable:"",placeholder:""},model:{value:t.ctrlway1.ruleunit,callback:function(e){t.$set(t.ctrlway1,"ruleunit",e)},expression:"ctrlway1.ruleunit"}},[a("el-option",{attrs:{label:"%",value:"PERCENTAGE"}}),a("el-option",{attrs:{label:"$",value:"ACCOUNT_CURRENCY"}})],1)],1),a("p",{directives:[{name:"show",rawName:"v-show",value:t.form.ctrlmethodwant,expression:"form.ctrlmethodwant"}]},[t._v("只有使用"+t._s(t.form.ctrlmethodname)+"的"+t._s(t.form.ruleobjectname)+"能受这个规则操作控制。")]),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.ctrlmethodwant&&"other"!=t.form.ctrlmethodwant,expression:"form.ctrlmethodwant && form.ctrlmethodwant != 'other'"}],staticClass:"maxdaybudget",attrs:{label:t.form.ctrlmethodname+("decrease"==t.form.ctrlmethodwant?"下限":"上限"),"label-width":"110px"}},[a("el-input",{staticClass:"wid200",attrs:{placeholder:""},model:{value:t.ctrlway1.daybudget,callback:function(e){t.$set(t.ctrlway1,"daybudget",e)},expression:"ctrlway1.daybudget"}}),a("el-tooltip",{class:{item3:"daybudget"==t.form.ctrlmethodkey,item2:"bid"==t.form.ctrlmethodkey,item4:"totalbudget"==t.form.ctrlmethodkey},attrs:{effect:"dark",content:"这是在规则管理下每个"+t.form.ruleobjectname+"可获得的"+("decrease"==t.form.ctrlmethodwant?"最低":"最高")+t.form.ctrlmethodname,placement:"top-start"}},[a("i",{staticClass:"el-icon-warning"})])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.ctrlmethodwant&&"other"==t.form.ctrlmethodwant,expression:"form.ctrlmethodwant && form.ctrlmethodwant == 'other'"}],staticClass:"maxdaybudget",attrs:{label:"调整目标","label-width":"110px"}},[a("el-select",{staticClass:"wid300",attrs:{filterable:"",placeholder:""},model:{value:t.ctrlway2.target,callback:function(e){t.$set(t.ctrlway2,"target",e)},expression:"ctrlway2.target"}},t._l(t.targetList,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})}),1),a("el-tooltip",{staticClass:"item2",attrs:{effect:"dark",placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n            竞价或预算将按此字段调整。\n            "),a("br"),t._v("对于每个广告组，我们会在计算如何更改竞价或预算时计算这个字段的当前值。\n            "),a("br"),t._v("根据容错范围字段，我们建议在下方添加“不介于”条件，否则，我们会继续尝试按实际值调整你的竞价或预算。\n            "),a("br"),t._v("例如，如果你的目标是 0.5 且容错率是 10%，你可以把字段值指定为“不介于” 0.45 到 0.55 之间。这样，当前值在此范围内时，规则就不会执行。\n          ")]),a("i",{staticClass:"el-icon-warning"})])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.ctrlmethodwant&&"other"==t.form.ctrlmethodwant,expression:"form.ctrlmethodwant && form.ctrlmethodwant == 'other'"}],staticClass:"maxdaybudget",attrs:{label:"目标价值","label-width":"110px"}},[a("el-input",{staticClass:"wid200",attrs:{placeholder:""},model:{value:t.ctrlway2.targetworth,callback:function(e){t.$set(t.ctrlway2,"targetworth",e)},expression:"ctrlway2.targetworth"}}),a("el-tooltip",{staticClass:"item2",attrs:{effect:"dark",placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n            这是你为上方目标字段选择的目标值，系统将据此调整竞价或预算。\n            "),a("br"),t._v("我们会根据输入的目标值和目标字段的当前值按比例调整当前竞价或预算。通过判断目标值是否高于当前值，系统会相应提高或降低竞价或预算\n          ")]),a("i",{staticClass:"el-icon-warning"})])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.ctrlmethodwant&&"other"==t.form.ctrlmethodwant,expression:"form.ctrlmethodwant && form.ctrlmethodwant == 'other'"}],staticClass:"maxdaybudget",attrs:{label:t.form.ctrlmethodname+"范围","label-width":"110px"}},[a("el-input",{staticClass:"wid100",attrs:{placeholder:""},model:{value:t.ctrlway2.firstdist,callback:function(e){t.$set(t.ctrlway2,"firstdist",e)},expression:"ctrlway2.firstdist"}}),a("span",[t._v("-")]),a("el-input",{staticClass:"wid100",attrs:{placeholder:""},model:{value:t.ctrlway2.seconddist,callback:function(e){t.$set(t.ctrlway2,"seconddist",e)},expression:"ctrlway2.seconddist"}}),a("el-tooltip",{class:{item3:"daybudget"==t.form.ctrlmethodkey,item2:"bid"==t.form.ctrlmethodkey,item4:"totalbudget"==t.form.ctrlmethodkey},attrs:{effect:"dark",content:"这是在规则管理下每个"+t.form.ruleobjectname+"可获得的"+("decrease"==t.form.ctrlmethodwant?"最低":"最高")+t.form.ctrlmethodname,placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n            这是规则所管理的广告组"+t._s(t.form.ctrlmethodname)+"变化值限定范围。\n            "),a("br"),t._v("\n            定位规则的"+t._s(t.form.ctrlmethodname)+"上限值和下限值。当广告组的"+t._s(t.form.ctrlmethodname)+"达到范围界限并尝试调整到你的目标值时，"+t._s(t.form.ctrlmethodname)+"可能会有所增加或减少。\n          ")]),a("i",{staticClass:"el-icon-warning"})])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.form.ctrlmethodwant,expression:"form.ctrlmethodwant"}],attrs:{label:"操作频率","label-width":"110px"}},[a("el-select",{staticClass:"wid200",attrs:{filterable:"",placeholder:"操作频率"},model:{value:t.frequency,callback:function(e){t.frequency=e},expression:"frequency"}},t._l(t.frequencyList,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})}),1)],1)],1),a("el-form-item",{attrs:{label:"条件","label-width":"110px"}},[a("el-tooltip",{staticClass:"conditiontip",attrs:{effect:"dark",content:"实时规则建议把难度较高的规则放在前面，以便能及时触发；实时必须要有统计类指标，且某些统计类指标不支持实时",placement:"top-start"}},[a("i",{staticClass:"el-icon-warning"})]),t._l(t.form.conditionlist,function(e){return a("span",{key:e.key,staticClass:"tagline",on:{click:function(a){t.editCondition(e.key)}}},[a("el-tag",{staticClass:"tag",attrs:{closable:"",type:""},on:{close:function(a){t.deleteCondtion(e.key)}}},[t._v(t._s(e.name))])],1)}),a("rule-condition",{ref:"setCondition",attrs:{status:t.conditionStatus},on:{"update:status":function(e){t.conditionStatus=e},cancelCondition:t.cancelCondition,returnCondition:t.returnCondition}}),a("p",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.conditionStatus,expression:"!conditionStatus"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(e){t.conditionStatus=!0}}})],1),a("el-form-item",{attrs:{label:"时间范围","label-width":"110px"}},[a("el-cascader",{staticClass:"ctrlselect",attrs:{options:t.timeOption,"show-all-levels":!1,"expand-trigger":"hover"},model:{value:t.timerange,callback:function(e){t.timerange=e},expression:"timerange"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"TRIGGER"!=t.form.schedulegrade,expression:"form.schedulegrade != 'TRIGGER'"}],attrs:{label:"统计时间窗","label-width":"110px"}},[a("el-radio-group",{model:{value:t.form.timewindow,callback:function(e){t.$set(t.form,"timewindow",e)},expression:"form.timewindow"}},[a("el-radio",{attrs:{label:1}},[t._v("账号默认设置")]),a("el-radio",{attrs:{label:2}},[t._v("自定义")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.form.timewindow,expression:"form.timewindow == 2"}],staticClass:"windowdeploy"},[t._v("\n          浏览广告后\n          "),a("el-select",{staticClass:"wid100",attrs:{filterable:"",placeholder:"",size:"mini"},model:{value:t.form.timecustom1,callback:function(e){t.$set(t.form,"timecustom1",e)},expression:"form.timecustom1"}},t._l(t.viewcustomlist,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})}),1),t._v("点击广告后\n          "),a("el-select",{staticClass:"wid100",attrs:{filterable:"",placeholder:"",size:"mini"},model:{value:t.form.timecustom2,callback:function(e){t.$set(t.form,"timecustom2",e)},expression:"form.timecustom2"}},t._l(t.clickcustomlist,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})}),1)],1)],1)],2),a("el-form-item",{attrs:{label:"排期","label-width":"110px"}},[a("el-select",{staticClass:"select",attrs:{placeholder:"选择排期"},on:{change:t.selectSchedule},model:{value:t.form.schedule,callback:function(e){t.$set(t.form,"schedule",e)},expression:"form.schedule"}},[a("el-option",{attrs:{label:"实时（至多7分钟）",value:"TRIGGER|",disabled:!t.trigger||"SCHEDULE"==t.editschedulestatus}}),t._l(t.schedulelist,function(e){return a("el-option",{key:e.key,attrs:{label:e.name,value:e.key,disabled:"TRIGGER"==t.editschedulestatus}})})],2),a("p",{directives:[{name:"show",rawName:"v-show",value:"TRIGGER"==t.form.schedulegrade,expression:"form.schedulegrade == 'TRIGGER'"}]},[t._v("实时无需设置统计时间窗")]),a("p",{directives:[{name:"show",rawName:"v-show",value:"DAILY"==t.form.schedulekey,expression:"form.schedulekey == 'DAILY'"}]},[t._v("每日的12点指的是广告账户时间")]),a("p",{directives:[{name:"show",rawName:"v-show",value:"CUSTOM"==t.form.schedulekey,expression:"form.schedulekey == 'CUSTOM'"}]},[t._v("每天12点；自定义的12点指的是广告账户时间")]),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"CUSTOM"==t.form.schedulekey,expression:"form.schedulekey == 'CUSTOM'"}],staticClass:"select",attrs:{multiple:"","collapse-tags":"",placeholder:"选择星期"},model:{value:t.form.week,callback:function(e){t.$set(t.form,"week",e)},expression:"form.week"}},t._l(t.weeklist,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})}),1)],1),a("el-form-item",{attrs:{label:"规则名称","label-width":"110px"}},[a("el-input",{staticClass:"select",attrs:{placeholder:"请输入规则名称"},model:{value:t.form.rulename,callback:function(e){t.$set(t.form,"rulename",e)},expression:"form.rulename"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.saveRule}},[t._v("确 定")]),a("el-button",{on:{click:t.hideBox}},[t._v("取 消")])],1)],1)},Ls=[],Rs=a("e814"),Ns=a.n(Rs),$s=(a("6762"),a("2fdb"),a("96cf"),a("3b8d")),Us=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],staticClass:"condition"},[a("el-cascader",{staticClass:"ctrlselect",attrs:{options:t.indicatorOption,"show-all-levels":!1,"expand-trigger":"hover",size:"mini",placeholder:"指标名称"},on:{change:t.selectIndicator},model:{value:t.indicator,callback:function(e){t.indicator=e},expression:"indicator"}}),a("el-select",{staticClass:"select",attrs:{size:"mini","no-data-text":"请先选择指标名称",placeholder:"运算"},on:{change:t.selectOperation},model:{value:t.operation,callback:function(e){t.operation=e},expression:"operation"}},t._l(t.operationlist,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})}),1),a("el-input-number",{directives:[{name:"show",rawName:"v-show",value:1==t.indicatortype,expression:"indicatortype == 1"}],staticClass:"numberinput",attrs:{size:"mini",precision:2,min:0,step:.1},model:{value:t.indicatornum,callback:function(e){t.indicatornum=e},expression:"indicatornum"}}),a("el-input-number",{directives:[{name:"show",rawName:"v-show",value:1==t.indicatortype&&(3==t.operation||4==t.operation),expression:"indicatortype == 1 && (operation == 3 || operation == 4)"}],staticClass:"numberinput",attrs:{size:"mini",precision:2,min:0,step:.1},model:{value:t.indicatornumend,callback:function(e){t.indicatornumend=e},expression:"indicatornumend"}}),a("el-input",{directives:[{name:"show",rawName:"v-show",value:2==t.indicatortype,expression:"indicatortype == 2"}],staticClass:"select",attrs:{size:"mini",placeholder:""},model:{value:t.indicatordata,callback:function(e){t.indicatordata=e},expression:"indicatordata"}}),a("el-select",{directives:[{name:"show",rawName:"v-show",value:3==t.indicatortype,expression:"indicatortype == 3"}],staticClass:"selectcontent",attrs:{size:"mini","collapse-tags":"",multiple:"",placeholder:""},model:{value:t.indicatorselect,callback:function(e){t.indicatorselect=e},expression:"indicatorselect"}},t._l(t.indicatorselectlist,function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.key}})}),1),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:4==t.indicatortype&&(1==t.operation||2==t.operation),expression:"indicatortype == 4 && (operation == 1 || operation == 2)"}],staticClass:"timeselect",attrs:{size:"mini",type:"datetime",clearable:!1,placeholder:"选择日期时间"},model:{value:t.indicatortime,callback:function(e){t.indicatortime=e},expression:"indicatortime"}}),a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:4==t.indicatortype&&(3==t.operation||4==t.operation),expression:"indicatortype == 4 && (operation == 3 || operation == 4)"}],staticClass:"timerange",attrs:{type:"datetimerange","range-separator":"至",size:"mini",clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.indicatortimerange,callback:function(e){t.indicatortimerange=e},expression:"indicatortimerange"}}),a("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:"",size:"mini"},on:{click:t.determineSearch}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"mini"},on:{click:t.cancelSearch}})],1)},Fs=[],Bs=a("91e6"),Ks=Bs["a"],Vs=(a("8371"),Object(C["a"])(Ks,Us,Fs,!1,null,"39065a6c",null)),Ws=Vs.exports,Gs=a("5118"),zs={props:["status"],components:{RuleCondition:Ws},data:function(){return{adObjectOption:[],objectOption:[{name:"投放中的全部广告系列",key:"CAMPAIGN",difkey:4},{name:"投放中的全部广告组",key:"ADSET",difkey:5},{name:"投放中的全部广告",key:"AD",difkey:6}],ctrlList:[],ctrlOption:[{value:"PAUSE",label:"关闭",children:null},{value:"UNPAUSE",label:"开启",children:null},{value:"CHANGE_BUDGET",label:"调整预算",children:[{value:"daybudget_increase",label:"将单日预算增加"},{value:"daybudget_decrease",label:"将单日预算减少"},{value:"totalbudget_increase",label:"将总预算增加"},{value:"totalbudget_decrease",label:"将总预算减少"},{value:"daybudget_other",label:"根据目标调整单日预算"},{value:"totalbudget_other",label:"根据目标调整总预算"}]},{value:"CHANGE_BID",label:"调整手动竞价",children:[{value:"bid_increase",label:"将竞价提高"},{value:"bid_decrease",label:"将竞价降低"},{value:"bid_other",label:"根据目标调整竞价"}]}],form:{account:[],ruleobject:"",ruleobjectname:"",ctrlmethod:[],ctrlmethodkey:"",ctrlmethodname:"",ctrlmethodwant:"",conditionlist:[],timewindow:1,timecustom1:"1",timecustom2:"28",schedule:"TRIGGER|",schedulegrade:"TRIGGER",schedulekey:"",week:[],rulename:""},ctrlname:"",ctrlsort:"",ctrlway1:{ctrlnum:"",ruleunit:"PERCENTAGE",daybudget:""},ctrlway2:{target:"",targetworth:"",firstdist:"",seconddist:""},frequency:"720",frequencyList:[{name:"每小时一次",key:"60"},{name:"每12小时一次",key:"720"},{name:"每周一次",key:"10080"},{name:"两周一次",key:"20160"}],specialIndicator:["campaign.name","adset.name","adset.placement.page_types","lifetime_budget","daily_budget","bid_amount","billing_event","optimization_goal","hours_since_creation","active_time","current_time","created_time","updated_time","start_time"],targetList:[{name:"广告花费回报 (ROAS) - 移动应用购物",key:"mobile_app_purchase_roas"},{name:"广告花费回报 (ROAS) - 网站购物",key:"website_purchase_roas"},{name:"单次移动应用安装费用",key:"cost_per_mobile_app_install"},{name:"单次移动应用购物费用",key:"cost_per_mobile_purchase"},{name:"单次成效费用",key:"cost_per"},{name:"千次展示费用",key:"cpm"},{name:"CPA",key:"cpa"},{name:"CPC",key:"cpc"}],timerange:["LIFETIME"],timeOption:[{label:"广告发布期间",value:"LIFETIME"},{label:"今天",value:"TODAY"},{label:"昨天",value:"YESTERDAY"},{label:"过去2天",value:"LAST_2D"},{label:"过去3天",value:"LAST_3D"},{label:"过去7天",value:"LAST_7D"},{label:"过去14天",value:"LAST_14D"},{label:"过去28天",value:"LAST_28D"},{label:"过去30天",value:"LAST_30D"},{label:"包括今天",value:"10",children:[{label:"过去2天（包括今天）",value:"LAST_2_DAYS"},{label:"过去3天（包括今天）",value:"LAST_3_DAYS"},{label:"过去7天（包括今天）",value:"LAST_7_DAYS"},{label:"过去14天（包括今天）",value:"LAST_14_DAYS"},{label:"过去28天（包括今天）",value:"LAST_28_DAYS"},{label:"过去30天（包括今天）",value:"LAST_30_DAYS"}]},{label:"过去7天",value:"11",children:[{label:"过去 14 天到过去 7 天",value:"LAST_ND_14_8"},{label:"过去 30 天到过去 7 天",value:"LAST_ND_30_8"},{label:"过去 60 天到过去 7 天",value:"LAST_ND_60_8"},{label:"过去 120 天到过去 7 天",value:"LAST_ND_120_8"},{label:"过去 180 天到过去 7 天",value:"LAST_ND_180_8"},{label:"广告发布期间到过去 7 天",value:"LAST_ND_LIFETIME_8"}]},{label:"过去28天",value:"12",children:[{label:"过去 60 天到过去 28 天",value:"LAST_ND_60_29"},{label:"过去 120 天到过去 28 天",value:"LAST_ND_120_29"},{label:"过去 180 天到过去 28 天",value:"LAST_ND_180_29"},{label:"广告发布期间到过去 28 天",value:"LAST_ND_LIFETIME_29"}]}],conditionStatus:!1,viewcustomlist:[{name:"无（不计算浏览的转化）",key:"0"},{name:"1天",key:"1"},{name:"7天",key:"7"},{name:"28天",key:"28"}],clickcustomlist:[{name:"无（不计算点击的转化）",key:"0"},{name:"1天",key:"1"},{name:"7天",key:"7"},{name:"28天",key:"28"}],schedulelist:[{name:"每半小时",key:"SCHEDULE|SEMI_HOURLY"},{name:"每小时",key:"SCHEDULE|HOURLY"},{name:"每日（每天12点）",key:"SCHEDULE|DAILY"},{name:"自定义",key:"SCHEDULE|CUSTOM"}],weeklist:[{name:"星期一",key:1},{name:"星期二",key:2},{name:"星期三",key:3},{name:"星期四",key:4},{name:"星期五",key:5},{name:"星期六",key:6},{name:"星期日",key:0}],editrule:null,adselect:[],adtype:"",idkey:"",from:"",trigger:!0,editid:"",editfbid:"",editschedulestatus:""}},mounted:function(){this.ctrlList=this.ctrlOption.slice(0,2)},computed:Object(M["a"])({},Object(P["d"])(["adaccountlist","newrulelist"])),methods:{adInit:function(t,e){switch(this.adselect=t,this.form.account=[t[0].accountId],this.from="ad",e){case"campaignName":this.adObjectOption=this.adObjectOption.concat([{name:"".concat(t.length,"个广告系列"),key:"CAMPAIGN|ad",difkey:1},{name:"".concat(t.length,"个广告系列中正在投放的广告组"),key:"ADSET|ad",difkey:2},{name:"".concat(t.length,"个广告系列中正在投放的广告"),key:"AD|ad",difkey:3}]),this.adtype="CAMPAIGN",this.idkey="campaignId";break;case"adSetName":this.adObjectOption=this.adObjectOption.concat([{name:"".concat(t.length,"个广告组"),key:"ADSET|ad",difkey:1},{name:"".concat(t.length,"个广告组中正在投放的广告"),key:"AD|ad",difkey:2}]),this.adtype="ADSET",this.idkey="adsetId";break;case"adName":this.adObjectOption=this.adObjectOption.concat([{name:"".concat(t.length,"个广告"),key:"AD|ad",difkey:1}]),this.adtype="AD",this.idkey="adId";break}},initEdit:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(e,a){var i,s,n,o,r,c,l,u,d,m,p,f,h,_,v,g,b,y,k,E,C=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(i=this.newrulelist.find(function(t){return t.id==e}),s=i.level,n=JSON.parse(i.evaluationSpec),o=JSON.parse(i.executionSpec),r=i.scheduleSpec?JSON.parse(i.scheduleSpec):null,this.form.account=i.fbAccountId.split(","),c=n["filters"].find(function(t){return"entity_type"==t.field}),l=n["filters"].find(function(t){return"campaign.id"==t.field||"adset.id"==t.field||"ad.id"==t.field||"id"==t.field}),l?(u="",d="","id"!=l.field&&(s=l.field.split(".")[0].toLocaleUpperCase()),m={CAMPAIGN:{key:"campaignId",type:"campaignName"},ADSET:{key:"adsetId",type:"adSetName"},AD:{key:"adId",type:"adName"}},u=m[s]["key"],d=m[s]["type"],p=l.value.map(function(t){var e={};return e[u]=t,e["accountId"]=i.fbAccountId,e}),this.adInit(p,d),this.form.ruleobject=c.value+"|ad"):this.form.ruleobject=c.value,this.selectObject(),this.form.ctrlmethod.push(o["execution_type"]),f=n["filters"].find(function(t){return-1!=t.field.indexOf("budget_reset_period")}),h=o["execution_options"]?o["execution_options"].find(function(t){return"change_spec"==t.field}):null,!h){t.next=26;break}this.form.ctrlmethodkey=f?"day"==f[0]?"daybudget":"totalbudget":"bid",t.t0=this.form.ctrlmethodkey,t.next="daybudget"===t.t0?18:"totalbudget"===t.t0?20:"bid"===t.t0?22:24;break;case 18:return this.form.ctrlmethodname="单日预算",t.abrupt("break",24);case 20:return this.form.ctrlmethodname="总预算",t.abrupt("break",24);case 22:return this.form.ctrlmethodname="竞价",t.abrupt("break",24);case 24:h["value"]["target_field"]?(this.form.ctrlmethodwant="other",this.ctrlway2.targetworth=h["value"]["amount"]/100,this.ctrlway2.target=h["value"]["target_field"],this.ctrlway2.firstdist=h["value"]["limit"][0]/100,this.ctrlway2.seconddist=h["value"]["limit"][1]/100):(h["value"]["amount"]<0?this.form.ctrlmethodwant="decrease":this.form.ctrlmethodwant="increase",this.ctrlway1.ruleunit=h["value"]["unit"],this.ctrlway1.ctrlnum="ACCOUNT_CURRENCY"==this.ctrlway1.ruleunit?Math.abs(h["value"]["amount"]/100):Math.abs(h["value"]["amount"]),this.ctrlway1.daybudget=h["value"]["limit"]/100),this.form.ctrlmethod.push(this.form.ctrlmethodkey+"_"+this.form.ctrlmethodwant);case 26:if(!n["trigger"]){t.next=32;break}return _=n["trigger"],delete _["type"],t.next=31,this.$barrageTime(300);case 31:this.$refs.setCondition.editRuleInit([_]);case 32:return v=n["filters"].filter(function(t){return"EQUAL"!=t.operator}),v=v.filter(function(t){return-1==t.field.indexOf("budget_reset_period")&&t.field!=s.toLocaleLowerCase()+".id"&&"id"!=t.field}),t.next=36,this.$barrageTime(300);case 36:if(this.$refs.setCondition.editRuleInit(v),g=n["filters"].find(function(t){return"time_preset"==t.field}),this.timeOption.find(function(t){return t.value==g.value})?this.timerange=[g.value]:this.timeOption.forEach(function(t){var e=t.children?t.children.find(function(t){return t.value==g.value}):null;e&&(C.timerange=[t.value],C.timerange.push(e.value))}),"TRIGGER"==n["evaluation_type"]){t.next=61;break}b=n["filters"].find(function(t){return"attribution_window"==t.field}),t.t1=b.value,t.next="ACCOUNT_DEFAULT"===t.t1?44:"DEFAULT"===t.t1?46:"INLINE"===t.t1?50:54;break;case 44:return this.form.timewindow=1,t.abrupt("break",61);case 46:return this.form.timewindow=2,this.form.timecustom1="1",this.form.timecustom2,t.abrupt("break",61);case 50:return this.form.timewindow=2,this.form.timecustom1="0",this.form.timecustom2,t.abrupt("break",61);case 54:return this.form.timewindow=2,y=b.value.split("_"),k=y.indexOf("VIEW"),E=y.indexOf("CLICK"),this.form.timecustom1=-1!=k?y[k-1].replace("D",""):"0",this.form.timecustom2=-1!=E?y[E-1].replace("D",""):"0",t.abrupt("break",61);case 61:this.form.schedule=n["evaluation_type"]+"|"+(r?r["schedule_type"]:""),this.selectSchedule(),this.editschedulestatus=this.form.schedulegrade,r&&"CUSTOM"==r["schedule_type"]&&(this.form.week=r["schedule"][0]["days"]),this.form.rulename=i["name"],this.editid=e,this.editfbid=a;case 68:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),editCondition:function(t){var e=this.form.conditionlist.find(function(e){return e.key==t});this.form.conditionlist=this.form.conditionlist.filter(function(e){return e.key!=t}),this.conditionStatus=!0,this.$refs.setCondition.editInit(e),this.editrule=e},cancelCondition:function(){this.form.conditionlist.push(this.editrule)},deleteCondtion:function(t){this.form.conditionlist=this.form.conditionlist.filter(function(e){return e.key!=t}),this.setTriggerStatus()},setTriggerStatus:function(){var t=this;this.trigger=!0,"daybudget"!=this.form.ctrlmethodkey&&"totalbudget"!=this.form.ctrlmethodkey&&"bid"!=this.form.ctrlmethodkey||(this.trigger=!1);var e=this.form.conditionlist.filter(function(e){return!t.specialIndicator.includes(e.key)});0==e.length?this.trigger=!1:this.form.conditionlist.forEach(function(e){e.trigger||(t.trigger=!1)}),this.editid?(this.form.schedule="",this.form.schedulegrade="",this.form.schedulekey=""):(this.form.schedule=this.trigger?"TRIGGER|":"SCHEDULE|SEMI_HOURLY",this.form.schedulegrade=this.trigger?"TRIGGER":"SCHEDULE",this.form.schedulekey=this.trigger?"":"SEMI_HOURLY")},returnCondition:function(t){this.form.conditionlist.push(t),this.setTriggerStatus()},selectSchedule:function(){var t=this.form.schedule.split("|");this.form.schedulegrade=t[0],this.form.schedulekey=t[1]},resetCtrlSelect:function(){this.ctrlway1["ctrlnum"]="",this.ctrlway1["ruleunit"]="PERCENTAGE",this.ctrlway1["daybudget"]="",this.ctrlway2["target"]="",this.ctrlway2["targetworth"]="",this.ctrlway2["firstdist"]="",this.ctrlway2["seconddist"]="",this.frequency="720"},selectCtrl:function(){if(this.form.ctrlmethod[1]){var t=this.form.ctrlmethod[1].split("_");this.form.ctrlmethodkey=t[0],this.form.ctrlmethodwant=t[1];var e={daybudget:{name:"单日预算"},totalbudget:{name:"总预算"},bid:{name:"竞价"}};this.form.ctrlmethodname=e[t[0]]["name"]}else this.form.ctrlmethodkey=this.form.ctrlmethod[0],this.form.ctrlmethodname="",this.form.ctrlmethodwant="";this.resetCtrlSelect(),this.setTriggerStatus()},selectObject:function(){switch(this.form.ruleobject.split("|")[0]){case"CAMPAIGN":this.form.ruleobjectname="广告系列",this.ctrlList=this.ctrlOption.slice(0,2);break;case"ADSET":this.form.ruleobjectname="广告组",this.ctrlList=this.ctrlOption.slice(0);break;case"AD":this.form.ruleobjectname="广告",this.ctrlList=this.ctrlOption.slice(0,2);break}this.form.ctrlmethod=[],this.form.ctrlmethodkey="",this.form.ctrlmethodname="",this.form.ctrlmethodwant="",this.resetCtrlSelect(),this.setTriggerStatus()},hideBox:function(){this.$emit("update:status",!1),this.reset()},dataCheck:function(){if(0==this.form.account.length)return[!1,"请选择广告账户"];if(!this.form.ruleobject)return[!1,"请选择规则应用对象"];if(0==this.form.ctrlmethod.length)return[!1,"请选择操作"];if(this.form.ctrlmethodwant&&"other"!=this.form.ctrlmethodwant){if(!this.ctrlway1.ctrlnum)return[!1,"请输入操作信息"];if(!this.ctrlway1.daybudget)return[!1,"请输入预算"]}else if(this.form.ctrlmethodwant){if(!this.ctrlway2.target)return[!1,"请选择调整目标"];if(!this.ctrlway2.targetworth)return[!1,"请输入目标价值"];if(!this.ctrlway2.firstdist||!this.ctrlway2.seconddist)return[!1,"请输入预算范围"]}return 0==this.form.conditionlist.length?[!1,"请选择条件"]:this.form.schedule?"CUSTOM"==this.form.schedulekey&&0==this.form.week.length?[!1,"请选择排期自定义星期"]:this.form.rulename?[!0]:[!1,"请输入规则名称"]:[!1,"请选择排期"]},saveRule:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e,a,i,s,n,o,r,c,l,u,d,m,p=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.dataCheck(),e[0]){t.next=4;break}return Object(H["g"])(e[1]),t.abrupt("return");case 4:if(a=this.form.account,i=this.form.account.map(function(t){return p.adaccountlist.find(function(e){return e.fbId==t}).name}),s="ACCOUNT_DEFAULT",1==this.form.timewindow){t.next=19;break}t.t0=!0,t.next=t.t0===("1"==this.form.timecustom1&&"28"==this.form.timecustom2)?11:t.t0===("0"==this.form.timecustom1&&"0"==this.form.timecustom2)?13:15;break;case 11:return s="DEFAULT",t.abrupt("break",19);case 13:return s="INLINE",t.abrupt("break",19);case 15:return n="0"==this.form.timecustom1?"":this.form.timecustom1+"D_VIEW",o="0"==this.form.timecustom2?"":this.form.timecustom2+"D_CLICK",s="".concat(n).concat(n&&o?"_":"").concat(o),t.abrupt("break",19);case 19:r={fbAccountId:a.join(","),fbAccountName:i.join(","),evaluationSpec:{evaluation_type:this.form.schedulegrade,filters:[{field:"entity_type",value:this.form.ruleobject.split("|")[0],operator:"EQUAL"},{field:"time_preset",value:this.timerange.length>1?this.timerange[1]:this.timerange[0],operator:"EQUAL"}]},executionSpec:{execution_type:this.form.ctrlmethod[0],execution_options:[{field:"action_frequency",value:Ns()(this.frequency),operator:"EQUAL"}]},name:this.form.rulename},"daybudget"!=this.form.ctrlmethodkey&&"totalbudget"!=this.form.ctrlmethodkey||r["evaluationSpec"]["filters"].push({field:"budget_reset_period",value:["daybudget"==this.form.ctrlmethodkey?"DAY":"LIFETIME"],operator:"IN"}),c={field:"change_spec",value:{amount:0,unit:"",limit:0,target_field:""},operator:"EQUAL"},t.t1=this.form.ctrlmethodwant,t.next="increase"===t.t1?25:"decrease"===t.t1?25:"decrease"===t.t1?26:"other"===t.t1?28:30;break;case 25:c.value={amount:"ACCOUNT_CURRENCY"==this.ctrlway1.ruleunit?100*this.ctrlway1.ctrlnum:this.ctrlway1.ctrlnum,limit:100*this.ctrlway1.daybudget,unit:this.ctrlway1.ruleunit};case 26:return c.value.amount=-1*c.value.amount,t.abrupt("break",30);case 28:return c.value={amount:100*this.ctrlway2.targetworth,limit:[100*this.ctrlway2.firstdist,100*this.ctrlway2.seconddist],target_field:this.ctrlway2.target},t.abrupt("break",30);case 30:if(this.form.ruleobject.split("|")[1]&&"ad"==this.form.ruleobject.split("|")[1]&&(l={field:this.adtype==this.form.ruleobject.split("|")[0]?"id":"".concat(this.adtype.toLocaleLowerCase(),".id"),value:this.adselect.map(function(t){return t[p.idkey]}),operator:"IN"},r["evaluationSpec"]["filters"].push(l)),this.form.ctrlmethodwant&&r["executionSpec"]["execution_options"].push(c),u=this.form.conditionlist,"TRIGGER"==this.form.schedulegrade&&(d=this.form.conditionlist.find(function(t){return!p.specialIndicator.includes(t.key)}),r["evaluationSpec"]["trigger"]=Object(M["a"])({type:"STATS_CHANGE"},d["option"]),u=this.form.conditionlist.filter(function(t){return t.key!=d.key})),r["evaluationSpec"]["filters"]=r["evaluationSpec"]["filters"].concat(u.map(function(t){return t.option})),"SCHEDULE"==this.form.schedulegrade&&(r["evaluationSpec"]["filters"].push({field:"attribution_window",value:s,operator:"EQUAL"}),r["scheduleSpec"]={schedule_type:this.form.schedulekey},"CUSTOM"==this.form.schedulekey&&(r["scheduleSpec"]["schedule"]=[{days:this.form.week,start_minute:720}])),r["executionSpec"]=ce()(r["executionSpec"]),r["evaluationSpec"]=ce()(r["evaluationSpec"]),r["scheduleSpec"]&&(r["scheduleSpec"]=ce()(r["scheduleSpec"])),m=null,this.editid){t.next=46;break}return t.next=43,this.$store.dispatch("addRule",{option:r,from:this.from});case 43:m=t.sent,t.next=51;break;case 46:return r["id"]=this.editid,r["fbId"]=this.editfbid,t.next=50,this.$store.dispatch("editRule",{option:r});case 50:m=t.sent;case 51:m&&m.data&&this.hideBox();case 52:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),reset:function(){this.form.account=[],this.form.ruleobject="",this.form.ruleobjectname="",this.form.ctrlmethod=[],this.form.ctrlmethodkey="",this.form.ctrlmethodname="",this.form.ctrlmethodwant="",this.form.conditionlist=[],this.form.timewindow=1,this.form.timecustom1="1",this.form.timecustom2="28",this.form.schedule="TRIGGER|",this.form.schedulegrade="TRIGGER",this.form.schedulekey="",this.form.week=[],this.form.rulename="",this.ctrlname="",this.ctrlsort="",this.ctrlway1.ctrlnum="",this.ctrlway1.ruleunit="PERCENTAGE",this.ctrlway1.daybudget="",this.ctrlway2.target="",this.ctrlway2.targetworth="",this.ctrlway2.firstdist="",this.ctrlway2.seconddist="",this.frequency="720",this.timerange=["LIFETIME"],this.editrule=null,this.adselect=[],this.adtype="",this.adObjectOption=[],this.idkey="",this.from="",this.trigger=!0,this.editid="",this.editfbid="",this.editschedulestatus="",this.$refs.setCondition.cancelSearch()}}},Hs=zs,qs=(a("2f88"),a("c36b"),Object(C["a"])(Hs,Ps,Ls,!1,null,"3e9ecd66",null)),Js=qs.exports,Ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.newrulelist}},[a("el-table-column",{attrs:{prop:"",label:"",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{staticClass:"statusswitch",attrs:{"active-value":"ENABLED","inactive-value":"DISABLED","active-color":"#13ce66","inactive-color":"#d7dae2"},on:{change:function(a){t.switchChange(e.row.id,e.row.status)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{prop:"",label:"名称",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.noedit?a("p",[t._v(t._s(e.row.name))]):a("p",{staticClass:"rulename",on:{click:function(a){t.toEdit(e.row.id,e.row.fbId)}}},[t._v(t._s(e.row.name))]),a("p",{staticClass:"childtype"},[t._v(t._s(e.row.scheduleCnName))])]}}])}),a("el-table-column",{attrs:{prop:"",label:"应用对象"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.relateRuleObjs.length>0?a("p",{staticClass:"rulename",on:{click:function(a){t.showDetail(e.row.name,e.row.targetObjName,e.row.id)}}},[t._v(t._s(e.row.targetObjName))]):a("p",[t._v(t._s(e.row.targetObjName))])]}}])}),a("el-table-column",{attrs:{prop:"",label:"操作与条件"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.executionSpecName))]),a("p",{staticClass:"childtype"},[t._v(t._s(e.row.evaluationSpecName))])]}}])}),a("el-table-column",{attrs:{prop:"result",label:"结果",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.lastOccurTime?a("div",[a("router-link",{staticClass:"rulename",attrs:{to:"/project/"+t.$route.params.id+"/optimize/"+e.row.fbId}},[t._v(t._s(e.row.result))]),a("p",{staticClass:"childtype"},[t._v(t._s(t._f("timeFormat")(e.row.lastOccurTime,"yyyy-MM-dd")))])],1):a("p",[t._v(t._s(e.row.result))])]}}])}),a("el-table-column",{attrs:{prop:"",label:"广告账户"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.fbAccountName))]),a("p",{staticClass:"childtype"},[t._v(t._s(e.row.fbAccountId.replace("act_","")))])]}}])}),a("el-table-column",{attrs:{prop:"",label:"创建人",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.createBy))]),a("p",{staticClass:"childtype"},[t._v(t._s(t._f("timeFormat")(e.row.createTime,"yyyy-MM-dd")))])]}}])}),a("el-table-column",{attrs:{prop:"",label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticClass:"ctrl"},[a("el-button",{attrs:{type:"text",size:"mini",disabled:e.row.noedit},on:{click:function(a){t.toEdit(e.row.id,e.row.fbId)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"mini",disabled:e.row.iftrigger},on:{click:function(a){t.toExecute(e.row.fbId,e.row.levelCnName,e.row.evaluationSpecName)}}},[t._v("执行")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){t.toDelete(e.row.id)}}},[t._v("删除")])],1)]}}])})],1),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper",total:t.newruletotal,"page-size":t.ruleoption.pageSize,"current-page":t.ruleoption.pageIndex},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1),a("rule-execute",{ref:"ruleExecute",attrs:{status:t.executeStatus},on:{"update:status":function(e){t.executeStatus=e}}}),a("rule-objdetail",{ref:"objDetail",attrs:{status:t.objStatus},on:{"update:status":function(e){t.objStatus=e}}})],1)},Xs=[],Zs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"deletedialog",attrs:{title:"规则执行预览",visible:t.status},on:{close:t.toCancel}},[a("p",{staticClass:"fonttip important"},[a("b",[t._v("如果现在运行规则，"+t._s(t.executelist.length>0?"以下":"选中的")+t._s(t.type)+t._s(t.executelist.length>0?"符合":"都不符合")+"你的条件，设置的条件是：")])]),a("div",{staticClass:"fonttip important",staticStyle:{"margin-bottom":"20px"}},t._l(t.condition,function(e,i){return a("p",{key:i},[t._v("· "+t._s(e))])}),0),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.executelist,border:"",id:"ruleExecute"}},[a("el-table-column",{attrs:{prop:"fbTargetName",label:"名称"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.toCancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitExecute}},[t._v("执 行")])],1)],1)},Qs=[],tn={props:["status"],data:function(){return{id:"",type:"",condition:[]}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{initData:function(t,e,a){this.id=t,this.type=e,this.condition=a.split("且"),this.$store.dispatch("getExecute",t)},toCancel:function(){this.$emit("update:status",!1),this.SETSTATE({k:"executelist",v:[]})},submitExecute:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("executeRule",this.id);case 2:e=t.sent,e.data&&this.toCancel();case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}),computed:Object(M["a"])({},Object(P["d"])(["executelist"])),watch:{}},en=tn,an=(a("bb65"),Object(C["a"])(en,Zs,Qs,!1,null,"514a653f",null)),sn=an.exports,nn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"deletedialog",attrs:{title:t.objname,visible:t.status},on:{close:t.toCancel}},[a("p",{staticClass:"fonttip important"},[a("b",[t._v(t._s(t.objname)+"受这个规则管理：")])]),a("p",{staticClass:"fonttip important",staticStyle:{"margin-bottom":"20px"}},[a("b",[t._v(t._s(t.name))])]),a("div",{staticClass:"targetlist"},[a("ul",t._l(t.detailobj,function(e){return a("li",{key:e.fbTargetId},[a("p",{staticClass:"targetname"},[t._v(t._s(e.fbTargetName))]),a("p",{staticClass:"targetid"},[t._v(t._s(e.fbTargetId))])])}),0)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.toCancel}},[t._v("关 闭")])],1)])},on=[],rn={props:["status"],data:function(){return{name:"",objname:"",detailobj:[]}},methods:{initData:function(t,e,a){this.objname=e,this.detailobj=a,this.name=t},toCancel:function(){this.$emit("update:status",!1)}},computed:{},watch:{}},cn=rn,ln=(a("532d"),Object(C["a"])(cn,nn,on,!1,null,"456b547c",null)),un=ln.exports,dn={components:{RuleExecute:sn,RuleObjdetail:un},data:function(){return{setapplist:[],switchstatus:!0,executeStatus:!1,pageIndex:1,pageSize:20,objStatus:!1}},computed:Object(M["a"])({},Object(P["d"])(["newrulelist","newruletotal","ruleoption"])),methods:Object(M["a"])({},Object(P["c"])(["SETOBJSTATE"]),{showDetail:function(t,e,a){var i=this.newrulelist.find(function(t){return t.id==a}),s=i.relateRuleObjs,n=e;this.objStatus=!0,this.$refs.objDetail.initData(t,n,s)},toEdit:function(t,e){this.$emit("editRule",t,e)},toExecute:function(t,e,a){this.executeStatus=!0,this.$refs.ruleExecute.initData(t,e,a)},toDelete:function(t){var e=this;this.$confirm("确定要删除此规则吗？此操作无法撤销","删除规则",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$store.dispatch("deleteRule",t)}).catch(function(){})},switchChange:function(t,e){console.log(e),"ENABLED"==e?this.$store.dispatch("toOpenRule",t):this.$store.dispatch("toCloseRule",t)},pageSwitch:function(t){this.SETOBJSTATE({obj:"ruleoption",name:"pageIndex",v:t}),this.$store.dispatch("getRuleList")},pageSizeChange:function(t){this.SETOBJSTATE({obj:"ruleoption",name:"pageIndex",v:1}),this.SETOBJSTATE({obj:"ruleoption",name:"pageSize",v:t}),this.$store.dispatch("getRuleList")}})},mn=dn,pn=(a("f3f5"),Object(C["a"])(mn,Ys,Xs,!1,null,"2e8b7ff9",null)),fn=pn.exports,hn={components:{RuleList:fn,RuleAdd:Js},data:function(){return{value2:!0,account:[],addStatus:!1,keyword:""}},mounted:function(){this.SETOBJSTATE({obj:"ruleoption",name:"projectId",v:this.$route.params.id}),this.getRuleDate(),this.$store.dispatch("getAdaccount",this.$route.params.id)},computed:Object(M["a"])({},Object(P["d"])(["itemlist","adaccountlist"]),{projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName}}),methods:Object(M["a"])({},Object(P["c"])(["SETOBJSTATE"]),{toSort:function(){var t=this;Object(Gs["clearTimeout"])(s),s=Object(Gs["setTimeout"])(function(){t.SETOBJSTATE({obj:"ruleoption",name:"pageIndex",v:1}),t.SETOBJSTATE({obj:"ruleoption",name:"name",v:encodeURIComponent(t.keyword.trim())}),t.getRuleDate()},300)},selectCondition:function(){var t=this.account;this.SETOBJSTATE({obj:"ruleoption",name:"fbAccountIds",v:t.join(",")}),this.SETOBJSTATE({obj:"ruleoption",name:"pageIndex",v:1}),this.getRuleDate()},editRule:function(t,e){this.addStatus=!0,this.$refs.ruleAdd.initEdit(t,e)},getRuleDate:function(){this.$store.dispatch("getRuleList")},switchChange:function(t){var e=this.rulelist.find(function(e){return e.id==t}).status,a=this.$route.params.id,i=t;e?this.$store.dispatch("openRule",{projid:a,ruleGroupId:i}):this.$store.dispatch("closeRule",{projid:a,ruleGroupId:i})}})},_n=hn,vn=(a("7852"),Object(C["a"])(_n,Ds,Ms,!1,null,"438cfb1f",null)),gn=vn.exports,bn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"optimize"},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("优化记录")])],1),a("div",{staticClass:"sort"},[a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"广告账户"},on:{change:t.toSort},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}},t._l(t.adaccountlist,function(t){return a("el-option",{key:t.fbId,attrs:{label:t.name+(-1!=t.fbId?"("+t.fbId+")":""),value:t.fbId}})}),1),a("el-date-picker",{staticClass:"daterange",attrs:{type:"daterange",clearable:!1,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.toSort},model:{value:t.sortdate,callback:function(e){t.sortdate=e},expression:"sortdate"}}),a("el-checkbox",{on:{change:t.toSort},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("不显示未更改")])],1),a("div",{staticClass:"dialog"},[a("optimize-list")],1),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper",total:t.optotal,"page-size":t.pagesize,"current-page":t.pageindex},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)],1)},yn=[],kn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.optimizelist}},[a("el-table-column",{attrs:{prop:"executionDetailInfo",label:"详细信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.executionDetailInfo?e.row.executionDetailInfo:"--"))])]}}])}),a("el-table-column",{attrs:{prop:"ruleName",label:"名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.ruleName))]),a("p",{staticClass:"childtype"},[t._v(t._s(e.row.ruleCondition))])]}}])}),a("el-table-column",{attrs:{prop:"result",label:"更改对象",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.changeCount>0?a("p",{staticClass:"changeobj",on:{click:function(a){t.optimizeDetail(e.row.id,e.row.changeTargetInfo,e.row.targetType,e.row.ruleCondition,e.row.ruleName)}}},[t._v(t._s(e.row.changeTargetInfo))]):a("p",[t._v(t._s(e.row.changeTargetInfo))])]}}])}),a("el-table-column",{attrs:{prop:"fbAccountId",label:"广告账户",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.fbAccountName))]),a("p",{staticClass:"childtype"},[t._v(t._s(e.row.fbAccountId))])]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"时间",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"createTime"},[t._v(t._s(t._f("timeFormat")(e.row.createTime,"yyyy-MM-dd",e.row.createTime)))]),a("span",{staticClass:"createTime"},[t._v(t._s(t._f("timeFormat")(e.row.createTime,"HH:mm:ss",e.row.createTime)))])]}}])})],1),a("optimize-detail",{ref:"optimizeDetail",attrs:{status:t.detailstatus},on:{"update:status":function(e){t.detailstatus=e}}})],1)},En=[],Cn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"deletedialog",attrs:{title:t.rulename+t.info,visible:t.status},on:{close:t.toCancel}},[a("p",{staticClass:"fonttip important"},[a("b",[t._v(t._s(t.optimizedetail.length)+"个"+t._s(t.typename)+"符合规则条件，设置的条件是：")])]),a("div",{staticClass:"fonttip important",staticStyle:{"margin-bottom":"20px"}},t._l(t.condition,function(e,i){return a("p",{key:i},[t._v("· "+t._s(e))])}),0),a("div",{staticClass:"targetlist"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.optimizedetail,border:"",id:"ruleExecute"}},[a("el-table-column",{attrs:{prop:"targetName",label:"名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticClass:"targetname",on:{click:function(a){t.targetDetail(e.row.fbTargetId,e.row.targetType)}}},[t._v(t._s(e.row.targetName))]),a("p",{staticClass:"childtype"},[t._v(t._s(e.row.fbTargetId))])]}}])}),a("el-table-column",{attrs:{prop:"actionsName",label:"详情"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.toCancel}},[t._v("关 闭")])],1)])},On=[],wn={props:["status"],data:function(){return{info:"",rulename:"",typename:"",condition:[]}},methods:{initData:function(t,e,a,i,s){this.info=e,this.rulename=s;var n={CAMPAIGN:{name:"广告系列"},ADSET:{name:"广告组"},AD:{name:"广告"}};this.typename=n[a]["name"],this.condition=i.split("且").map(function(t){return t.trim()}),this.$store.dispatch("optimizeDetail",t)},toCancel:function(){this.$emit("update:status",!1)},targetDetail:function(t,e){this.$router.push({name:"ad",params:{kid:"".concat(t,"_").concat(e)}})}},computed:Object(M["a"])({},Object(P["d"])(["optimizedetail"])),watch:{}},In=wn,Tn=(a("87bd"),Object(C["a"])(In,Cn,On,!1,null,"6512001b",null)),An=Tn.exports,xn={components:{OptimizeDetail:An},data:function(){return{detailstatus:!1,setapplist:[]}},computed:Object(M["a"])({},Object(P["d"])(["optimizelist"])),methods:{optimizeDetail:function(t,e,a,i,s){this.detailstatus=!0,this.$refs.optimizeDetail.initData(t,e,a,i,s)}}},Sn=xn,jn=(a("d008"),Object(C["a"])(Sn,kn,En,!1,null,"40e44f0f",null)),Dn=jn.exports,Mn={props:["id"],components:{OptimizeList:Dn},data:function(){return{account:[],sortdate:[(new Date).setDate((new Date).getDate()-6),new Date],checked:!1,pageindex:1,pagesize:20,fbruleid:""}},computed:Object(M["a"])({},Object(P["d"])(["itemlist","adaccountlist","optotal"]),{projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName},ruleId:function(){return this.$route.params.ruleId}}),mounted:function(){this.fbruleid=this.$route.params.ruleId,this.toSort();var t=this.$route.params.id;this.$store.dispatch("getAdaccount",t)},methods:{pageSizeChange:function(t){this.pageindex=1,this.pagesize=t,this.toSort()},pageSwitch:function(t){this.pageindex=t,this.toSort()},toSort:function(){var t={projectId:this.$route.params.id,fbRuleId:this.fbruleid,fbAccountIds:this.account.map(function(t){return t.replace("act_","")}).join(","),startDate:this.sortdate&&this.sortdate.length>0?this.$timeFormat(this.sortdate[0],"yyyy-MM-dd"):"",endDate:this.sortdate&&this.sortdate.length>0?this.$timeFormat(this.sortdate[1],"yyyy-MM-dd"):"",withoutUnChange:this.checked.toString(),pageSize:this.pagesize,pageIndex:this.pageindex};this.$store.dispatch("getOptimizeList",t)}},watch:{ruleId:function(t,e){this.fbruleid=t,this.toSort()}}},Pn=Mn,Ln=(a("bf9b"),Object(C["a"])(Pn,bn,yn,!1,null,"56551181",null)),Rn=Ln.exports,Nn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rule"},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("创意管理")])],1),a("div",{staticClass:"ctrlbutton"},[a("el-dropdown",{staticClass:"add",attrs:{"split-button":"",type:"primary"},on:{command:t.addCreateType}},[t._v("\n      新增创意\n      "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"a"}},[t._v("单图片/视频")]),a("el-dropdown-item",{attrs:{command:"b"}},[t._v("轮播")])],1)],1),a("el-button",{staticClass:"add",on:{click:t.syncAll}},[t._v("同步全部")]),a("el-input",{staticClass:"search",attrs:{placeholder:"搜索创意名称/ID","suffix-icon":"el-icon-search"},on:{input:t.createSearch},model:{value:t.state4,callback:function(e){t.state4=e},expression:"state4"}})],1),a("div",{staticClass:"sort"},[a("el-dropdown",{staticClass:"select",attrs:{"split-button":"",type:"primary"},on:{command:t.handleCommand}},[t._v("\n      批量操作\n      "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"a"}},[t._v("批量新增")]),a("el-dropdown-item",{attrs:{command:"e"}},[t._v("批量同步")]),a("el-dropdown-item",{attrs:{command:"b"}},[t._v("批量开启")]),a("el-dropdown-item",{attrs:{command:"c"}},[t._v("批量关闭")]),a("el-dropdown-item",{attrs:{command:"d"}},[t._v("批量新增国家")])],1)],1),a("el-button",{staticClass:"fontbtn",attrs:{type:"text"},on:{click:t.toSelectAll}},[t._v(t._s(t.createcheckstatus?"取消全选":"全选"))]),a("el-select",{staticClass:"selectr",attrs:{placeholder:"状态"},on:{change:t.toSort},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.statuslist,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),a("el-select",{staticClass:"selectr",attrs:{placeholder:"性别"},on:{change:t.toSort},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}},t._l(t.sexlist,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),a("el-select",{staticClass:"selectr",attrs:{placeholder:"国家"},on:{change:t.toSort},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}},t._l(t.countries,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1),a("el-select",{staticClass:"selectr",attrs:{placeholder:"分类"},on:{change:t.toSort},model:{value:t.value5,callback:function(e){t.value5=e},expression:"value5"}},t._l(t.classify,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),a("create-list",{on:{changeName:t.changeName,changeCountry:t.changeCountry}}),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[21,201,501],layout:"total, sizes, prev, pager, next, jumper",total:t.crtotal,"page-size":21},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1),a("add-country",{attrs:{status:t.status3},on:{cancelAddbm:t.cancelAddbm,toAddCountries:t.toAddCountries}}),a("create-add",{attrs:{status:t.status4},on:{cancelAddbm:t.cancelAddbm}}),a("create-addwith",{attrs:{status:t.status5},on:{cancelAddbm:t.cancelAddbm,prevAddcreate:t.prevAddcreate}}),a("edit-name",{attrs:{status:t.status6,oldid:t.oldid,oldname:t.oldname},on:{cancelAddbm:t.cancelAddbm}}),a("edit-country",{attrs:{status:t.status7,oldid:t.oldid,oldcountry:t.oldcountry},on:{cancelAddbm:t.cancelAddbm}}),a("create-sync",{attrs:{status:t.status8,ifsyncall:t.ifsyncall},on:{cancelAddbm:t.cancelAddbm,toSync:t.toSync}}),a("create-carousel",{attrs:{status:t.status9},on:{cancelAddbm:t.cancelAddbm}})],1)},$n=[],Un=a("bd86"),Fn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"选择需要同步的广告账户",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-select",{staticClass:"select",attrs:{multiple:"",filterable:"","collapse-tags":"",placeholder:"请选择广告账户，可搜索"},on:{change:t.toGettime},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}},t._l(t.ruleappforCreate,function(t){return a("el-option",{key:t.fbId,attrs:{label:t.name+"("+t.fbAccountId+")",value:t.fbId}})}),1),a("p",{directives:[{name:"show",rawName:"v-show",value:t.account.length>0,expression:"account.length > 0"}],staticClass:"tip"},[t._v("预计同步\n    "),a("span",[t._v(t._s(t.synctime))]),t._v("，同步时间随创意和广告账户数量而减少")]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toAdd}},[t._v("确 定")])],1)],1)},Bn=[],Kn={props:["status","ifsyncall"],data:function(){return{account:[],dialogFormVisible:!1,timeout:null}},watch:{status:function(t,e){this.dialogFormVisible=t}},computed:Object(M["a"])({},Object(P["d"])(["synctime"]),Object(P["b"])(["ruleappforCreate","allcheckidstatus"])),methods:{toGettime:function(){if(0!=this.account.length){var t=this.account.join(","),e=this.ifsyncall?"":this.allcheckidstatus.map(function(t){return t.id}).join(","),a=this.$route.params.id;this.$store.dispatch("syncTime",{accountIds:t,ids:e,projectId:a})}},toAdd:function(){console.log(this.account),this.$emit("toSync",this.account),this.dialogFormVisible=!1},toCancel:function(){this.$emit("cancelAddbm","status8"),this.account=[]}},mounted:function(){}},Vn=Kn,Wn=(a("664b"),Object(C["a"])(Vn,Fn,Bn,!1,null,"8f83b1f8",null)),Gn=Wn.exports,zn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"编辑国家",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{ref:"form",staticClass:"cform",attrs:{"label-width":"120px"}},[a("el-form-item",{staticClass:"cline",attrs:{label:"选择国家"}},[a("el-select",{staticClass:"select",attrs:{multiple:"",filterable:"",remote:"",placeholder:"请选择国家"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}},t._l(t.othercountries,function(t){return a("el-option",{key:t.code,attrs:{label:t.name+"("+t.code+")",value:t.code}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toSave}},[t._v("确 定")])],1)],1)},Hn=[],qn={props:["status","oldid","oldcountry"],components:{},data:function(){return{state:"",activeIndex:"1",dialogFormVisible:!1,title:"",country:this.oldcountry,value:"",value2:""}},watch:{status:function(t,e){this.dialogFormVisible=t},oldcountry:function(t,e){this.country=t}},computed:Object(M["a"])({},Object(P["d"])(["othercountries"])),methods:{toSave:function(){if(console.log(this.country),0!=this.country.length){var t=this.oldid,e=this.country.join(",");this.$store.dispatch("updateSex",{id:t,countryId:e}),this.dialogFormVisible=!1}else Object(H["g"])("请选择国家")},toCancel:function(){this.$emit("cancelAddbm","status7")}}},Jn=qn,Yn=(a("1084"),Object(C["a"])(Jn,zn,Hn,!1,null,"42a50f08",null)),Xn=Yn.exports,Zn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"修改创意标题",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{ref:"form",staticClass:"cform",attrs:{"label-width":"120px"}},[a("el-form-item",{staticClass:"cline",attrs:{label:"创意标题"}},[a("el-input",{staticClass:"accountinput",attrs:{placeholder:"请输入创意标题"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toSave}},[t._v("确 定")])],1)],1)},Qn=[],to={props:["status","oldid","oldname"],components:{},data:function(){return{state:"",activeIndex:"1",dialogFormVisible:!1,title:"",name:"",value:"",value2:""}},watch:{status:function(t,e){this.dialogFormVisible=t,1==t&&(this.name=this.oldname)}},computed:{},methods:{toSave:function(){if(""!=this.name.trim()){var t=this.oldid,e=this.name;this.$store.dispatch("updateSex",{id:t,creativityName:e}),this.dialogFormVisible=!1}else Object(H["g"])("请输入创意标题")},toCancel:function(){this.$emit("cancelAddbm","status6")}}},eo=to,ao=(a("810c"),Object(C["a"])(eo,Zn,Qn,!1,null,"e3c16768",null)),io=ao.exports,so=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alldialog"},[a("el-dialog",{staticClass:"dialog",attrs:{title:"批量新增创意",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{staticClass:"cline",attrs:{label:"国家"}},[a("el-select",{staticClass:"search",attrs:{filterable:"",multiple:"",remote:"",placeholder:"请选择国家，可搜索"},model:{value:t.form.selectArr,callback:function(e){t.$set(t.form,"selectArr",e)},expression:"form.selectArr"}},t._l(t.othercountries,function(t){return a("el-option",{key:t.code,attrs:{label:t.name+"("+t.code+")",value:t}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"性别"}},[a("el-radio-group",{model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"0"}},[t._v("全部")]),a("el-radio",{attrs:{label:"1"}},[t._v("男")]),a("el-radio",{attrs:{label:"2"}},[t._v("女")])],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"主页"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择主页"},on:{change:t.selectHomepage},model:{value:t.form.homepage,callback:function(e){t.$set(t.form,"homepage",e)},expression:"form.homepage"}},t._l(t.allpagelist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.pageId}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"分类"}},[a("el-autocomplete",{staticClass:"search",attrs:{"fetch-suggestions":t.querySearchAsyncClassify,placeholder:"请输入分类，可搜索","suffix-icon":"el-icon-search"},on:{select:t.handleSelectClassify},model:{value:t.form.classify,callback:function(e){t.$set(t.form,"classify",e)},expression:"form.classify"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"创意类型"}},[a("el-radio-group",{on:{change:t.resetImgVideo},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-radio",{attrs:{label:"0"}},[t._v("单图片")]),a("el-radio",{attrs:{label:"1"}},[t._v("单视频")]),a("el-radio",{attrs:{label:"2"}},[t._v("轮播")])],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"deeplink"}},[a("el-input",{attrs:{placeholder:"可跳转到APP指定页面，选填，为空则仅下载APP"},model:{value:t.form.deeplink,callback:function(e){t.$set(t.form,"deeplink",e)},expression:"form.deeplink"}})],1),a("el-form-item",{staticClass:"cbutton"},[a("el-button",{attrs:{type:"primary"},on:{click:t.toNext}},[t._v("下一步")]),a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")])],1)],1)],1),a("el-dialog",{staticClass:"dialog",attrs:{title:"批量新增创意",visible:t.dialogFormVisible2},on:{"update:visible":function(e){t.dialogFormVisible2=e},close:t.toCancel2}},[a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form2,"label-width":"80px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0==t.form.type,expression:"form.type == 0"}],staticClass:"cline uploadfile",attrs:{label:"图片"}},[a("el-button",{staticClass:"moreInfo",attrs:{type:"primary",size:"small"}},[t._v("上传图片")]),a("vue-file-upload",{ref:"vueFileUploader",staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsIMG,multiple:"",requestOptions:t.fileOption,filters:t.imgfilters},on:{uploadPic:t.uploadPic,onAdd:t.onAddItem,checkUploadPic:t.checkUploadPic,uploadRes:t.uploadRes,uploadError:t.uploadError}},[a("span",{attrs:{slot:"label"},slot:"label"})]),a("ul",{staticClass:"reslist"},t._l(t.processIMG,function(e,i){return a("li",{key:i},[a("div",{staticClass:"image"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"item.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("i",{staticClass:"el-icon-error processclose",on:{click:function(a){t.delIMG(e.file,e.name)}}})])}),0)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==t.form.type,expression:"form.type == 1"}],staticClass:"cline uploadfile",attrs:{label:"视频"}},[a("el-button",{staticClass:"moreInfo",attrs:{type:"primary",size:"small"}},[t._v("上传视频")]),a("vue-file-upload",{ref:"vueFileUploaderVio",staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsVIO,multiple:"",requestOptions:t.fileOption,filters:t.videofilters},on:{uploadVio:t.uploadVio,onAdd:t.onAddItem,checkUploadVio:t.checkUploadVio,uploadVioRes:t.uploadVioRes,uploadVioError:t.uploadVioError}},[a("span",{attrs:{slot:"label"},slot:"label"})]),a("ul",{staticClass:"reslist"},t._l(t.processVIO,function(e,i){return a("li",{key:i},[a("div",{staticClass:"video"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-document"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"item.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.fmname,expression:"!item.fmname"}],staticClass:"fmbutton",attrs:{type:"text"}},[t._v("上传封面图")]),a("div",{staticClass:"uploadFmbox",on:{click:function(a){t.showUploading(e.name)}}},[a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:!e.fmname,expression:"!item.fmname"}],staticClass:"fileinputfm",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsFM,multiple:"",requestOptions:t.fileOptionFM,filters:t.imgfilters},on:{matchMD5:t.matchMD5,uploadFm:t.uploadFm,uploadFmRes:t.uploadFmRes,uploadFmError:t.uploadFmError}},[a("span",{attrs:{slot:"label"},slot:"label"})])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.fmname,expression:"item.fmname"}],staticClass:"videofm"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.fmname}},[t._v(t._s(e.fmname))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.fmprocess,expression:"item.fmprocess == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.fmprocess+"%"})]),a("span",[t._v(t._s(e.fmprocess)+"%")])])]),a("i",{staticClass:"el-icon-error processclose processvideo",on:{click:function(a){t.delVIO(e.file,e.name)}}})],1)}),0)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.form2.descarr.length>0,expression:"form2.descarr.length > 0"}],staticClass:"descarea"},[a("span",{staticClass:"desctitle"},[t._v("文本")]),a("div",{staticClass:"tag"},t._l(t.form2.descarr,function(e){return a("span",{key:e,staticClass:"evtag"},[t._v("\n            "+t._s(e)+"\n            "),a("i",{staticClass:"el-icon-error",on:{click:function(a){t.delDesc(e)}}})])}),0)]),a("el-form-item",{staticClass:"cline",attrs:{label:t.form2.descarr.length>0?"":"文本"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea",placeholder:"请输入文字说明，介绍推广内容",autosize:{minRows:3.5,maxRows:3.5}},model:{value:t.form2.desc,callback:function(e){t.$set(t.form2,"desc",e)},expression:"form2.desc"}})],1),a("el-form-item",{staticClass:"addbutton"},[a("el-button",{staticClass:"moreInfo",attrs:{type:"primary",size:"small"},on:{click:t.addDesc}},[t._v("新增文本")])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==t.form.type,expression:"form.type == 2"}],attrs:{label:"轮播数量"},on:{change:t.changeFocusaccount}},[a("el-input-number",{attrs:{min:3,max:10,label:"描述文字"},model:{value:t.form2.focuscount,callback:function(e){t.$set(t.form2,"focuscount",e)},expression:"form2.focuscount"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.form.type,expression:"form.type == 2"}],staticClass:"card"},[a("p",{staticClass:"cardname"},[a("span",{staticClass:"title"},[t._v("卡片设置")]),a("span",{staticClass:"cardtotal"},[t._v("共"+t._s(t.cardCount)+"个图片/视频，单个轮播创意中图片/视频不会重复")])]),a("el-form-item",{staticClass:"cline uploadfile",attrs:{label:"图片"}},[a("el-button",{staticClass:"moreInfo",attrs:{type:"primary",size:"small"}},[t._v("上传图片")]),a("vue-file-upload",{ref:"vueFileUploaderLB",staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsIMG,multiple:"",requestOptions:t.fileOption,filters:t.imgfilters},on:{uploadPic:t.uploadPic,onAdd:t.onAddItem,checkUploadPic:t.checkUploadPic,uploadRes:t.uploadRes,uploadError:t.uploadError}},[a("span",{attrs:{slot:"label"},slot:"label"})]),a("ul",{staticClass:"reslist"},t._l(t.processIMG,function(e,i){return a("li",{key:i},[a("div",{staticClass:"image"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"item.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("i",{staticClass:"el-icon-error processclose",on:{click:function(a){t.delIMG(e.file,e.name)}}})])}),0)],1),a("el-form-item",{staticClass:"cline uploadfile",attrs:{label:"视频"}},[a("el-button",{staticClass:"moreInfo",attrs:{type:"primary",size:"small"}},[t._v("上传视频")]),a("vue-file-upload",{ref:"vueFileUploaderVioLB",staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsVIO,multiple:"",requestOptions:t.fileOption,filters:t.videofilters},on:{uploadVio:t.uploadVio,onAdd:t.onAddItem,checkUploadVio:t.checkUploadVio,uploadVioRes:t.uploadVioRes,uploadVioError:t.uploadVioError}},[a("span",{attrs:{slot:"label"},slot:"label"})]),a("ul",{staticClass:"reslist"},t._l(t.processVIO,function(e,i){return a("li",{key:i},[a("div",{staticClass:"video"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-document"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"item.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.fmname,expression:"!item.fmname"}],staticClass:"fmbutton",attrs:{type:"text"}},[t._v("上传封面图")]),a("div",{staticClass:"uploadFmbox",on:{click:function(a){t.showUploading(e.name)}}},[a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:!e.fmname,expression:"!item.fmname"}],staticClass:"fileinputfm",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsFM,multiple:"",requestOptions:t.fileOptionFM,filters:t.imgfilters},on:{matchMD5:t.matchMD5,uploadFm:t.uploadFm,uploadFmRes:t.uploadFmRes,uploadFmError:t.uploadFmError}},[a("span",{attrs:{slot:"label"},slot:"label"})])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.fmname,expression:"item.fmname"}],staticClass:"videofm"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.fmname}},[t._v(t._s(e.fmname))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.fmprocess,expression:"item.fmprocess == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.fmprocess+"%"})]),a("span",[t._v(t._s(e.fmprocess)+"%")])])]),a("i",{staticClass:"el-icon-error processclose processvideo",on:{click:function(a){t.delVIO(e.file,e.name)}}})],1)}),0)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.form2.titlearr.length>0,expression:"form2.titlearr.length > 0"}],staticClass:"descarea"},[a("span",{staticClass:"desctitle"},[t._v("标题")]),a("div",{staticClass:"tag"},t._l(t.form2.titlearr,function(e){return a("span",{key:e,staticClass:"evtag"},[t._v("\n              "+t._s(e)+"\n              "),a("i",{staticClass:"el-icon-error",on:{click:function(a){t.delTitle(e)}}})])}),0)]),a("el-form-item",{staticClass:"cartitle",attrs:{label:t.form2.titlearr.length>0?"":"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.form2.title,callback:function(e){t.$set(t.form2,"title",e)},expression:"form2.title"}})],1),a("el-form-item",{staticClass:"addbutton"},[a("el-button",{staticClass:"moreInfo",attrs:{type:"primary",size:"small"},on:{click:t.addTitle}},[t._v("新增标题")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2!=t.form.type&&t.form2.titlearr.length>0,expression:"form.type != 2 && form2.titlearr.length > 0"}],staticClass:"descarea"},[a("span",{staticClass:"desctitle"},[t._v("标题")]),a("div",{staticClass:"tag"},t._l(t.form2.titlearr,function(e){return a("span",{key:e,staticClass:"evtag"},[t._v("\n            "+t._s(e)+"\n            "),a("i",{staticClass:"el-icon-error",on:{click:function(a){t.delTitle(e)}}})])}),0)]),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2!=t.form.type,expression:"form.type != 2"}],staticClass:"cline",attrs:{label:t.form2.titlearr.length>0?"":"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.form2.title,callback:function(e){t.$set(t.form2,"title",e)},expression:"form2.title"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2!=t.form.type,expression:"form.type != 2"}],staticClass:"addbutton"},[a("el-button",{staticClass:"moreInfo",attrs:{type:"primary",size:"small"},on:{click:t.addTitle}},[t._v("新增标题")])],1),a("el-form-item",{staticClass:"cline",attrs:{label:"行动号召"}},[a("el-select",{attrs:{multiple:"",filterable:"",remote:"",placeholder:"行动号召"},on:{change:t.actionChange},model:{value:t.form2.actionArr,callback:function(e){t.$set(t.form2,"actionArr",e)},expression:"form2.actionArr"}},t._l(t.allactions,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t}})}),1)],1),a("el-form-item",{staticClass:"cbutton"},[a("el-button",{on:{click:t.toPrev}},[t._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toSubmit}},[t._v("新增"+t._s(t.total)+"个创意")])],1)],1)],1)],1)},no=[],oo=a("ca3e"),ro=a.n(oo),co=a("84f2"),lo=a.n(co),uo=a("77d2"),mo=new lo.a,po={props:["status"],components:{VueFileUpload:ro.a},data:function(){return{ifcreate:!0,dialogFormVisible:!1,dialogFormVisible2:!1,dialogImageUrl:"",dialogVisible:!1,xtoken:localStorage.getItem("atom_token"),state:"",total:0,prevtype:"0",disfile:null,fileOption:{headers:{"X-Token":localStorage.getItem("atom_token")}},fileOptionFM:{headers:{"X-Token":localStorage.getItem("atom_token")},formData:{type:"2"}},imgfilters:[{name:"imageFilter",fn:function(t){var e="|"+t.type.slice(t.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(e)}}],videofilters:[{name:"videoFilter",fn:function(t){var e="|"+t.type.slice(t.type.lastIndexOf("/")+1)+"|";return-1!=="|vob|ifo|mpg|mpeg|dat|mp4|3gp|mov|rm|ram|rmvb|wmv|asf|avi|asx|".indexOf(e)}}],uploadsize:0,dom:"",processIMG:[],processVIO:[],eventsIMG:{onProgressUpload:function(t,e){console.log(t.name),this.vm.$emit("uploadPic",t,e)},onSuccessUpload:function(t,e,a,i){if(0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadError",e,t);this.vm.$emit("uploadRes",e),console.log("%cremove","color: red"),t.remove()},onAddFileSuccess:function(t){console.log("%cwaiting","color: red"),this.vm.$emit("checkUploadPic",t)}},eventsVIO:{onProgressUpload:function(t,e){this.vm.$emit("uploadVio",t,e)},onSuccessUpload:function(t,e,a,i){if(0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadVioError",e,t);this.vm.$emit("uploadVioRes",e),console.log("%cremove","color: red"),t.remove()},onAddFileSuccess:function(t){console.log("%cwaiting","color: red"),this.vm.$emit("checkUploadVio",t)}},fmvideoname:"",eventsFM:{onProgressUpload:function(t,e){this.vm.$emit("uploadFm",t,e)},onSuccessUpload:function(t,e,a,i){if(0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadFmError",e,t);this.vm.$emit("uploadFmRes",e)},onAddFileSuccess:function(t){var e=this,a=t.file;mo.md5(a,function(a,i){e.vm.$emit("matchMD5",i,t,"fm")},function(t){})}},form:{selectArr:[],sex:"0",homepage:"",classify:"",type:"0",deeplink:""},form2:{imgvideo:[],descarr:[],desc:"",titlearr:[],title:"",actions:"",actionArr:[],actionidArr:[],focuscount:3,videoUrl:[]},msg:{selectArr:"请选择国家",homepage:"请选择主页",classify:"请输入分类",deeplink:""},msg2:{desc:"请输入文本",title:"请输入标题",actions:"请选择行动号召",imgvideo:"请上传图片",videoUrl:"请上传视频"}}},computed:Object(M["a"])({},Object(P["d"])(["othercountries","allpagelist","withcreate","wantupload"]),Object(P["b"])(["createclassify","allactions"]),{cardCount:function(){return this.processIMG.length+this.processVIO.length},uploadFileUrl:function(){return"".concat(uo["a"]["production"].UPLOAD_URL,"/file/")}}),watch:{status:function(t,e){this.dialogFormVisible=t},dialogFormVisible2:function(t,e){t&&("0"==this.form.type&&this.prevtype!=this.form.type&&(this.prevtype=this.form.type,this.$refs.uploadfile1&&this.$refs.uploadfile1.clearFiles(),this.form2.videoUrl=[],this.form2.imgvideo=[]),"1"==this.form.type&&this.prevtype!=this.form.type&&(this.prevtype=this.form.type,this.$refs.uploadfile2&&this.$refs.uploadfile2.clearFiles(),this.$refs.uploadfile3&&this.$refs.uploadfile3.clearFiles(),this.form2.videoUrl=[],this.form2.imgvideo=[]))},wantupload:function(t,e){console.log("wantupload:",t),0!=t&&t==this.uploadsize&&(console.log("%call ready","color: red"),this.$refs[this.dom].uploadAll())}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{matchMD5:function(t,e,a){var i=this;this.dom="img"==a?"vueFileUploader":"vueFileUploaderVio","2"==this.form.type&&(this.dom+="LB"),this.$store.dispatch("matchMutiFileMD5",{md5:[t],file:e,list:"img"==a?this.processIMG:this.processVIO,type:a,on:"withcreate",vdname:this.fmvideoname,callback:function(){i.setTotal()}})},onAddItem:function(t){console.log(t),this.SETSTATE({k:"wantupload",v:0}),this.uploadsize=t.length,console.log("this.uploadsize:",this.uploadsize)},changeFocusaccount:function(){this.setTotal()},resetImgVideo:function(){!this.disfile||this.disfile.isSuccess||this.disfile.isCancel||this.disfile.cancel(),"0"==this.form.type&&(this.processVIO=[]),"1"==this.form.type&&(this.processIMG=[]),this.SETSTATE({k:"withcreate",v:!0}),this.setTotal()},uploadFmError:function(t,e){this.SETSTATE({k:"withcreate",v:!0}),this.processVIO.forEach(function(t){t.fmname==e.name&&(t.fmname="",t.fmprocess="")})},uploadFmRes:function(t){this.SETSTATE({k:"withcreate",v:!0}),this.processVIO.forEach(function(e){e.fmname==t.data[0].originName&&(e.fmUrl=t.data[0].targetName,e.fmHash=t.data[0].md5)}),console.log(this.processVIO)},showUploading:function(t){this.fmvideoname=t},uploadFm:function(t,e){var a=this;this.disfile=t;this.SETSTATE({k:"withcreate",v:!1});var i=null,s=null;this.processVIO.forEach(function(n,o){n.name==a.fmvideoname&&(i=a.processVIO[o],s=Object(M["a"])({},i,{fmname:t.name,fmprocess:e}),a.processVIO.splice(o,1),a.processVIO.splice(o,0,s))})},uploadVioError:function(t,e){this.SETSTATE({k:"withcreate",v:!0}),this.processVIO=this.processVIO.filter(function(t){return t.name!=e.name})},uploadVioRes:function(t){this.SETSTATE({k:"withcreate",v:!0}),this.setTotal(),this.processVIO.forEach(function(e){e.name==t.data[0].originName&&(e.videoUrl=t.data[0].targetName,e.videoHash=t.data[0].md5)})},checkUploadVio:function(t){var e=this;if(this.processVIO.find(function(e){return e.name==t.name&&e.size==t.size}))t.remove(),Object(H["g"])("相同视频不可重复上传");else{var a=t.file;mo.md5(a,function(a,i){e.matchMD5(i,t,"video")},function(t){})}},uploadVio:function(t,e){this.disfile=t,this.SETSTATE({k:"withcreate",v:!1});var a={};a.name=t.name,a.process=e,a.file=t,a.size=t.size,a.fmname="",a.fmprocess=0,this.processVIO.forEach(function(a){a.name==t.name&&(a.process=e)}),this.processVIO.find(function(e){return e.name==t.name})||this.processVIO.push(a)},uploadError:function(t,e){this.SETSTATE({k:"withcreate",v:!0}),this.processIMG=this.processIMG.filter(function(t){return t.name!=e.name})},uploadRes:function(t,e){this.SETSTATE({k:"withcreate",v:!0}),this.setTotal(),this.processIMG.forEach(function(e){e.name==t.data[0].originName&&(e.imageUrl=t.data[0].targetName,e.imageHash=t.data[0].md5)})},checkUploadPic:function(t){var e=this;if(this.processIMG.find(function(e){return e.name==t.name&&e.size==t.size}))t.remove(),Object(H["g"])("相同图片不可重复上传");else{var a=t.file;mo.md5(a,function(a,i){e.matchMD5(i,t,"img")},function(t){})}},uploadPic:function(t,e){this.disfile=t,this.SETSTATE({k:"withcreate",v:!1});var a={};a.name=t.name,a.process=e,a.size=t.size,a.file=t,this.processIMG.forEach(function(a){a.name==t.name&&(a.process=e)}),this.processIMG.find(function(e){return e.name==t.name})||this.processIMG.push(a)},delIMG:function(t,e){console.log(t),t&&t.isUploading&&(t.cancel(),t.remove()),this.processIMG=this.processIMG.filter(function(t){return t.name!=e}),this.SETSTATE({k:"withcreate",v:!0}),this.setTotal()},delVIO:function(t,e){console.log(t),t&&t.isUploading&&(t.cancel(),t.remove()),this.processVIO=this.processVIO.filter(function(t){return t.name!=e}),this.SETSTATE({k:"withcreate",v:!0}),this.setTotal()},setTotal:function(){var t=0;t="0"==this.form.type?this.processIMG.length:"1"==this.form.type?this.processVIO.length:this.processIMG.length+this.processVIO.length;var e="2"==this.form.type?Math.ceil(t/this.form2.focuscount):t;this.total=e*this.form2.titlearr.length*this.form2.descarr.length*this.form2.actionArr.length},delTitle:function(t){this.form2.titlearr=this.form2.titlearr.filter(function(e){return e!=t}),this.setTotal()},addTitle:function(){if(""!=this.form2.title){var t=this.form2.title.trim();this.form2.titlearr=this.form2.titlearr.filter(function(e){return e!=t}),this.form2.titlearr.push(t),this.form2.title="",this.setTotal()}else Object(H["g"])("请在文本框内输入想要添加的标题名称")},delDesc:function(t){this.form2.descarr=this.form2.descarr.filter(function(e){return e!=t}),this.setTotal()},addDesc:function(){if(""!=this.form2.desc){var t=this.form2.desc.trim();this.form2.descarr=this.form2.descarr.filter(function(e){return e!=t}),this.form2.descarr.push(t),this.form2.desc="",this.setTotal()}else Object(H["g"])("请在文本框内输入想要添加的文本")},selectHomepage:function(){var t=this,e=this.allpagelist.filter(function(e){return e.pageId==t.form.homepage})[0];e.insId||(this.form.homepage="",Object(H["g"])("此主页无PBIA，请先同步"))},actionChange:function(){this.setTotal()},cancelAction:function(t){this.form2.actionArr=this.form2.actionArr.filter(function(e){return e.code==t})},toCancel2:function(){},toSubmit:function(){var t=this;if(console.log(this.form2),console.log(this.processVIO),this.withcreate)if("0"!=this.form.type||0!=this.processIMG.length)if("1"!=this.form.type||0!=this.processVIO.length)if("2"==this.form.type&&this.processIMG.length+this.processVIO.length<this.form2.focuscount)Object(H["g"])("图片+视频的数量要≥轮播数量");else if("1"!=this.form.type&&"2"!=this.form.type||!this.processVIO.find(function(t){return!t.fmname})){var e=this;if(0!=this.form2.descarr.length)if(0!=this.form2.titlearr.length)if(console.log(this.form2.actionArr),0!=this.form2.actionArr.length){var a=[],i=[];this.form.selectArr.forEach(function(t){a.push(t.code),i.push(t.name)});var s=this.allpagelist.filter(function(e){return e.pageId==t.form.homepage})[0],n=[],o="1"==this.form.type?this.processVIO:this.processIMG;if("2"==this.form.type){this.processIMG.forEach(function(t){t.type="1"}),this.processVIO.forEach(function(t){t.type="2"});var r,c,l=this.processIMG.concat(this.processVIO),u=[],d=[!0];if(console.log(l),l.forEach(function(t){"1"==t.type?(r={imageUrl:t.imageUrl,imageHash:t.imageHash},c={videoUrl:"",videoHash:""}):(r={imageUrl:t.fmUrl,imageHash:t.fmHash},c={videoUrl:t.videoUrl,videoHash:t.videoHash});var e={cardType:t.type,image:r,video:c};"1"==t.type?r.hasOwnProperty("imageUrl")&&""!=r["imageUrl"].trim()||(d=[!1,"".concat(t.name,"异常，请重新上传或更换素材")]):(c.hasOwnProperty("videoUrl")&&""!=c["videoUrl"].trim()||(d=[!1,"".concat(t.name,"异常，请重新上传或更换素材")]),r.hasOwnProperty("imageUrl")&&""!=r["imageUrl"].trim()||(d=[!1,"".concat(t.name,"对应的封面图").concat(t.fmname,"异常，请重新上传或更换素材")])),u.push(e)}),!d[0])return void Object(H["a"])(d[1]);var m=this.form2.focuscount-u.length%this.form2.focuscount;m<this.form2.focuscount&&(u=u.concat(u.slice(0,m)));for(var p=function(o){var r=u.slice(o,o+t.form2.focuscount);e.form2.descarr.forEach(function(o){e.form2.titlearr.forEach(function(c){e.form2.actionArr.forEach(function(l){r.forEach(function(t){t.cardTitle=c});var u={actionCallOn:l.code,actionCallOnName:l.name,classify:e.form.classify.trim(),countryId:a.join(","),countryName:i.join(","),creativityText:o,creativityType:e.form.type,deeplink:e.form.deeplink,card:ce()(r),pageId:s.pageId,pageLogo:s.picture,pageName:s.name,projectId:e.$route.params.id,sex:"0"==t.form.sex?"1,2":t.form.sex,token:e.xtoken};n.push(u)})})})},f=0;f<u.length;f+=this.form2.focuscount)p(f)}else o.forEach(function(o,r){var c,l,u=o.name;delete o["name"],delete o["file"],delete o["process"],delete o["size"],console.log(o["fmname"]),o["fmname"]&&(l=o["fmname"],c={imageUrl:o["fmUrl"],imageHash:o["fmHash"]},delete o["fmname"],delete o["fmUrl"],delete o["fmprocess"],delete o["fmHash"]),e.form2.descarr.forEach(function(r){e.form2.titlearr.forEach(function(d){e.form2.actionArr.forEach(function(m){var p={actionCallOn:m.code,actionCallOnName:m.name,classify:e.form.classify.trim(),countryId:a.join(","),countryName:i.join(","),creativityText:r,creativityTitle:d,creativityType:e.form.type,deeplink:e.form.deeplink,imageUrl:"0"==e.form.type?ce()(o):ce()(c),imageName:"1"==e.form.type?l:u,pageId:s.pageId,pageLogo:s.picture,pageName:s.name,projectId:e.$route.params.id,sex:"0"==t.form.sex?"1,2":t.form.sex,token:e.xtoken,videoUrl:"1"==e.form.type?ce()(o):"",videoName:"1"==e.form.type?u:""};p.imageUrl.length<10?Object(H["a"])("imageName: ".concat(u," 创建失败，请联系开发人员，并重新创建")):"1"==e.form.type&&p.videoUrl.length<10?Object(H["a"])("videoName: ".concat(u," 创建失败，请联系开发人员，并重新创建")):n.push(p)})})})});this.$store.dispatch("addCreates",{option:n,id:this.$route.params.id}),this.dialogFormVisible2=!1,this.toReset()}else Object(H["g"])("请选择行动号召");else Object(H["g"])("请输入标题");else Object(H["g"])("请输入文本")}else Object(H["g"])("每个视频都需上传一张封面图");else Object(H["g"])("请上传视频");else Object(H["g"])("请上传图片");else Object(H["g"])("图片/视频正在上传中...")},toNext:function(){var t=this,e=this.form;for(var a in e)if((""===e[a]||0==e[a].length)&&this.msg[a]&&""!=this.msg[a].trim())return void Object(H["g"])(this.msg[a]);this.dialogFormVisible=!1,setTimeout(function(e){t.dialogFormVisible2=!0},300)},toPrev:function(){this.dialogFormVisible2=!1,this.$emit("prevAddcreate","status5")},toCancel:function(){this.$emit("cancelAddbm","status5")},toReset:function(){this.form.selectArr=[],this.form.sex="0",this.form.homepage="",this.form.classify="",this.form.deeplink="",this.processIMG=[],this.processVIO=[],this.form2.imgvideo=[],this.form2.descarr.length=0,this.form2.desc="",this.form2.titlearr.length=0,this.form2.title="",this.form2.actions="",this.form2.actionArr=[],this.form2.focuscount=3,this.total=0},querySearchAsyncClassify:function(t,e){var a=this.createclassify,i=t?a.filter(this.createStateFilterClassify(t)):a;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e(i)},1e3*Math.random())},createStateFilterClassify:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},handleSelectClassify:function(t){this.form.classify=t.value}})},fo=po,ho=(a("efec"),a("1802"),Object(C["a"])(fo,so,no,!1,null,"700cd3c9",null)),_o=ho.exports,vo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog createdialog",attrs:{title:"新增创意",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form,"label-width":"80px"}},[a("div",{staticClass:"leftform"},[a("el-form-item",{staticClass:"cline",attrs:{label:"性别"}},[a("el-radio-group",{model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"0"}},[t._v("全部")]),a("el-radio",{attrs:{label:"1"}},[t._v("男")]),a("el-radio",{attrs:{label:"2"}},[t._v("女")])],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"创意类型"}},[a("el-radio-group",{on:{change:t.resetImgVideo},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-radio",{attrs:{label:"0"}},[t._v("单图片")]),a("el-radio",{attrs:{label:"1"}},[t._v("单视频")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0==t.form.type,expression:"form.type == 0"}],staticClass:"cline uploadfile",attrs:{label:"图片"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.processIMG.length,expression:"processIMG.length == 0"}],staticClass:"moreInfo",attrs:{type:"primary",size:"small"}},[t._v("上传图片")]),a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:0==t.processIMG.length,expression:"processIMG.length == 0"}],ref:"vueFileUploaderSINGER",staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsIMG,requestOptions:t.fileOption,filters:t.imgfilters},on:{matchMD5:t.matchMD5,onAdd:t.onAddItem,uploadPic:t.uploadPic,uploadRes:t.uploadRes,uploadError:t.uploadError}},[a("span",{attrs:{slot:"label"},slot:"label"})]),a("ul",{staticClass:"reslist"},t._l(t.processIMG,function(e,i){return a("li",{key:i},[a("div",{staticClass:"image"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"item.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("i",{staticClass:"el-icon-error processclose",on:{click:function(a){t.delIMG(e.file,e.name)}}})])}),0)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==t.form.type,expression:"form.type == 1"}],staticClass:"cline uploadfile",attrs:{label:"视频"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.processVIO.length,expression:"processVIO.length == 0"}],staticClass:"moreInfo",attrs:{type:"primary",size:"small"}},[t._v("上传视频")]),a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:0==t.processVIO.length,expression:"processVIO.length == 0"}],ref:"vueFileUploaderVioSINGER",staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsVIO,requestOptions:t.fileOption,filters:t.videofilters},on:{matchMD5:t.matchMD5,onAdd:t.onAddItem,uploadVio:t.uploadVio,uploadVioRes:t.uploadVioRes,uploadVioError:t.uploadVioError}},[a("span",{attrs:{slot:"label"},slot:"label"})]),a("ul",{staticClass:"reslist"},t._l(t.processVIO,function(e,i){return a("li",{key:i,on:{mouseover:function(a){t.fmvideoname=e.name}}},[a("div",{staticClass:"video"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-document"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"item.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.fmname,expression:"!item.fmname"}],staticClass:"fmbutton",attrs:{type:"text"}},[t._v("上传封面图")]),a("div",{staticClass:"uploadFmbox"},[a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:!e.fmname,expression:"!item.fmname"}],staticClass:"fileinputfm",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsFM,requestOptions:t.fileOptionFM,filters:t.imgfilters},on:{matchMD5:t.matchMD5,uploadFm:t.uploadFm,uploadFmRes:t.uploadFmRes,uploadFmError:t.uploadFmError}},[a("span",{attrs:{slot:"label"},slot:"label"})])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.fmname,expression:"item.fmname"}],staticClass:"videofm"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.fmname}},[t._v(t._s(e.fmname))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.fmprocess,expression:"item.fmprocess == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.fmprocess+"%"})]),a("span",[t._v(t._s(e.fmprocess)+"%")])])]),a("i",{staticClass:"el-icon-error processclose processvideo",on:{click:function(a){t.delVIO(e.file,e.name)}}})],1)}),0)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"deeplink"}},[a("el-input",{attrs:{placeholder:"可跳转到APP指定页面，选填，为空则仅下载APP"},model:{value:t.form.deeplink,callback:function(e){t.$set(t.form,"deeplink",e)},expression:"form.deeplink"}})],1)],1),a("div",{staticClass:"leftform"},[a("el-form-item",{staticClass:"cline",attrs:{label:"国家"}},[a("el-select",{staticClass:"search",attrs:{filterable:"",multiple:"",remote:"",placeholder:"请选择国家，可搜索"},model:{value:t.form.selectArr,callback:function(e){t.$set(t.form,"selectArr",e)},expression:"form.selectArr"}},t._l(t.othercountries,function(t){return a("el-option",{key:t.code,attrs:{label:t.name+"("+t.code+")",value:t}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"主页"}},[a("el-select",{attrs:{placeholder:"请选择主页",filterable:""},on:{change:t.selectHomepage},model:{value:t.form.homepage,callback:function(e){t.$set(t.form,"homepage",e)},expression:"form.homepage"}},t._l(t.allpagelist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.pageId}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"分类"}},[a("el-autocomplete",{staticClass:"search",attrs:{"fetch-suggestions":t.querySearchAsyncClassify,placeholder:"请输入分类，可搜索","suffix-icon":"el-icon-search"},on:{select:t.handleSelectClassify},model:{value:t.form.classify,callback:function(e){t.$set(t.form,"classify",e)},expression:"form.classify"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"文本"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea",placeholder:"请输入文字说明，介绍推广内容",autosize:{minRows:3.5,maxRows:3.5}},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"行动号召"}},[a("el-select",{attrs:{placeholder:"行动号召"},model:{value:t.form.actions,callback:function(e){t.$set(t.form,"actions",e)},expression:"form.actions"}},t._l(t.allactions,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.code}})}),1)],1)],1),a("el-form-item",{staticClass:"cbutton"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitOnly}},[t._v("立即创建")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitNext}},[t._v("保存并下一个")]),a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")])],1)],1)],1)},go=[],bo=new lo.a,yo={props:["status"],components:{VueFileUpload:ro.a},data:function(){return{ifcreate:!0,dialogImageUrl:"",dialogVisible:!1,state:"",timeout:null,restaurants:[],xtoken:localStorage.getItem("atom_token"),form:{name:"",sex:"0",type:"0",deeplink:"",homepage:"",classify:"",selectArr:[],desc:"",title:"",actions:""},msg:{name:"创意名称不可以为空",homepage:"请选择主页",classify:"请输入分类",desc:"请输入文本",title:"请输入标题",selectArr:"请选择国家",actions:"请选择行动号召",deeplink:"",imginfo:"请上传图片",videoinfo:"请上传视频",fminfo:"请上传封面图"},dialogFormVisible:!1,disfile:null,fileOption:{headers:{"X-Token":localStorage.getItem("atom_token")}},fileOptionFM:{headers:{"X-Token":localStorage.getItem("atom_token")},formData:{type:"2"}},imgfilters:[{name:"imageFilter",fn:function(t){var e="|"+t.type.slice(t.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(e)}}],videofilters:[{name:"videoFilter",fn:function(t){var e="|"+t.type.slice(t.type.lastIndexOf("/")+1)+"|";return-1!=="|vob|ifo|mpg|mpeg|dat|mp4|3gp|mov|rm|ram|rmvb|wmv|asf|avi|asx|".indexOf(e)}}],uploadsize:0,dom:"",processIMG:[],processVIO:[],eventsIMG:{onAddFileSuccess:function(t){var e=this,a=t.file;bo.md5(a,function(a,i){e.vm.$emit("matchMD5",i,t,"img")},function(t){})},onProgressUpload:function(t,e){this.vm.$emit("uploadPic",t,e)},onSuccessUpload:function(t,e,a,i){if(t.remove(),0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadError",e,t);this.vm.$emit("uploadRes",e)}},eventsVIO:{onAddFileSuccess:function(t){var e=this,a=t.file;bo.md5(a,function(a,i){e.vm.$emit("matchMD5",i,t,"video")},function(t){})},onProgressUpload:function(t,e){this.vm.$emit("uploadVio",t,e)},onSuccessUpload:function(t,e,a,i){if(t.remove(),0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadVioError",e,t);this.vm.$emit("uploadVioRes",e)}},fmvideoname:"",eventsFM:{onAddFileSuccess:function(t){var e=this,a=t.file;bo.md5(a,function(a,i){e.vm.$emit("matchMD5",i,t,"fm")},function(t){})},onProgressUpload:function(t,e){this.vm.$emit("uploadFm",t,e)},onSuccessUpload:function(t,e,a,i){if(0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadFmError",e,t);this.vm.$emit("uploadFmRes",e)}}}},mounted:function(){},watch:{status:function(t,e){this.dialogFormVisible=t},wantupload:function(t,e){console.log("create-add wantupload:",t),0!=t&&t==this.uploadsize&&(console.log("%ccreate-add all ready","color: red"),this.$refs[this.dom].uploadAll())}},computed:Object(M["a"])({},Object(P["d"])(["othercountries","allpagelist","addcreate","wantupload"]),Object(P["b"])(["createclassify","allactions"]),{uploadFileUrl:function(){return"".concat(uo["a"]["production"].UPLOAD_URL,"/file/")}}),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{matchMD5:function(t,e,a){this.dom="img"==a?"vueFileUploaderSINGER":"vueFileUploaderVioSINGER",this.$store.dispatch("matchMutiFileMD5",{md5:[t],file:e,list:"img"==a?this.processIMG:this.processVIO,type:a,on:"addcreate",vdname:this.fmvideoname})},onAddItem:function(t){console.log(t),this.SETSTATE({k:"wantupload",v:0}),this.uploadsize=t.length,console.log("create-add this.uploadsize:",this.uploadsize)},resetImgVideo:function(){console.log(this.disfile),!this.disfile||this.disfile.isSuccess||this.disfile.isCancel||this.disfile.cancel(),"0"==this.form.type?this.processVIO=[]:this.processIMG=[],this.SETSTATE({k:"addcreate",v:!0})},uploadFmError:function(t,e){this.SETSTATE({k:"addcreate",v:!0}),this.processVIO.forEach(function(t){t.fmname==e.name&&(t.fmname="",t.fmprocess="")})},uploadFmRes:function(t){this.SETSTATE({k:"addcreate",v:!0}),this.processVIO.forEach(function(e){e.fmname==t.data[0].originName&&(e.fmUrl=t.data[0].targetName,e.fmHash=t.data[0].md5)})},uploadFm:function(t,e){var a=this;this.disfile=t;this.SETSTATE({k:"addcreate",v:!1});var i=null,s=null;this.processVIO.forEach(function(n,o){n.name==a.fmvideoname&&(i=a.processVIO[o],s=Object(M["a"])({},i,{fmname:t.name,fmprocess:e}),a.processVIO.splice(o,1),a.processVIO.splice(o,0,s))})},uploadVioError:function(t,e){this.SETSTATE({k:"addcreate",v:!0}),this.processVIO=this.processVIO.filter(function(t){return t.name!=e.name})},uploadVioRes:function(t){this.SETSTATE({k:"addcreate",v:!0}),this.processVIO.forEach(function(e){e.name==t.data[0].originName&&(e.videoUrl=t.data[0].targetName,e.videoHash=t.data[0].md5)})},uploadVio:function(t,e){this.disfile=t,this.SETSTATE({k:"addcreate",v:!1});var a={};a.name=t.name,a.process=e,a.file=t,a.size=t.size,a.fmname="",a.fmprocess=0,this.processVIO.forEach(function(a){a.name==t.name&&(a.process=e)}),this.processVIO.find(function(e){return e.name==t.name})||this.processVIO.push(a)},delVIO:function(t,e){t&&t.isUploading&&(t.cancel(),t.remove()),this.processVIO=this.processVIO.filter(function(t){return t.name!=e}),this.SETSTATE({k:"addcreate",v:!0})},uploadRes:function(t){this.SETSTATE({k:"addcreate",v:!0}),this.processIMG.forEach(function(e){e.name==t.data[0].originName&&(e.imageUrl=t.data[0].targetName,e.imageHash=t.data[0].md5)})},uploadError:function(t,e){this.SETSTATE({k:"addcreate",v:!0}),this.processIMG=this.processIMG.filter(function(t){return t.name!=e.name})},uploadPic:function(t,e){this.disfile=t,this.SETSTATE({k:"addcreate",v:!1});var a={};a.name=t.name,a.process=e,a.size=t.size,a.file=t,this.processIMG.forEach(function(a){a.name==t.name&&(a.process=e)}),this.processIMG.find(function(e){return e.name==t.name})||this.processIMG.push(a)},delIMG:function(t,e){t&&t.isUploading&&(t.cancel(),t.remove()),this.processIMG=this.processIMG.filter(function(t){return t.name!=e}),this.SETSTATE({k:"addcreate",v:!0})},selectHomepage:function(){var t=this,e=this.allpagelist.filter(function(e){return e.pageId==t.form.homepage})[0];e.insId||(this.form.homepage="",Object(H["g"])("此主页无PBIA，请先同步"))},querySearchAsyncClassify:function(t,e){var a=this.createclassify,i=t?a.filter(this.createStateFilterClassify(t)):a;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e(i)},1e3*Math.random())},createStateFilterClassify:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},handleSelectClassify:function(t){this.form.classify=t.value},onSubmitNext:function(){this.onSubmit()&&this.toReset()},onSubmitOnly:function(){this.onSubmit()&&(this.dialogFormVisible=!1)},checkCondition:function(){var t=this.form;return console.log(this.processVIO),0==t["type"]&&0==this.processIMG.length?[!1,this.msg["imginfo"]]:1==t["type"]&&0==this.processVIO.length?[!1,this.msg["videoinfo"]]:1!=t["type"]||this.processVIO[0].fmname?0==t["selectArr"].length?[!1,this.msg["selectArr"]]:""==t["homepage"]?[!1,this.msg["homepage"]]:""==t["classify"].trim()?[!1,this.msg["classify"]]:""==t["desc"]?[!1,this.msg["desc"]]:""==t["title"]?[!1,this.msg["title"]]:""===t["actions"]?[!1,this.msg["actions"]]:[!0]:[!1,this.msg["fminfo"]]},onSubmit:function(){var t=this;if(console.log(this.form),this.addcreate){this.form;var e=this.checkCondition();if(e[0]){var a=[],i=[];this.form.selectArr.forEach(function(t){a.push(t.code),i.push(t.name)});var s=this.allpagelist.filter(function(e){return e.pageId==t.form.homepage})[0],n=this.allactions.filter(function(e){return e.code==t.form.actions})[0],o={imageUrl:0==this.form.type?this.processIMG[0].imageUrl:this.processVIO[0].fmUrl,imageHash:0==this.form.type?this.processIMG[0].imageHash:this.processVIO[0].fmHash},r=null;1==this.form.type&&(r={videoUrl:this.processVIO[0].videoUrl,videoHash:this.processVIO[0].videoHash});var c={actionCallOn:n.code,actionCallOnName:n.name,classify:this.form.classify.trim(),countryId:a.join(","),countryName:i.join(","),creativityName:this.form.name,creativityText:this.form.desc,creativityTitle:this.form.title,creativityType:this.form.type,deeplink:this.form.deeplink,imageUrl:ce()(o),pageId:s.pageId,pageLogo:s.picture,pageName:s.name,projectId:this.$route.params.id,sex:"0"==this.form.sex?"1,2":this.form.sex,token:this.xtoken,videoUrl:r?ce()(r):""};return this.$store.dispatch("toAddCreate",{option:c,id:this.$route.params.id}),!0}Object(H["g"])(e[1])}else Object(H["g"])("图片/视频正在上传中...")},toReset:function(){!this.disfile||this.disfile.isSuccess||this.disfile.isCancel||this.disfile.cancel(),this.processVIO=[],this.processIMG=[],this.SETSTATE({k:"addcreate",v:!0}),this.form.name="",this.form.sex="0",this.form.type="0",this.form.deeplink="",this.form.homepage="",this.form.classify="",this.form.selectArr=[],this.form.desc="",this.form.title="",this.form.actions=""},toCancel:function(){this.toReset(),this.$emit("cancelAddbm","status4")}})},ko=yo,Eo=(a("aec0"),Object(C["a"])(ko,vo,go,!1,null,"b22e5e20",null)),Co=Eo.exports,Oo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rulelist",attrs:{id:"createList"}},[t._l(t.createlist,function(e,i){return a("div",{key:i,staticClass:"box"},[a("div",{staticClass:"con"},[a("p",{staticClass:"master"},[a("span",{staticClass:"logo"},[a("img",{attrs:{src:e.pageLogo,alt:""}})]),a("span",{staticClass:"name"},[t._v(t._s(e.pageName))])]),a("p",{staticClass:"describe"},[a("pre",[t._v(t._s(e.creativityText))])]),2==e.creativityType?a("el-carousel",{attrs:{arrow:"never","indicator-position":"none"}},t._l(e.card,function(i,s){return a("el-carousel-item",{key:s},[a("p",{staticClass:"img"},[1==i.cardType?a("img",{attrs:{src:i.image.imageUrl,alt:""},on:{click:function(e){t.showBigImg(i.image.imageUrl)}}}):a("video",{attrs:{src:i.video.videoUrl,controls:"controls"}})]),a("div",{staticClass:"imginfo"},[a("p",{staticClass:"ititle"},[a("span",{attrs:{title:i.cardTitle}},[t._v(t._s(i.cardTitle))])]),a("el-button",{staticClass:"ibutton",attrs:{type:"primary",round:"",size:"small"}},[t._v(t._s(e.actionCallOnName))])],1)])}),1):0==e.creativityType?a("div",[a("p",{staticClass:"img"},[a("img",{attrs:{src:e.img,alt:""},on:{click:function(a){t.showBigImg(e.img)}}})]),a("div",{staticClass:"imginfo"},[a("p",{staticClass:"ititle"},[a("span",{attrs:{title:e.creativityTitle}},[t._v(t._s(e.creativityTitle))])]),a("el-button",{staticClass:"ibutton",attrs:{type:"primary",round:"",size:"small"}},[t._v(t._s(e.actionCallOnName))])],1)]):a("div",[a("p",{staticClass:"img"},[a("video",{attrs:{src:e.video,controls:"controls"}})]),a("div",{staticClass:"imginfo"},[a("p",{staticClass:"ititle"},[a("span",{attrs:{title:e.creativityTitle}},[t._v(t._s(e.creativityTitle))])]),a("el-button",{staticClass:"ibutton",attrs:{type:"primary",round:"",size:"small"}},[t._v(t._s(e.actionCallOnName))])],1)])],1),a("div",{staticClass:"other"},[a("p",{staticClass:"country"},[a("span",[a("i",{staticClass:"el-icon-edit",on:{click:function(a){t.toChangeCountry(e.id,e.countryId)}}}),t._v(t._s(e.countryId))])]),a("p",[t._v("ID："+t._s(e.id)+"\n        "),a("span",{class:{class:!0,noclassify:!e.classify}},[t._v(t._s(e.classify))])]),a("p",{staticClass:"name"},[a("span",{staticClass:"binfo"},[t._v(t._s(e.creater)+" "+t._s(t._f("timeFormat")(e.createTime,"yyyy-MM-dd HH:mm:ss",e.createTime)))]),a("span",{staticClass:"mutli"},[a("el-checkbox",{model:{value:t.createchecked[i],callback:function(e){t.$set(t.createchecked,i,e)},expression:"createchecked[index]"}})],1),a("span",{staticClass:"select"},[a("el-select",{staticClass:"sex",attrs:{size:"mini",placeholder:"请选择"},on:{change:function(a){t.updateSex(e.id,e.sex)}},model:{value:e.sex,callback:function(a){t.$set(e,"sex",a)},expression:"l.sex"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)]),a("p",{staticClass:"switch"},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#d7dae2"},on:{change:function(a){t.toOpenClose(e.id,e.status)}},model:{value:e.status,callback:function(a){t.$set(e,"status",a)},expression:"l.status"}})],1)])])}),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.originImg,expression:"originImg != ''"}],staticClass:"imgDetail",on:{click:t.hideBigImg}},[a("img",{attrs:{src:t.originImg,alt:""}})])])],2)},wo=[],Io={data:function(){return{originImg:"",options:[{value:"1,2",label:"all"},{value:"1",label:"男"},{value:"2",label:"女"}]}},computed:Object(M["a"])({},Object(P["d"])(["createlist","createchecked"])),methods:{hideBigImg:function(){this.originImg=""},showBigImg:function(t){this.originImg="".concat(t)},toChangeCountry:function(t,e){this.$emit("changeCountry",t,e)},toChangeName:function(t,e){this.$emit("changeName",t,e)},updateSex:function(t,e){this.$store.dispatch("updateSex",{id:t,sex:e})},toOpenClose:function(t,e){var a=[];a.push({id:t,status:e}),1==e?this.$store.dispatch("openCreate",{option:a}):this.$store.dispatch("closeCreate",{option:a})}}},To=Io,Ao=(a("b407"),a("4e15"),Object(C["a"])(To,Oo,wo,!1,null,"44fe64e1",null)),xo=Ao.exports,So=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"批量新增国家",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-select",{staticClass:"select",attrs:{multiple:"",filterable:"",remote:"",placeholder:"请选择国家"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}},t._l(t.othercountries,function(t){return a("el-option",{key:t.code,attrs:{label:t.name+"("+t.code+")",value:t.code}})}),1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toAdd}},[t._v("确 定")])],1)],1)},jo=[],Do={props:["status"],data:function(){return{country:[],dialogFormVisible:!1,timeout:null,restaurants:[],selectArr:[]}},watch:{status:function(t,e){this.dialogFormVisible=t}},computed:Object(M["a"])({},Object(P["d"])(["othercountries"])),methods:{toAdd:function(){var t=this.country.join(",");this.$emit("toAddCountries",t)},toCancel:function(){this.$emit("cancelAddbm","status3"),this.selectArr=[],this.country=[]},cancelSelect:function(t){this.selectArr=this.selectArr.filter(function(e){return e.id!=t})}},mounted:function(){}},Mo=Do,Po=(a("922a"),Object(C["a"])(Mo,So,jo,!1,null,"57070fd4",null)),Lo=Po.exports,Ro=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog createdialog",attrs:{title:"新增轮播创意",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form,"label-width":"80px"}},[a("div",{staticClass:"leftform"},[a("el-form-item",{staticClass:"cline",attrs:{label:"性别"}},[a("el-radio-group",{model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"0"}},[t._v("全部")]),a("el-radio",{attrs:{label:"1"}},[t._v("男")]),a("el-radio",{attrs:{label:"2"}},[t._v("女")])],1)],1),a("div",{staticClass:"carousellist"},[t.tablist.length<10?a("div",{staticClass:"add",staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.addTab(t.tabvalue)}}},[t._v("\n            +\n          ")])],1):t._e(),a("el-tabs",{attrs:{type:"card"},model:{value:t.tabvalue,callback:function(e){t.tabvalue=e},expression:"tabvalue"}},t._l(t.tablist,function(e,i){return a("el-tab-pane",{key:e.name,attrs:{label:i+1+"",name:e.name}},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.tablist.length>3,expression:"tablist.length > 3"}],staticClass:"el-icon-close cardremove",on:{click:function(a){t.removeTab(e.name)}}}),a("el-form-item",{staticClass:"cline",attrs:{label:"类型"}},[a("el-radio-group",{on:{change:function(a){t.resetImgVideo(e.name)}},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"item.type"}},[a("el-radio",{attrs:{label:"1"}},[t._v("图片")]),a("el-radio",{attrs:{label:"2"}},[t._v("视频")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"==e.type,expression:"item.type == '1'"}],staticClass:"cline uploadfile",attrs:{label:"图片"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.processIMG.length,expression:"item.processIMG.length == 0"}],staticClass:"moreInfo",attrs:{type:"primary",size:"small"}},[t._v("上传图片")]),a("div",{staticClass:"filebutton"},[a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:0==e.processIMG.length,expression:"item.processIMG.length == 0"}],staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsIMG,requestOptions:t.fileOption,filters:t.imgfilters},on:{checkUpload:t.checkUpload,uploadPic:t.uploadPic,uploadRes:t.uploadRes,uploadError:t.uploadError}},[a("span",{attrs:{slot:"label"},slot:"label"})])],1),a("ul",{staticClass:"reslist"},t._l(e.processIMG,function(e,i){return a("li",{key:i},[a("div",{staticClass:"image"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"l.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("i",{staticClass:"el-icon-error processclose",on:{click:function(a){t.delIMG(e.file)}}})])}),0)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"2"==e.type,expression:"item.type == '2'"}],staticClass:"cline uploadfile",attrs:{label:"视频"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.processVIO.length,expression:"item.processVIO.length == 0"}],staticClass:"moreInfo",attrs:{type:"primary",size:"small"}},[t._v("上传视频")]),a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:0==e.processVIO.length,expression:"item.processVIO.length == 0"}],staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsVIO,requestOptions:t.fileOption,filters:t.videofilters},on:{checkUpload:t.checkUploadVio,uploadVio:t.uploadVio,uploadVioRes:t.uploadVioRes,uploadVioError:t.uploadVioError}},[a("span",{attrs:{slot:"label"},slot:"label"})]),a("ul",{staticClass:"reslist"},t._l(e.processVIO,function(e,i){return a("li",{key:i},[a("div",{staticClass:"video"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-document"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"g.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.fmname&&100==e.process,expression:"!g.fmname && g.process == 100"}],staticClass:"fmbutton",attrs:{type:"text"}},[t._v("上传封面图")]),a("div",{staticClass:"uploadFmbox"},[a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:!e.fmname&&100==e.process,expression:"!g.fmname && g.process == 100"}],staticClass:"fileinputfm",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsFM,requestOptions:t.fileOptionFM,filters:t.imgfilters},on:{checkUploadFm:t.checkUploadFm,uploadFm:t.uploadFm,uploadFmRes:t.uploadFmRes,uploadFmError:t.uploadFmError}},[a("span",{attrs:{slot:"label"},slot:"label"})])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.fmname,expression:"g.fmname"}],staticClass:"videofm"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.fmname}},[t._v(t._s(e.fmname))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.fmprocess,expression:"g.fmprocess == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.fmprocess+"%"})]),a("span",[t._v(t._s(e.fmprocess)+"%")])])]),a("i",{staticClass:"el-icon-error processclose processvideo",on:{click:function(a){t.delVIO(e.file)}}})],1)}),0)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"item.title"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"deeplink"}},[a("el-input",{attrs:{placeholder:"可跳转到APP指定页面，选填，为空则仅下载APP"},model:{value:e.deeplink,callback:function(a){t.$set(e,"deeplink",a)},expression:"item.deeplink"}})],1)],1)}),1)],1)],1),a("div",{staticClass:"leftform"},[a("el-form-item",{staticClass:"cline",attrs:{label:"国家"}},[a("el-select",{staticClass:"search",attrs:{filterable:"",multiple:"",remote:"",placeholder:"请选择国家，可搜索"},model:{value:t.form.selectArr,callback:function(e){t.$set(t.form,"selectArr",e)},expression:"form.selectArr"}},t._l(t.othercountries,function(t){return a("el-option",{key:t.code,attrs:{label:t.name+"("+t.code+")",value:t}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"主页"}},[a("el-select",{attrs:{placeholder:"请选择主页",filterable:""},on:{change:t.selectHomepage},model:{value:t.form.homepage,callback:function(e){t.$set(t.form,"homepage",e)},expression:"form.homepage"}},t._l(t.allpagelist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.pageId}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"分类"}},[a("el-autocomplete",{staticClass:"search",attrs:{"fetch-suggestions":t.querySearchAsyncClassify,placeholder:"请输入分类，可搜索","suffix-icon":"el-icon-search"},on:{select:t.handleSelectClassify},model:{value:t.form.classify,callback:function(e){t.$set(t.form,"classify",e)},expression:"form.classify"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"文本"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea",placeholder:"请输入文字说明，介绍推广内容",autosize:{minRows:3.5,maxRows:3.5}},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"deeplink"}},[a("el-input",{attrs:{placeholder:"可跳转到APP指定页面，选填，为空则仅下载APP"},model:{value:t.form.deeplink,callback:function(e){t.$set(t.form,"deeplink",e)},expression:"form.deeplink"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"行动号召"}},[a("el-select",{attrs:{placeholder:"行动号召"},model:{value:t.form.actions,callback:function(e){t.$set(t.form,"actions",e)},expression:"form.actions"}},t._l(t.allactions,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.code}})}),1)],1)],1),a("el-form-item",{staticClass:"cbutton"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitOnly}},[t._v("立即创建")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitNext}},[t._v("保存并下一个")]),a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")])],1)],1)],1)},No=[],$o=new lo.a,Uo={props:["status"],components:{VueFileUpload:ro.a},data:function(){return{tablist:[{tab:"1",name:"t1",title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]},{tab:"2",name:"t2",title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]},{tab:"3",name:"t3",title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]}],tabvalue:"t1",tabindex:3,dialogImageUrl:"",state:"",timeout:null,restaurants:[],xtoken:localStorage.getItem("atom_token"),form:{name:"",sex:"0",type:"0",deeplink:"",homepage:"",classify:"",selectArr:[],desc:"",title:"",actions:""},msg:{name:"创意名称不可以为空",homepage:"请选择主页",classify:"请输入分类",desc:"请输入文本",title:"请输入标题",selectArr:"请选择国家",actions:"请选择行动号召",deeplink:"",imginfo:"请上传图片",videoinfo:"请上传视频",fminfo:"请上传封面图"},dialogFormVisible:!1,fileOption:{headers:{"X-Token":localStorage.getItem("atom_token")}},fileOptionFM:{headers:{"X-Token":localStorage.getItem("atom_token")},formData:{type:"2"}},imgfilters:[{name:"imageFilter",fn:function(t){var e="|"+t.type.slice(t.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(e)}}],videofilters:[{name:"videoFilter",fn:function(t){var e="|"+t.type.slice(t.type.lastIndexOf("/")+1)+"|";return-1!=="|vob|ifo|mpg|mpeg|dat|mp4|3gp|mov|rm|ram|rmvb|wmv|asf|avi|asx|".indexOf(e)}}],eventsIMG:{onProgressUpload:function(t,e){console.log(t.name),this.vm.$emit("uploadPic",t,e)},onSuccessUpload:function(t,e,a,i){if(0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadError",e,t);this.vm.$emit("uploadRes",e)},onAddFileSuccess:function(t){this.vm.$emit("checkUpload",t)}},eventsVIO:{onProgressUpload:function(t,e){console.log(t.name),this.vm.$emit("uploadVio",t,e)},onSuccessUpload:function(t,e,a,i){if(0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadVioError",e,t);this.vm.$emit("uploadVioRes",e)},onAddFileSuccess:function(t){this.vm.$emit("checkUpload",t)}},eventsFM:{onProgressUpload:function(t,e){console.log(arguments),this.vm.$emit("uploadFm",t,e)},onSuccessUpload:function(t,e,a,i){if(0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadFmError",e,t);this.vm.$emit("uploadFmRes",e)},onAddFileSuccess:function(t){this.vm.$emit("checkUploadFm",t)}}}},mounted:function(){},watch:{status:function(t,e){this.dialogFormVisible=t}},computed:Object(M["a"])({},Object(P["d"])(["othercountries","allpagelist","cardcreate"]),Object(P["b"])(["createclassify","allactions"]),{uploadFileUrl:function(){return"".concat(uo["a"]["production"].UPLOAD_URL,"/file/")}}),methods:{matchMD5:function(t,e,a){this.$store.dispatch("matchFileMD5",{md5:[t],file:e,list:this.tablist,type:a,tabvalue:this.tabvalue,on:"cardcreate",vdname:this.fmvideoname})},resetImgVideo:function(t){this.tablist.forEach(function(e){if(e.name==t)if("1"==e.type){var a=e.processVIO[0]?e.processVIO[0].fmfile||e.processVIO[0].file:null;!a||a.isSuccess||a.isCancel||a.cancel(),e.processVIO=[]}else{a=e.processIMG[0]?e.processIMG[0].file:null;!a||a.isSuccess||a.isCancel||a.cancel(),e.processIMG=[]}})},addTab:function(t){var e=++this.tabindex+"";this.tablist.push({tab:e,name:"t"+e,title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]}),this.tabvalue="t"+e},removeTab:function(t){this.tablist.forEach(function(e){if(e.name==t)if("1"==e.type){var a=e.processIMG[0]?e.processIMG[0].file:null;!a||a.isSuccess||a.isCancel||a.cancel()}else{a=e.processVIO[0]?e.processVIO[0].fmfile||e.processVIO[0].file:null;!a||a.isSuccess||a.isCancel||a.cancel()}});var e=this.tablist,a=this.tabvalue;a===t&&e.forEach(function(i,s){i.name==t&&(a=e[s+1]?e[s+1].name:e[s-1].name)}),this.tabvalue=a,this.tablist=e.filter(function(e){return e.name!==t})},uploadFmError:function(t,e){this.tablist.forEach(function(t){t.processVIO[0]&&t.processVIO[0].fmname==e.name&&(t.processVIO[0].fmname="",t.processVIO[0].fmprocess="")})},uploadFmRes:function(t){console.log(t),this.tablist.forEach(function(e){e.processVIO[0]&&e.processVIO[0].fmname==t.data[0].originName&&(e.processVIO[0].fmUrl=t.data[0].targetName,e.processVIO[0].fmHash=t.data[0].md5)})},uploadFm:function(t,e){var a=this,i=this.tablist.find(function(e){return e.processVIO[0]&&e.processVIO[0].fmname==t.name});i?this.tablist.forEach(function(a){a.processVIO[0]&&a.processVIO[0].fmname==t.name&&(a.processVIO[0].fmprocess=e)}):this.tablist.forEach(function(i){i.name==a.tabvalue&&(i.processVIO[0].fmname=t.name,i.processVIO[0].fmprocess=e,i.processVIO[0].fmfile=t)})},uploadVioError:function(t,e){this.tablist.forEach(function(t){t.processVIO[0]&&t.processVIO[0].name==e.name&&(t.processVIO=[])})},uploadVioRes:function(t){this.tablist.forEach(function(e){e.processVIO[0]&&e.processVIO[0].name==t.data[0].originName&&(e.processVIO[0].videoUrl=t.data[0].targetName,e.processVIO[0].videoHash=t.data[0].md5)})},uploadVio:function(t,e){var a=this,i={};i.name=t.name,i.process=e,i.file=t,i.size=t.size,i.fmname="",i.fmprocess=0;var s=this.tablist.find(function(e){return e.processVIO[0]&&e.processVIO[0].name==t.name});s?this.tablist.forEach(function(a){a.processVIO[0]&&a.processVIO[0].name==t.name&&(a.processVIO[0].process=e)}):this.tablist.forEach(function(t){t.name==a.tabvalue&&t.processVIO.push(i)})},delVIO:function(t){var e=this;t&&t.isUploading&&(t.cancel(),t.remove()),this.tablist.forEach(function(t){t.name==e.tabvalue&&(t.processVIO=[])})},uploadRes:function(t){this.tablist.forEach(function(e){e.processIMG[0]&&e.processIMG[0].name==t.data[0].originName&&(e.processIMG[0].imageUrl=t.data[0].targetName,e.processIMG[0].imageHash=t.data[0].md5)})},uploadError:function(t,e){this.tablist.forEach(function(t){t.processIMG[0]&&t.processIMG[0].name==e.name&&(t.processIMG=[])})},checkUpload:function(t){var e=this;if(this.tablist.find(function(e){return e.processIMG[0]&&e.processIMG[0].name==t.name}))t.remove(),Object(H["g"])("相同图片不可重复上传，请更换图片或重新命名");else{var a=t.file;$o.md5(a,function(a,i){e.matchMD5(i,t,"img")},function(t){})}},checkUploadVio:function(t){var e=this;if(this.tablist.find(function(e){return e.processVIO[0]&&e.processVIO[0].name==t.name}))t.remove(),Object(H["g"])("相同视频不可重复上传，请更换视频或重新命名");else{var a=t.file;$o.md5(a,function(a,i){e.matchMD5(i,t,"video")},function(t){})}},checkUploadFm:function(t){var e=this;if(this.tablist.find(function(e){return e.processVIO[0]&&e.processVIO[0].fmname==t.name}))t.remove(),Object(H["g"])("暂时无法上传相同封面图，请更换封面图或重新命名");else{var a=t.file;$o.md5(a,function(a,i){e.matchMD5(i,t,"fm")},function(t){})}},uploadPic:function(t,e){var a=this,i={};i.name=t.name,i.process=e,i.size=t.size,i.file=t;var s=this.tablist.find(function(e){return e.processIMG[0]&&e.processIMG[0].name==t.name});s?this.tablist.forEach(function(a){a.processIMG[0]&&a.processIMG[0].name==t.name&&(a.processIMG[0].process=e)}):this.tablist.forEach(function(t){t.name==a.tabvalue&&t.processIMG.push(i)})},delIMG:function(t){var e=this;t&&t.isUploading&&(t.cancel(),t.remove()),this.tablist.forEach(function(t){t.name==e.tabvalue&&(t.processIMG=[])})},selectHomepage:function(){var t=this,e=this.allpagelist.filter(function(e){return e.pageId==t.form.homepage})[0];e.insId||(this.form.homepage="",Object(H["g"])("此主页无PBIA，请先同步"))},querySearchAsyncClassify:function(t,e){var a=this.createclassify,i=t?a.filter(this.createStateFilterClassify(t)):a;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e(i)},1e3*Math.random())},createStateFilterClassify:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},handleSelectClassify:function(t){this.form.classify=t.value},onSubmitNext:function(){this.onSubmit()&&this.toReset()},onSubmitOnly:function(){this.onSubmit()&&(this.dialogFormVisible=!1)},checkCondition:function(){for(var t,e=this.form,a=0;a<this.tablist.length;a++){var i=this.tablist[a];if("1"==i.type){if(0==i.processIMG.length){t=[!1,"卡片".concat(a+1," 图片未上传")];break}if(100!=i.processIMG[0].process){t=[!1,"卡片".concat(a+1," 图片正在上传中……")];break}t=[!0]}else{if(0==i.processVIO.length){t=[!1,"卡片".concat(a+1," 视频未上传")];break}if(100!=i.processVIO[0].process){t=[!1,"卡片".concat(a+1," 视频正在上传中……")];break}if(!i.processVIO[0].fmname){t=[!1,"卡片".concat(a+1," 封面图未上传")];break}if(100!=i.processVIO[0].fmprocess){t=[!1,"卡片".concat(a+1," 封面图正在上传中……")];break}t=[!0]}if(""==i.title){t=[!1,"卡片".concat(a+1," 标题未填写")];break}}return t[0]?0==e["selectArr"].length?[!1,this.msg["selectArr"]]:""==e["homepage"]?[!1,this.msg["homepage"]]:""==e["classify"].trim()?[!1,this.msg["classify"]]:""==e["desc"]?[!1,this.msg["desc"]]:""===e["actions"]?[!1,this.msg["actions"]]:[!0]:t},onSubmit:function(){var t=this;console.log(this.tablist);var e=this.checkCondition();if(e[0]){this.form;var a=[],i=[];this.form.selectArr.forEach(function(t){a.push(t.code),i.push(t.name)});var s=this.allpagelist.filter(function(e){return e.pageId==t.form.homepage})[0],n=this.allactions.filter(function(e){return e.code==t.form.actions})[0],o=[],r=[!0];if(console.log(this.tablist),this.tablist.forEach(function(t,e){var a,i;"1"==t.type?(a={imageUrl:t.processIMG[0].imageUrl,imageHash:t.processIMG[0].imageHash},i={videoUrl:"",videoHash:""}):(a={imageUrl:t.processVIO[0].fmUrl,imageHash:t.processVIO[0].fmHash},i={videoUrl:t.processVIO[0].videoUrl,videoHash:t.processVIO[0].videoHash});var s={cardType:t.type,image:a,video:i,cardTitle:t.title,cardDeepLink:t.deeplink};"1"==t.type?a.hasOwnProperty("imageUrl")&&""!=a["imageUrl"].trim()||(r=[!1,"".concat(t.processIMG[0].name,"异常，请重新上传或更换素材")]):(i.hasOwnProperty("videoUrl")&&""!=i["videoUrl"].trim()||(r=[!1,"".concat(t.processVIO[0].name,"异常，请重新上传或更换素材")]),a.hasOwnProperty("imageUrl")&&""!=a["imageUrl"].trim()||(r=[!1,"".concat(t.processVIO[0].name,"对应的封面图").concat(t.processVIO[0].fmname,"异常，请重新上传或更换素材")])),o.push(s)}),r[0]){var c={actionCallOn:n.code,actionCallOnName:n.name,classify:this.form.classify.trim(),countryId:a.join(","),countryName:i.join(","),creativityName:this.form.name,creativityText:this.form.desc,creativityType:"2",deeplink:this.form.deeplink,card:ce()(o),pageId:s.pageId,pageLogo:s.picture,pageName:s.name,projectId:this.$route.params.id,sex:"0"==this.form.sex?"1,2":this.form.sex,token:this.xtoken};return this.$store.dispatch("toAddCreate",{option:c,id:this.$route.params.id}),!0}Object(H["a"])(r[1])}else Object(H["g"])(e[1])},toReset:function(){this.tablist.forEach(function(t){if("1"==t.type){var e=t.processIMG[0]?t.processIMG[0].file:null;!e||e.isSuccess||e.isCancel||e.cancel()}else{e=t.processVIO[0]?t.processVIO[0].fmfile||t.processVIO[0].file:null;!e||e.isSuccess||e.isCancel||e.cancel()}}),this.form.name="",this.form.sex="0",this.form.type="0",this.form.deeplink="",this.form.homepage="",this.form.classify="",this.form.selectArr=[],this.form.desc="",this.form.title="",this.form.actions="",this.tablist=[{tab:"1",name:"t1",title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]},{tab:"2",name:"t2",title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]},{tab:"3",name:"t3",title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]}],this.tabvalue="t1",this.tabindex=3},toCancel:function(){this.toReset(),this.$emit("cancelAddbm","status9")}}},Fo=Uo,Bo=(a("f829"),Object(C["a"])(Fo,Ro,No,!1,null,"5c95708a",null)),Ko=Bo.exports,Vo={components:{CreateList:xo,AddCountry:Lo,CreateAdd:Co,CreateAddwith:_o,EditName:io,EditCountry:Xn,CreateSync:Gn,CreateCarousel:Ko},data:function(){var t;return t={status1:!1,status2:!1,status3:!1,status4:!1,status5:!1,status6:!1,status7:!1,status8:!1,status9:!1,value1:"",value2:"",value3:"",value4:"",value5:"",state4:"",pageindex:1,pagesize:21,oldid:"",ifsyncall:!1,oldname:"",oldcountry:[]},Object(Un["a"])(t,"ifsyncall",!1),Object(Un["a"])(t,"statuslist",[{value:"-1",label:"不限"},{value:"0",label:"关闭"},{value:"1",label:"开启"}]),Object(Un["a"])(t,"sexlist",[{value:"-1",label:"不限"},{value:"1,2",label:"全部"},{value:"1",label:"男"},{value:"2",label:"女"}]),Object(Un["a"])(t,"ctrllist",[{value:"1",label:"批量新增"},{value:"2",label:"批量开启"},{value:"3",label:"批量关闭"},{value:"4",label:"批量添加国家"}]),t},created:function(){var t={creativityName:"",classify:"",countryId:"",sex:"",status:"",pageIndex:1,pageSize:21};for(var e in t){var a="cr_"+e,i=t[e];this.SETSTATE({k:a,v:i})}},mounted:function(){var t=this;this.$store.dispatch("getClassify",this.$route.params.id),this.$store.dispatch("getCountries",this.$route.params.id),this.$store.dispatch("otherCountries");var e="cr_projectId",a=this.$route.params.id;this.SETSTATE({k:e,v:a}),this.SETSTATE({k:"createlist",v:[]}),this.$store.dispatch("getCreateList",{loading:"createList"}),this.$store.dispatch("getAllpages"),this.$store.dispatch("getAllactions");var i=this.itemlist.find(function(e){return e.id==t.$route.params.id});i&&this.$store.dispatch("getRuleAccount",i.applicationId)},watch:{itemlist:function(t,e){var a=this;if(0!=t.length){var i=t.find(function(t){return t.id==a.$route.params.id}).applicationId;this.$store.dispatch("getRuleAccount",i)}}},computed:Object(M["a"])({},Object(P["d"])(["itemlist","classify","countries","crtotal","crpagesize","createchecked"]),Object(P["b"])(["allcheckidstatus","createcheckstatus"]),{projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName}}),methods:Object(M["a"])({},Object(P["c"])(["ALLSELECT","SETSTATE"]),{toSync:function(t){var e=t.join(","),a=this.allcheckidstatus.map(function(t){return t.id}).join(","),i=this.$route.params.id,s=!0;Object(H["b"])("创意同步",'创意同步中... <a class="synctodetail" href="#/project/'.concat(this.$route.params.id,'/sync">查看详情</a>'),s),this.ifsyncall?this.$store.dispatch("syncAll",{accountIds:e,projectId:i}):this.$store.dispatch("syncGroup",{accountIds:e,ids:a,projectId:i})},changeCountry:function(t,e){this.oldid=t,this.oldcountry=e.split(",").slice(0),console.log(e.split(",")),this.status7=!0},changeName:function(t,e){console.log(t,e),this.oldid=t,this.oldname=e,this.status6=!0},toAddCountries:function(t){var e=[];this.allcheckidstatus.forEach(function(t){e.push(t.id)});var a=e.join(","),i=t;this.$store.dispatch("addCountries",{creativityIds:a,countryId:i}),this.status3=!1},cancelAddbm:function(t){this[t]=!1},prevAddcreate:function(t){this[t]=!0},syncAll:function(){this.status8=!0,this.ifsyncall=!0},addCreateType:function(t){switch(t){case"a":this.status4=!0;break;case"b":this.status9=!0;break}},handleCommand:function(t){var e=this.allcheckidstatus;switch(console.log(e),t){case"a":this.status5=!0;break;case"b":if(0==this.createchecked.filter(function(t){return t}).length)return void Object(H["g"])("请先选择需要批量处理的创意");this.$store.dispatch("openCreate",{option:e});break;case"c":if(0==this.createchecked.filter(function(t){return t}).length)return void Object(H["g"])("请先选择需要批量处理的创意");this.$store.dispatch("closeCreate",{option:e});break;case"d":if(0==this.createchecked.filter(function(t){return t}).length)return void Object(H["g"])("请先选择需要批量处理的创意");this.status3=!0;break;case"e":if(0==this.createchecked.filter(function(t){return t}).length)return void Object(H["g"])("请先选择需要批量处理的创意");this.status8=!0,this.ifsyncall=!1;break}},toSelectAll:function(){this.ALLSELECT()},createSearch:function(){var t=this;clearTimeout(n),n=setTimeout(function(){t.toSort()},300)},pageSwitch:function(t){this.pageindex=t,this.toSort()},pageSizeChange:function(t){this.pagesize=t,this.toSort()},toSort:function(){var t={creativityName:this.state4,classify:"不限"==this.value5?"":this.value5,countryId:"不限"==this.value4?"":this.value4,sex:"-1"==this.value3?"":this.value3,status:"-1"==this.value2?"":this.value2,pageIndex:this.pageindex,pageSize:this.pagesize};for(var e in t){var a="cr_"+e,i=t[e];this.SETSTATE({k:a,v:i})}this.$store.dispatch("getCreateList")}})},Wo=Vo,Go=(a("fc58"),a("f8fd"),Object(C["a"])(Wo,Nn,$n,!1,null,"2fc876b9",null)),zo=Go.exports,Ho=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sync"},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("同步记录")])],1),a("div",{staticClass:"ctrl"},[a("el-select",{staticClass:"selectr",attrs:{filterable:"",placeholder:"广告账户"},on:{change:t.filterList},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.ruleapp,function(t){return a("el-option",{key:t.fbId,attrs:{label:t.name+(-1!=t.fbId?"("+t.fbAccountId+")":""),value:t.fbId}})}),1),a("el-select",{staticClass:"selectr",attrs:{placeholder:"状态"},on:{change:t.filterList},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),a("el-button",{staticClass:"add",on:{click:t.syncAll}},[t._v("同步")]),a("el-input",{staticClass:"search",attrs:{placeholder:"搜索创意编号","suffix-icon":"el-icon-search"},on:{input:t.createSearch},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1),a("div",{staticClass:"list",attrs:{id:"syncList"}},[a("sync-list",{on:{multiSelect:t.multiSelect}})],1),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper",total:t.synctotal,"page-size":20},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)],1)},qo=[],Jo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.synclist,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",selectable:t.ifChecked}}),a("el-table-column",{attrs:{prop:"creativityId",label:"创意编号",width:"100"}}),a("el-table-column",{attrs:{prop:"address",label:"缩略图",width:"100","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(t){return[a("span",{staticClass:"headpic"},[a("img",{attrs:{src:t.row.img,alt:""}})])]}}])}),a("el-table-column",{attrs:{prop:"fbAccountId",label:"账户ID",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.fbAccountId.split("_")[1]))]}}])}),a("el-table-column",{attrs:{prop:"adAccountName",label:"账户名称"}}),a("el-table-column",{attrs:{prop:"platFrom",label:"平台",width:"100"}}),a("el-table-column",{attrs:{prop:"statusName",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return["同步失败"==e.row.statusName?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.message,placement:"top-start"}},[a("i",{staticClass:"el-icon-warning"})]):t._e(),"同步成功"==e.row.statusName?a("span",{staticClass:"success"},["同步成功"==e.row.statusName?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Facebook创意编号："+e.row.fbCreativeId,placement:"top-start"}},[a("svg-icon",{attrs:{svgname:"Facebook",svgclass:"facebookIcon"}})],1):t._e(),t._v("\n        "+t._s(e.row.statusName)+"\n      ")],1):"同步失败"==e.row.statusName?a("span",{staticClass:"fail"},[t._v(t._s(e.row.statusName))]):a("span",{staticClass:"other"},[t._v(t._s(e.row.statusName))])]}}])}),a("el-table-column",{attrs:{prop:"synTime",label:"同步时间",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"time"},[t._v(t._s(t._f("timeFormat")(e.row.synTime,"yyyy-MM-dd")))]),a("span",{staticClass:"time"},[t._v(t._s(t._f("timeFormat")(e.row.synTime,"HH:mm:ss")))])]}}])})],1)},Yo=[],Xo={data:function(){return{}},computed:Object(M["a"])({},Object(P["d"])(["synclist"])),methods:{ifChecked:function(t,e){return"同步成功"!=t.statusName},handleSelectionChange:function(t){t.length>0&&this.$emit("multiSelect",t)}}},Zo=Xo,Qo=(a("c09e"),Object(C["a"])(Zo,Jo,Yo,!1,null,"628ae0f3",null)),tr=Qo.exports,er={data:function(){return{value:"",value2:"",state:"",pageindex:1,pagesize:20,idlist:[],options:[{value:"-1",label:"不限"},{value:"1",label:"同步成功"},{value:"0",label:"同步失败"},{value:"2",label:"同步中"}]}},components:{SyncList:tr},created:function(){var t={status:"",fbAccountId:"",pageSize:20,pageIndex:1,projectId:""};for(var e in t){var a="sync_"+e,i=t[e];this.SETSTATE({k:a,v:i})}},mounted:function(){var t=this,e="sync_projectId",a=this.$route.params.id;this.SETSTATE({k:e,v:a}),this.SETSTATE({k:"synclist",v:[]}),this.$store.dispatch("syncList",{loading:"syncList"});var i=this.itemlist.find(function(e){return e.id==t.$route.params.id});i&&this.$store.dispatch("getRuleAccount",i.applicationId)},watch:{itemlist:function(t,e){var a=this;if(0!=t.length){var i=t.find(function(t){return t.id==a.$route.params.id}).applicationId;this.$store.dispatch("getRuleAccount",i)}}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{createSearch:function(){var t=this;clearTimeout(o),o=setTimeout(function(){t.toSort()},300)},pageSizeChange:function(t){this.pagesize=t,this.toSort()},pageSwitch:function(t){this.pageindex=t,this.toSort()},multiSelect:function(t){var e=[];t.forEach(function(t){e.push(t.id)}),this.idlist=e.join(",")},syncAll:function(){if(""!=this.idlist){var t=this.idlist;this.idlist="",this.$store.dispatch("synclistall",{ids:t})}else Object(H["g"])("请先选择需要同步的记录")},filterList:function(){this.pageindex=1,this.toSort()},toSort:function(){var t={keyWords:encodeURIComponent(this.state),status:"-1"==this.value2?"":this.value2,fbAccountId:"-1"==this.value?"":this.value,pageSize:this.pagesize,pageIndex:this.pageindex,projectId:this.$route.params.id};for(var e in t){var a="sync_"+e,i=t[e];this.SETSTATE({k:a,v:i})}this.$store.dispatch("syncList")}}),computed:Object(M["a"])({},Object(P["d"])(["itemlist","ruleapp","synctotal"]),{projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName}})},ar=er,ir=(a("80f4"),Object(C["a"])(ar,Ho,qo,!1,null,"07364a48",null)),sr=ir.exports,nr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gener"},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("创建推广计划")])],1),a("gener-form",{attrs:{targetid:t.targetid},on:{changeEdit:t.changeEdit}})],1)},or=[],rr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"formlist"},[a("div",{staticClass:"bidguide"},[a("gener-guide",{attrs:{bid:t.form.bid,maxbid:t.form.maxbid,moneytype:t.form.moneytype,money:t.form.money}})],1),t._m(0),a("el-form",{staticClass:"elform",attrs:{"label-position":"left","label-width":"110px",model:t.form}},[a("el-form-item",{attrs:{label:"推广计划名称"}},[a("el-input",{attrs:{placeholder:"请输入推广计划名称，用以展示在计划管理中"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{staticClass:"cline ctype",attrs:{label:"推广计划类型"}},[a("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-radio",{attrs:{label:"manual"}},[t._v("通用推广计划")]),a("el-radio",{attrs:{label:"auto"}},[t._v("智能推广计划")])],1),a("span",{staticClass:"typetip1"},[t._v("需要手动创建广告和选择创意")]),a("span",{staticClass:"typetip2"},[t._v("每天11点自动选择创意并创建广告")])],1),a("el-form-item",{staticClass:"cline",attrs:{label:"广告账户"}},[a("el-select",{staticClass:"select accountselect",attrs:{multiple:"",filterable:"",placeholder:"请选择广告账户"},on:{change:t.accountToAudience},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}},t._l(t.generaccount,function(t){return a("el-option",{key:t.code,attrs:{label:t.name+"("+t.fbId.split("_")[1]+")",value:t.fbId}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"国家"}},[a("el-select",{staticClass:"select",attrs:{filterable:"",placeholder:"请选择国家，可搜索"},on:{change:t.selectCountry},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}},t._l(t.othercountries,function(t){return a("el-option",{key:t.code,attrs:{label:t.name+"("+t.code+")",value:t.code}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"应用"}},[a("el-select",{staticClass:"select",attrs:{disabled:"",placeholder:"请选择应用"},model:{value:t.actions,callback:function(e){t.actions=e},expression:"actions"}},t._l(t.applist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.applicationId}})}),1)],1),a("el-form-item",{staticClass:"cline timerange",attrs:{label:"平台"}},[a("el-radio-group",{on:{change:t.toGetsystem},model:{value:t.form.platform,callback:function(e){t.$set(t.form,"platform",e)},expression:"form.platform"}},t._l(t.createplatform,function(t){return a("el-radio",{key:t.marketType,attrs:{label:t.marketType}})}),1)],1)],1),t._m(1),a("el-form",{staticClass:"elform",attrs:{"label-position":"left","label-width":"110px",model:t.form}},[a("el-form-item",{staticClass:"cline",attrs:{label:"受众"}},[a("div",{staticClass:"targettip"},[t._v("定位至少符合以下一项条件的用户")]),a("el-select",{staticClass:"select accountselect",attrs:{"no-data-text":"暂无受众，请修改账户或新增受众",multiple:"",filterable:"",placeholder:"请选择受众，可搜索"},on:{change:t.targetToAccount},model:{value:t.form.target,callback:function(e){t.$set(t.form,"target",e)},expression:"form.target"}},t._l(t.genertarget,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label.split("_")[1]}},t._l(e.options,function(i){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:-1==t.form.notarget.indexOf(i.audienceId+"|"+e.label),expression:"form.notarget.indexOf(`${item.audienceId}|${group.label}`) == -1"}],key:i.code,attrs:{label:i.name+"（"+i.audienceId+"）",value:i.audienceId+"|"+e.label}})}),1)}),1),a("el-checkbox-group",{model:{value:t.form.iftarget,callback:function(e){t.$set(t.form,"iftarget",e)},expression:"form.iftarget"}},[a("el-checkbox",{attrs:{label:"1",name:"type"}},[t._v("不排除任何受众")])],1),1!=t.form.iftarget[0]?a("div",{staticClass:"targettip"},[t._v("排除至少符合以下一项条件的用户")]):t._e(),1!=t.form.iftarget[0]?a("el-select",{staticClass:"select accountselect",attrs:{"no-data-text":"暂无受众，请修改账户或新增受众",multiple:"",filterable:"",placeholder:"请选择受众，可搜索"},on:{change:t.targetToAccount},model:{value:t.form.notarget,callback:function(e){t.$set(t.form,"notarget",e)},expression:"form.notarget"}},t._l(t.genertarget,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label.split("_")[1]}},t._l(e.options,function(i){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:-1==t.form.target.indexOf(i.audienceId+"|"+e.label),expression:"form.target.indexOf(`${item.audienceId}|${group.label}`) == -1"}],key:i.code,attrs:{label:i.name+"（"+i.audienceId+"）",value:i.audienceId+"|"+e.label}})}),1)}),1):t._e()],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:""!=t.form.platform,expression:"form.platform != ''"}],staticClass:"cline",attrs:{label:"系统版本"}},[a("el-select",{staticClass:"selectHalf",attrs:{placeholder:"最低版本"},model:{value:t.form.minversion,callback:function(e){t.$set(t.form,"minversion",e)},expression:"form.minversion"}},t._l(t.system,function(t,e){return a("el-option",{key:e,attrs:{label:t.os+" "+t.version,value:t.version}})}),1),t._v("\n      --\n      "),a("el-select",{staticClass:"selectHalf",attrs:{placeholder:"最高版本"},model:{value:t.form.maxversion,callback:function(e){t.$set(t.form,"maxversion",e)},expression:"form.maxversion"}},t._l(t.system,function(t,e){return a("el-option",{key:e,attrs:{label:t.os+" "+t.version,value:t.version}})}),1),a("p",{staticStyle:{"font-size":"12px",color:"#999"}},[t._v("最高版本为空则无上限")])],1),a("el-form-item",{staticClass:"cline ctype",attrs:{label:"预算"}},[a("el-radio-group",{on:{change:t.moneytypeChange},model:{value:t.form.moneytype,callback:function(e){t.$set(t.form,"moneytype",e)},expression:"form.moneytype"}},[a("el-radio",{attrs:{label:"day_budget"}},[t._v("单日预算")]),a("el-radio",{attrs:{label:"total_budget"}},[t._v("总预算")])],1),a("div",{staticClass:"moneyinput"},[a("span",{staticClass:"moneyus"},[t._v("$")]),a("el-input",{staticClass:"minput",attrs:{placeholder:"请输入预算金额（单位：美元）"},model:{value:t.form.money,callback:function(e){t.$set(t.form,"money",e)},expression:"form.money"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"total_budget"==t.form.moneytype,expression:"form.moneytype == 'total_budget'"}],attrs:{label:"投放日期"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"total_budget"==t.form.moneytype,expression:"form.moneytype == 'total_budget'"}],staticClass:"cline timerange",attrs:{label:"投放时段"}},[a("el-radio-group",{model:{value:t.form.timerange,callback:function(e){t.$set(t.form,"timerange",e)},expression:"form.timerange"}},[a("el-radio",{attrs:{label:"allday"}},[t._v("全天投放广告")]),a("el-radio",{attrs:{label:"schedule"}},[t._v("分时间段投放")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"schedule"==t.form.timerange,expression:"form.timerange == 'schedule'"}],staticClass:"moneyinput"},[a("el-select",{staticClass:"selectsmall",attrs:{multiple:"",placeholder:"按广告受众所在时区"},model:{value:t.form.rdate,callback:function(e){t.$set(t.form,"rdate",e)},expression:"form.rdate"}},t._l(t.week,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.key}})}),1),a("el-time-picker",{staticClass:"timeselect",attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.form.rtime,callback:function(e){t.$set(t.form,"rtime",e)},expression:"form.rtime"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:""!=t.form.platform,expression:"form.platform != ''"}],attrs:{label:"设备"}},[a("el-checkbox-group",{model:{value:t.form.equip,callback:function(e){t.$set(t.form,"equip",e)},expression:"form.equip"}},["google_play"==t.form.platform?a("el-checkbox",{attrs:{label:"Android_Smartphone",name:"type"}},[t._v("安卓智能手机")]):t._e(),"itunes"==t.form.platform?a("el-checkbox",{attrs:{label:"iPhone",name:"type"}},[t._v("iPhone")]):t._e(),"itunes"==t.form.platform?a("el-checkbox",{attrs:{label:"iPad",name:"type"}},[t._v("iPad")]):t._e()],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"性别"}},[a("el-radio-group",{on:{change:t.getFilterCount},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"0"}},[t._v("全部")]),a("el-radio",{attrs:{label:"1"}},[t._v("男")]),a("el-radio",{attrs:{label:"2"}},[t._v("女")])],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"年龄"}},[a("el-slider",{attrs:{range:"",min:13,max:65,"format-tooltip":t.formatTooltip},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"语言"}},[a("el-select",{staticClass:"select",attrs:{multiple:"",filterable:"",placeholder:"请选择语言，可搜索"},model:{value:t.form.language,callback:function(e){t.$set(t.form,"language",e)},expression:"form.language"}},t._l(t.language,function(t){return a("el-option",{key:t.localeId,attrs:{label:t.name,value:t.localeId}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"兴趣"}},[a("el-select",{staticClass:"select",attrs:{multiple:"",filterable:"",placeholder:"请选择兴趣，可搜索"},model:{value:t.form.interest,callback:function(e){t.$set(t.form,"interest",e)},expression:"form.interest"}},t._l(t.interests,function(t){return a("el-option",{key:t.featureId,attrs:{label:t.name,value:t.featureId}})}),1)],1),a("el-form-item",{attrs:{label:"自动版位"}},[a("el-checkbox-group",{model:{value:t.form.auto,callback:function(e){t.$set(t.form,"auto",e)},expression:"form.auto"}},[a("el-checkbox",{attrs:{label:"1",name:"type"}},[t._v("是（Facebook自动选择最好的版位）")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1!=t.form.auto[0],expression:"form.auto[0] != 1"}],staticClass:"verpla",attrs:{label:"版位"}},[a("el-checkbox-group",{model:{value:t.form.verpla,callback:function(e){t.$set(t.form,"verpla",e)},expression:"form.verpla"}},[a("el-checkbox",{attrs:{label:"facebook",name:"type",disabled:-1!=t.form.verpla.indexOf("audience_network")||-1!=t.form.verpla.indexOf("messenger")}},[t._v("Facebook")]),a("el-checkbox",{attrs:{label:"instagram",name:"type"}},[t._v("Instagram")]),a("el-checkbox",{attrs:{label:"audience_network",name:"type",disabled:-1==t.form.verpla.indexOf("facebook")}},[t._v("Audience Network")]),a("el-checkbox",{attrs:{label:"messenger",name:"type",disabled:-1==t.form.verpla.indexOf("facebook")}},[t._v("Messenger")])],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"出价"}},[a("el-radio-group",{on:{change:t.maxbidDefault},model:{value:t.form.bid,callback:function(e){t.$set(t.form,"bid",e)},expression:"form.bid"}},[a("el-radio",{attrs:{label:"cpi"}},[t._v("CPI")]),a("el-radio",{attrs:{label:"cpm"}},[t._v("CPM")])],1)],1),a("el-form-item",{attrs:{label:"竞价上限"}},[a("div",{staticClass:"moneyinput"},[a("span",{staticClass:"moneyus"},[t._v("$")]),a("el-input",{staticClass:"minput",attrs:{placeholder:t.maxbidplace},model:{value:t.form.maxbid,callback:function(e){t.$set(t.form,"maxbid",e)},expression:"form.maxbid"}})],1)]),a("el-form-item",{staticClass:"cline",attrs:{label:"用户过滤"}},[a("el-checkbox-group",{model:{value:t.form.filtra,callback:function(e){t.$set(t.form,"filtra",e)},expression:"form.filtra"}},[a("el-checkbox",{attrs:{label:"1",name:"filtra"}},[t._v("过滤已安装用户")]),a("el-checkbox",{attrs:{label:"2",name:"filtra"}},[t._v("过滤已关注用户")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:-1!=t.form.filtra.indexOf("2"),expression:"form.filtra.indexOf('2') != -1"}],staticClass:"moneyinput"},[a("el-select",{staticClass:"select",attrs:{multiple:"",placeholder:"请选择要过滤的主页，必选"},model:{value:t.form.filtrapage,callback:function(e){t.$set(t.form,"filtrapage",e)},expression:"form.filtrapage"}},t._l(t.allpagelist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.pageId}})}),1)],1)],1)],1),t._m(2),a("el-form",{staticClass:"elform",attrs:{"label-position":"left","label-width":"110px",model:t.form}},[a("el-form-item",{staticClass:"cline ctype",attrs:{label:"广告组数"}},[a("el-input-number",{attrs:{min:1,label:"广告组数"},model:{value:t.form.adcount,callback:function(e){t.$set(t.form,"adcount",e)},expression:"form.adcount"}}),a("div",{staticClass:"countfont"},[t._v("每个广告系列包含的广告组数量，太多也会有内部竞争影响整体效率")])],1),a("el-form-item",{staticClass:"cline ctype",attrs:{label:"广告组创意数"}},[a("el-input-number",{attrs:{min:1,max:50,label:"广告组创意数"},on:{change:t.countChange},model:{value:t.form.count,callback:function(e){t.$set(t.form,"count",e)},expression:"form.count"}}),a("div",{staticClass:"countfont"},[t._v("每个广告组包含的创意数量。1-3个为佳，3个以上会有内部竞争影响整体效率")])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"auto"==t.form.type,expression:"form.type == 'auto'"}],staticClass:"cline",attrs:{label:"创意类型"}},[a("el-checkbox-group",{on:{change:t.getFilterCount},model:{value:t.form.createtype,callback:function(e){t.$set(t.form,"createtype",e)},expression:"form.createtype"}},[a("el-checkbox",{attrs:{label:"0",name:"type"}},[t._v("单图片")]),a("el-checkbox",{attrs:{label:"1",name:"type"}},[t._v("单视频")]),a("el-checkbox",{attrs:{label:"2",name:"type"}},[t._v("轮播")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"auto"==t.form.type,expression:"form.type == 'auto'"}],staticClass:"cline",attrs:{label:"选择分类"}},[a("el-select",{staticClass:"select",attrs:{multiple:"",placeholder:"选填，为空则不限制分类"},on:{change:t.getFilterCount},model:{value:t.form.classify,callback:function(e){t.$set(t.form,"classify",e)},expression:"form.classify"}},t._l(t.classifyforplan,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"auto"==t.form.type,expression:"form.type == 'auto'"}],staticClass:"cline ctype",attrs:{label:"创意数量"}},[a("el-input-number",{attrs:{min:1,label:"创意数量"},on:{change:t.createcountChange},model:{value:t.form.createcount,callback:function(e){t.$set(t.form,"createcount",e)},expression:"form.createcount"}}),a("div",{staticClass:"countfont"},[t._v("符合条件的创意总数为："+t._s(t.classifyfiltercount))])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"auto"==t.form.type,expression:"form.type == 'auto'"}],staticClass:"cline cline-strategy",attrs:{label:"选择策略"}},[a("el-radio-group",{staticClass:"strategy",model:{value:t.form.tactics,callback:function(e){t.$set(t.form,"tactics",e)},expression:"form.tactics"}},[a("el-radio",{attrs:{label:1}},[t._v("新创意优先")]),a("el-radio",{attrs:{label:2}},[t._v("完全随机")]),a("el-radio",{attrs:{label:3}},[t._v("高点击率优先")]),a("el-radio",{attrs:{label:4}},[t._v("视频/图片不同优先")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"不同策略会选到不同的创意，请根据需求选择合适的策略",placement:"bottom-start"}},[a("i",{staticClass:"el-icon-question"})])],1)],1),a("div",{staticClass:"elsubmit"},[a("el-button",{attrs:{type:"primary"},on:{click:t.toSubmit}},[t._v("提 交")])],1)],1)},cr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eltitle"},[a("b",[t._v("基础信息")]),a("span",[t._v("推广计划保存后可编辑，也可多次生成广告")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eltitle"},[a("b",[t._v("广告组")]),a("span",[t._v("同1个广告系列下的所有广告组的条件一致")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eltitle"},[a("b",[t._v("结构和创意")]),a("span",[t._v("根据广告组数量、广告组创意数和创意数生成相对应的广告系列数量")])])}],lr=a("59ad"),ur=a.n(lr),dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"guide"},[a("p",{staticClass:"title"},[t._v("出价指南")]),a("div",{staticClass:"nowprice"},[a("div",{staticClass:"price cpm"},[a("p",{staticClass:"unit"},[t._v("目前出价"+t._s(t.bid))]),a("p",{staticClass:"val"},[t._v(t._s(t.maxbid?"$"+t.maxbid:"--"))])]),a("div",{staticClass:"price"},[a("p",{staticClass:"unit"},[t._v("目前"+t._s("day_budget"==t.moneytype?"单日预算":"总预算"))]),a("p",{staticClass:"val"},[t._v(t._s(t.money?"$"+t.money:"--"))])])]),a("p",{staticClass:"title"},[t._v("不同价位最近一周效果\n    "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"根据所有广告账户下的广告组数据计算得出",placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})])],1),a("div",{staticClass:"effect"},[a("div",{class:{price:!0,on:0==t.effecttab},on:{click:function(e){t.effectSelect(0)}}},[a("p",{staticClass:"unit"},[t._v("CPI")]),a("p",{staticClass:"val"},[t._v(t._s(t.cpi_data))])]),a("div",{class:{price:!0,cpm:!0,on:1==t.effecttab},on:{click:function(e){t.effectSelect(1)}}},[a("p",{staticClass:"unit"},[t._v("花费")]),a("p",{staticClass:"val"},[t._v(t._s(t.spend_data))])]),a("div",{class:{price:!0,cpm:!0,on:2==t.effecttab},on:{click:function(e){t.effectSelect(2)}}},[a("p",{staticClass:"unit"},[t._v("安装量")]),a("p",{staticClass:"val"},[t._v(t._s(t.installs_data))])])]),a("div",{staticClass:"charts"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.effecttab,expression:"effecttab == 0"}],staticClass:"canvas",attrs:{id:"Canvas1"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.effecttab,expression:"effecttab == 1"}],staticClass:"canvas",attrs:{id:"Canvas2"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.effecttab,expression:"effecttab == 2"}],staticClass:"canvas",attrs:{id:"Canvas3"}})])])},mr=[],pr={props:["bid","maxbid","moneytype","money"],data:function(){return{effecttab:0,weebeffect:[{name:"CPI",price:"12.00"},{name:"花费",price:"1200"},{name:"安装量",price:"1200"}]}},mounted:function(){this.SETSTATE({k:"bidguide",v:[]}),myChart8=Rt.init(document.getElementById("Canvas1")),myChart9=Rt.init(document.getElementById("Canvas2")),myChart10=Rt.init(document.getElementById("Canvas3"))},computed:Object(M["a"])({},Object(P["d"])(["bidguide"]),{cpi_data:function(){var t=this,e=this.bidguide.find(function(e){return t.maxbid>=e.bidAmountStart&&t.maxbid<=e.bidAmountEnd});return e?-1!=e.cpi.toString().indexOf(".")?"$"+ur()(e.cpi).toFixed(2):"$"+e.cpi:"--"},spend_data:function(){var t=this,e=this.bidguide.find(function(e){return t.maxbid>=e.bidAmountStart&&t.maxbid<=e.bidAmountEnd});return e?-1!=e.spend.toString().indexOf(".")?"$"+ur()(e.spend).toFixed(2):"$"+e.spend:"--"},installs_data:function(){var t=this,e=this.bidguide.find(function(e){return t.maxbid>=e.bidAmountStart&&t.maxbid<=e.bidAmountEnd});return e?-1!=e.installs.toString().indexOf(".")?ur()(e.installs).toFixed(2):e.installs:"--"}}),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{effectSelect:function(t){this.effecttab=t}})},fr=pr,hr=(a("7888"),Object(C["a"])(fr,dr,mr,!1,null,"6d81495c",null)),_r=hr.exports,vr={props:["targetid"],components:{GenerGuide:_r},data:function(){return{state:"",state2:"",state3:"",week:[{name:"周一",key:"1"},{name:"周二",key:"2"},{name:"周三",key:"3"},{name:"周四",key:"4"},{name:"周五",key:"5"},{name:"周六",key:"6"},{name:"周七",key:"7"}],maxbidplace:"请输入竞价上限（单位：美元）",form:{name:"",type:1==this.$route.params.fid?"manual":"auto",country:"",platform:"",target:this.targetid?[this.targetid]:[],iftarget:["1"],notarget:[],minversion:"",maxversion:"",moneytype:"day_budget",money:"",date:[],timerange:"allday",rdate:[],rtime:[new Date(2016,9,10,0,0,0),new Date(2016,9,10,23,0,0)],equip:[],sex:"0",age:[13,65],language:[],interest:[],auto:["1"],verpla:["facebook","instagram"],bid:"cpi",maxbid:"0.02",filtra:["1","2"],filtrapage:[],account:[],adcount:1,count:1,createtype:[],classify:[],createcount:"100",tactics:1},msg:{name:"请输入推广计划名称",country:"请选择国家",platform:"请选择平台",version:"请选择系统版本",money:"请输入预算金额",date:"请选择投放日期",rdate:"请选择星期",equip:"请选择设备",language:"请选择语言",verpla:"请选择版位",maxbid:"请输入竞价上限",maxbidmax:"竞价上限必须大于0.02美元",filtra:"请选择用户过滤",filtrapage:"请选择需要过滤的主页",createtype:"请选择创意类型"}}},mounted:function(){if(this.actions){var t=this.actions;this.$store.dispatch("getCreatePlatform",{applicationid:t})}},computed:Object(M["a"])({},Object(P["d"])(["itemlist","othercountries","language","interests","applist","createplatform","system","allpagelist","genertarget","generaccount","classifyforplan","classifyfiltercount"]),{equip:function(){return this.form.platform},actions:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).applicationId}}),watch:{actions:function(t,e){if(t){var a=t;this.$store.dispatch("getCreatePlatform",{applicationid:a})}},equip:function(t,e){this.form.equip="google_play"==t?["Android_Smartphone"]:["iPhone","iPad"]},"form.name":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.type":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.country":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.platform":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.target":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.notarget":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.minversion":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.maxversion":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.moneytype":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.money":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.sex":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.language":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.interest":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.bid":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.maxbid":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.filtrapage":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.account":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.count":{handler:function(t,e){this.$emit("changeEdit",!1)}}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{getFilterCount:function(){if(0!=this.form.createtype.length&&this.form.country){var t=this.form.country,e=this.form.sex,a=this.$route.params.id,i=this.form.createtype.join(","),s=this.form.classify.join(",");this.$store.dispatch("classifyFilterCountNoPlan",{country:t,gender:e,projectId:a,creativetype:i,classify:s})}else this.SETSTATE({k:"classifyfiltercount",v:0})},selectCountry:function(){this.getFilterCount(),this.showBidChart()},showBidChart:function(){if(this.form.country){var t=this.form.country,e="cpi"==this.form.bid?"APP_INSTALLS":"IMPRESSIONS";this.$store.dispatch("bidGuide",{country:t,fbApplicationId:this.actions,billingEvent:e})}},accountToAudience:function(){if(this.form.target=[],this.form.notarget=[],0!=this.form.account.length){var t=this.form.account.join(",");this.$store.dispatch("generTargetList",{fb_account_ids:t})}else this.SETSTATE({k:"genertarget",v:[]})},targetToAccount:function(){},moneytypeChange:function(){this.form.money=""},formatTooltip:function(t){if(65==t)return"65+"},maxbidDefault:function(){"cpi"==this.form.bid?(this.form.maxbid="0.02",this.maxbidplace="请输入竞价上限（单位：美元）"):(this.form.maxbid="",this.maxbidplace="选填"),this.showBidChart()},toSubmit:function(){console.log(this.form);var t=this,e=this.dataChecked();if(e[0]){var a=[],i=this.$createElement,s=Ns()((this.form.date[1]-this.form.date[0])/864e5);"day_budget"==this.form.moneytype&&ur()(this.form.money)>=5e3&&a.push(i("p",null,[i("span",{style:"color:#999"},"每日预算："),i("span",{style:"color:red"},"$".concat(this.form.money))])),"total_budget"==this.form.moneytype&&ur()(this.form.money)/s>=5e3&&a.push(i("p",null,[i("span",{style:"color:#999"},"总预算："),i("span",{style:"color:red"},"$".concat(this.form.money))])),"cpi"==this.form.bid&&this.form.maxbid>=50&&a.push(i("p",null,[i("span",{style:"color:#999"},"CPI出价："),i("span",{style:"color:red"},"$".concat(this.form.maxbid))])),"cpm"==this.form.bid&&this.form.maxbid>=50&&a.push(i("p",null,[i("span",{style:"color:#999"},"CPM出价："),i("span",{style:"color:red"},"$".concat(this.form.maxbid))])),a.length>0?this.$msgbox({title:"创建推广计划",message:i("div",null,[i("span",null,"确认创建此推广计划吗？")].concat(a)),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.toDispatch()}).catch(function(){}):t.toDispatch()}else Object(H["g"])(e[1])},toDispatch:function(){var t={},e={};this.form.target.forEach(function(e){var a=e.split("|"),i=a[1];t[i]||(t[i]=[]),t[i].push(a[0])}),this.form.notarget.forEach(function(t){var a=t.split("|"),i=a[1];e[i]||(e[i]=[]),e[i].push(a[0])});var a={planInfoVO:{adNum:this.form.count,applicationId:this.actions,bidAmount:""===this.form.maxbid?null:Ns()(100*this.form.maxbid),billingType:this.form.bid,budgetType:this.form.moneytype,country:this.form.country,createType:this.form.type,creativeNum:this.form.createcount,creativeType:this.form.createtype,dayBudget:Ns()(100*this.form.money),days:this.form.rdate,device:"itunes"==this.form.platform?this.form.equip.filter(function(t){return"iPhone"==t||"iPad"==t}):this.form.equip.filter(function(t){return"Android_Smartphone"==t}),endMinute:this.$timeFormat(this.form.rtime[1],"HH")+":00",endTime:new Date(this.form.date[1]).getTime(),filteAttentionUser:this.form.filtrapage,filteInstalledUser:-1!=this.form.filtra.indexOf("1")?"yes":"",gender:[this.form.sex],goalBid:"",interest:this.form.interest,locales:this.form.language,maxAge:this.form.age[1],minAge:this.form.age[0],name:this.form.name,platform:this.form.platform,position:"1"==this.form.auto[0]?[]:this.form.verpla,projectId:this.$route.params.id,scheduleType:this.form.timerange,startMinute:this.$timeFormat(this.form.rtime[0],"HH")+":00",startTime:new Date(this.form.date[0]).getTime(),totalBudget:Ns()(100*this.form.money),fbAccountIds:this.form.account,includeAudiences:ce()(t),excludedAudiences:1==this.form.iftarget[0]?"":ce()(e),version:this.form.minversion,maxVersion:this.form.maxversion?this.form.maxversion:null,adsetNum:this.form.adcount,creativeStrategy:this.form.tactics,creativeClassify:this.form.classify},route:this.$router,projectid:this.$route.params.id};this.$emit("changeEdit",!0),this.$store.dispatch("createGener",{option:a})},dataChecked:function(){if(""==this.form.name)return[!1,this.msg.name];if(""==this.form.country)return[!1,this.msg.country];if(""==this.form.platform)return[!1,this.msg.platform];if(""==this.form.minversion)return[!1,this.msg.version];if(""==this.form.money)return[!1,this.msg.money];if("total_budget"==this.form.moneytype){if(!this.form.date||0==this.form.date.length)return[!1,this.msg.date];if("schedule"==this.form.timerange&&0==this.form.rdate.length)return[!1,this.msg.rdate]}return 0==this.form.equip.filter(function(t){return t}).length?[!1,this.msg.equip]:0==this.form.auto.length&&0==this.form.verpla.length?[!1,this.msg.verpla]:"cpi"==this.form.bid&&""==this.form.maxbid?[!1,this.msg.maxbid]:""!=this.form.maxbid&&(isNaN(Ns()(this.form.maxbid))||this.form.maxbid<.02)?[!1,this.msg.maxbidmax]:-1!=this.form.filtra.indexOf("2")&&0==this.form.filtrapage.length?[!1,this.msg.filtrapage]:"auto"==this.form.type&&0==this.form.createtype.length?[!1,this.msg.createtype]:[!0]},toGetsystem:function(){var t="itunes"==this.form.platform?"ios":"android";this.form.minversion="",this.form.maxversion="",this.$store.dispatch("getSystem",{os:t})},countChange:function(){},adcountChange:function(){},createcountChange:function(){}})},gr=vr,br=(a("e5b3"),Object(C["a"])(gr,rr,cr,!1,null,"cf9cd2fe",null)),yr=br.exports,kr={beforeRouteLeave:function(t,e,a){this.ifcreate?a():this.$confirm("是否确定离开当前页面","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a()}).catch(function(){})},data:function(){return{status:!1,status1:!1,ifcreate:!0,targetid:this.$route.params.tid}},components:{GenerForm:yr},created:function(){this.SETSTATE({k:"classifyfiltercount",v:0})},mounted:function(){this.$store.dispatch("otherCountries"),this.$store.dispatch("getLanguage"),this.$store.dispatch("getInterests"),this.$store.dispatch("getApplist"),this.$store.dispatch("getAllpages");var t=this.$route.params.id,e=this.$route.params.tid?this.$route.params.tid:"";this.$store.dispatch("generAccountList",{audience_ids:e,project_id:t}),this.$store.dispatch("getClassifyForPlan",t)},computed:Object(M["a"])({},Object(P["d"])(["itemlist"]),{projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName}}),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{changeEdit:function(t){this.ifcreate=t},cancelAddbm:function(t){this[t]=!1}})},Er=kr,Cr=(a("4730"),Object(C["a"])(Er,nr,or,!1,null,"d2e29a46",null)),Or=Cr.exports,wr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plan"},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("推广计划管理")])],1),a("div",{staticClass:"ctrlbutton"},[a("el-dropdown",{staticClass:"select",attrs:{"split-button":"",type:"primary"}},[t._v("\n      创建\n      "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{staticClass:"tocreate"},[a("router-link",{attrs:{to:"/project/"+t.$route.params.id+"/gener/2"}},[t._v("智能推广计划")])],1),a("el-dropdown-item",{staticClass:"tocreate"},[a("router-link",{attrs:{to:"/project/"+t.$route.params.id+"/gener/1"}},[t._v("通用推广计划")])],1)],1)],1),a("el-input",{staticClass:"search",attrs:{placeholder:"搜索计划ID/名称","suffix-icon":"el-icon-search"},on:{input:t.createSearch},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}}),a("el-select",{staticClass:"selectr",attrs:{placeholder:"平台"},on:{change:t.toSort},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.platform,function(t){return a("el-option",{key:t.id,attrs:{label:t.marketType,value:t.marketType}})}),1),a("el-select",{staticClass:"selectr",attrs:{placeholder:"国家"},on:{change:t.toSort},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.plancountry,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}),1)],1),a("div",{staticClass:"list",attrs:{id:"PlanList"}},[a("plan-list",{on:{showCreatelogBox:t.showCreatelogBox,showLogdetailbox:t.showLogdetailbox,showChangebox:t.showChangebox,showCreatebox:t.showCreatebox,showAccountbox:t.showAccountbox}})],1),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper",total:t.pltotal,"page-size":t.plpagesize},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1),a("change-price",{attrs:{status:t.status,manageid:t.manageid,goalBid:t.goalBid},on:{cancelAddbm:t.cancelAddbm}}),a("select-create",{attrs:{status:t.status1,id:t.createid},on:{cancelAddbm:t.cancelAddbm,showCreatebox:t.showCreatebox}}),a("auto-select",{attrs:{status:t.status2,id:t.createid},on:{cancelAddbm:t.cancelAddbm}}),a("select-account",{attrs:{status:t.status3,id:t.accoundid},on:{cancelAddbm:t.cancelAddbm}}),a("log-detail",{attrs:{status:t.status4},on:{cancelAddbm:t.cancelAddbm}}),a("log-create",{attrs:{status:t.status5,id:t.createlogid,name:t.createlogname},on:{cancelAddbm:t.cancelAddbm,showLogdetailbox:t.showLogdetailbox}})],1)},Ir=[],Tr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"创建广告",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form,"label-width":"120px"}},[a("p",{staticClass:"loginfo"},[t._v(t._s(t.logcreateaccount)+"个广告账户各包含"+t._s(t.logcreatecampaign)+"个广告系列，每个广告系列包含"+t._s(t.logcreateset)+"个广告组，每个广告组包含"+t._s(t.logcreatecreative)+"个创意；"),a("br"),t._v("创建广告前请同步创意，不会使用停用的广告账户和创意创建广告")]),a("el-form-item",{staticClass:"cline",attrs:{label:"广告系列名称"}},[a("el-input",{staticClass:"accountinput",attrs:{placeholder:"请输入广告系列名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),a("span",[t._v(t._s(t.time))])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toSave}},[t._v("创建广告")])],1)],1)},Ar=[],xr={props:["status","id","name"],components:{},data:function(){return{state:"",activeIndex:"1",dialogFormVisible:!1,title:"",form:{name:""},value:"",value2:""}},watch:{status:function(t,e){this.dialogFormVisible=t;var a=this.id;t&&this.$store.dispatch("getCreateNum",a)},name:function(t,e){this.form.name=t}},computed:Object(M["a"])({},Object(P["d"])(["logcreatecreative","logcreateaccount","logcreateset","logcreatecampaign"]),{time:function(){return"_".concat(this.$timeFormat(new Date,"yyyyMMddHHmmss"))}}),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{toSave:function(){var t=this;if(""!=this.form.name.trim()){var e={campaignName:this.form.name+this.time,planId:this.id,projectId:this.$route.params.id};this.$store.dispatch("createLogad",{option:e}),this.dialogFormVisible=!1,setTimeout(function(e){var a="ifadcreate",i=!0;t.SETSTATE({k:a,v:i})},300)}else Object(H["g"])("请输入广告系列名称")},toCancel:function(){this.$emit("cancelAddbm","status5")}})},Sr=xr,jr=(a("64fe"),Object(C["a"])(Sr,Tr,Ar,!1,null,"5c75ff68",null)),Dr=jr.exports,Mr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:t.logdetailname+"创建详情",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form,"label-width":"80px"}},[a("p",{staticClass:"allinfo"},[t._v("已成功创建\n      "),a("span",[t._v(t._s(t.detailcampaignsuccess))]),t._v("个广告系列，\n      "),a("span",[t._v(t._s(t.detailsetsuccess))]),t._v("个广告组，\n      "),a("span",[t._v(t._s(t.detailadsuccess))]),t._v("个广告\n      "),a("span",{staticClass:"see"},[a("router-link",{attrs:{to:"/project/"+t.$route.params.id+"/ad/"+t.logdetailid}},[t._v("查看")])],1)]),t._l(t.logdetail,function(e,i){return a("div",{key:i,staticClass:"listall"},[a("p",{staticClass:"infotop"},[t._v("账户ID："+t._s(e.fb_account_id.split("_")[1])+" 账户名称："+t._s(e.adaccountName))]),a("div",{class:{stepline:!0,process1:e.statuskey1,process2:e.statuskey2,process3:e.statuskey3}},[a("p",{staticClass:"spline"}),a("div",{staticClass:"step step1"},[a("p",{staticClass:"sicon"},[a("span",[t._v("1")])]),a("p",{staticClass:"stitle"},[t._v("创建广告系列")]),a("p",{staticClass:"sdetail"},[t._v("成功"+t._s(e.campaignDetail.createSuccess)+"个 失败"+t._s(e.campaignDetail.createFailed)+"个\n            "),e.campaignDetail.errorMsg.length>0?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(e.campaignDetail.errorMsg.join("<br/>"))},slot:"content"}),a("i",{staticClass:"el-icon-warning"})]):t._e()],1)]),a("div",{staticClass:"step step2"},[a("p",{staticClass:"sicon"},[a("span",[t._v("2")])]),a("p",{staticClass:"stitle"},[t._v("创建广告组")]),a("p",{staticClass:"sdetail"},[t._v("成功"+t._s(e.adsetDetail.createSuccess)+"个 失败"+t._s(e.adsetDetail.createFailed)+"个\n            "),e.adsetDetail.errorMsg.length>0?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(e.adsetDetail.errorMsg.join("<br/>"))},slot:"content"}),a("i",{staticClass:"el-icon-warning"})]):t._e()],1)]),a("div",{staticClass:"step step3"},[a("p",{staticClass:"sicon"},[a("span",[t._v("3")])]),a("p",{staticClass:"stitle"},[t._v("创建广告")]),a("p",{staticClass:"sdetail"},[t._v("成功"+t._s(e.adDetail.createSuccess)+"个 失败"+t._s(e.adDetail.createFailed)+"个\n            "),e.adDetail.errorMsg.length>0?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(e.adDetail.errorMsg.join("<br/>"))},slot:"content"}),a("i",{staticClass:"el-icon-warning"})]):t._e()],1)])])])})],2)],1)},Pr=[],Lr={props:["status"],data:function(){return{dialogFormVisible:!1,form:{money:""}}},computed:Object(M["a"])({},Object(P["d"])(["logdetail","logdetailname","logdetailid"]),Object(P["b"])(["detailadsuccess","detailsetsuccess","detailcampaignsuccess"])),mounted:function(){},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{toCancel:function(){var t="logdetail",e=[];this.SETSTATE({k:t,v:e}),t="logdetailname",e="",this.SETSTATE({k:t,v:e}),t="logdetailid",e="",this.SETSTATE({k:t,v:e}),t="ifadcreate",e=!1,this.SETSTATE({k:t,v:e})}}),watch:{status:function(t,e){var a=this;this.dialogFormVisible=t,t?rundetail=setInterval(function(){a.$store.dispatch("getLogdetail")},2e3):clearInterval(rundetail)}}},Rr=Lr,Nr=(a("3458"),Object(C["a"])(Rr,Mr,Pr,!1,null,"4274c424",null)),$r=Nr.exports,Ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"选择广告账户",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("div",{staticClass:"set"},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelectNav}},[a("el-menu-item",{attrs:{index:"1"}},[t._v("加入")]),a("el-menu-item",{attrs:{index:"2"}},[t._v("未加入")])],1),a("el-input",{staticClass:"search",attrs:{placeholder:"搜索广告账户ID/名称","suffix-icon":"el-icon-search"},on:{input:t.createSearch},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}}),a("div",{staticClass:"sortline"},[a("p",{staticClass:"total"},[t._v("已选\n        "),a("span",[t._v(t._s(t.selectaccountlength))]),t._v(" 个广告账户，其中\n        "),a("span",[t._v(t._s(t.canselectaccountlength))]),t._v(" 个不可用(不生成广告)，\n        "),a("span",[t._v(t._s(t.badselectaccountlength))]),t._v(" 个异常(不生成广告)")]),1==t.activeIndex?a("el-select",{staticClass:"select",attrs:{placeholder:"启用/停用"},on:{change:t.statusChange},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1):t._e(),1==t.activeIndex?a("el-button",{staticClass:"obutton",attrs:{type:"text"},on:{click:t.cancelAll}},[t._v("删除全部")]):t._e(),2==t.activeIndex?a("el-button",{staticClass:"obutton",attrs:{type:"text"},on:{click:t.selectAll}},[t._v("选择全部")]):t._e()],1)],1),1==t.activeIndex?a("account-on",{attrs:{pid:t.id,id:"accountOn"}}):t._e(),2==t.activeIndex?a("account-off",{attrs:{pid:t.id}}):t._e()],1)},Fr=[],Br=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:"400",data:t.inuseaccount}},[a("el-table-column",{attrs:{prop:"fbAccountId",label:"账户ID",width:"160"}}),a("el-table-column",{attrs:{prop:"name",label:"账户名称"}}),a("el-table-column",{attrs:{prop:"balance",label:"账户余额",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                    $"+t._s(e.row.balance)+"\n                ")])]}}])}),a("el-table-column",{attrs:{prop:"accountStatus",label:"状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                    "+t._s(1==e.row.accountStatus?"正常":"异常")+"\n                ")])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"启用/停用",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                    "+t._s(0==e.row.status?"已停用":"已启用")+"\n                ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.toCancel(e.row.fbId)}}},[t._v("删除")])]}}])})],1)],1)},Kr=[],Vr={props:["pid"],computed:Object(M["a"])({},Object(P["b"])(["inuseaccount"])),methods:Object(M["a"])({},Object(P["c"])(["CANCELCREATE"]),{toCancel:function(t){var e=[],a={fbAccountId:t,planId:this.pid};e.push(a),this.$store.dispatch("delAccount",{option:e})}})},Wr=Vr,Gr=(a("4b38"),Object(C["a"])(Wr,Br,Kr,!1,null,"011eff72",null)),zr=Gr.exports,Hr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:"400",data:t.nouseaccount}},[a("el-table-column",{attrs:{prop:"fbAccountId",label:"账户ID",width:"160"}}),a("el-table-column",{attrs:{prop:"name",label:"账户名称"}}),a("el-table-column",{attrs:{prop:"balance",label:"账户余额",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                    $"+t._s(e.row.balance)+"\n                ")])]}}])}),a("el-table-column",{attrs:{prop:"accountStatus",label:"状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                    "+t._s(1==e.row.accountStatus?"正常":"异常")+"\n                ")])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"启用/停用",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                    "+t._s(0==e.row.status?"已停用":"已启用")+"\n                ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.toSelect(e.row.fbId,e.row.status)}}},[t._v("添加")])]}}])})],1)],1)},qr=[],Jr={props:["pid"],computed:Object(M["a"])({},Object(P["b"])(["nouseaccount"])),methods:Object(M["a"])({},Object(P["c"])(["SELECTCREATE"]),{toSelect:function(t,e){var a=[],i={fbAccountId:t,planId:this.pid,accountStatus:e};a.push(i),this.$store.dispatch("addAccount",{option:a})}})},Yr=Jr,Xr=(a("e405"),Object(C["a"])(Yr,Hr,qr,!1,null,"09fdbbce",null)),Zr=Xr.exports,Qr={props:["status","id"],components:{AccountOn:zr,AccountOff:Zr},data:function(){return{state:"",activeIndex:"1",dialogFormVisible:!1,title:"",options:[{value:"1",label:"已启用"},{value:"0",label:"未启用"}],value:"",value2:""}},watch:{status:function(t,e){this.dialogFormVisible=t;var a=this.id,i="accountOn";if(1==t)this.$store.dispatch("getAccountList",{plan_id:a,loadDom:i});else{this.state="";var s="accountkeyword",n="";this.SETSTATE({k:s,v:n})}},id:function(t,e){if(t);}},computed:Object(M["a"])({},Object(P["d"])(["inuseaccount","nouseaccount"]),Object(P["b"])(["selectaccountlength","canselectaccountlength","badselectaccountlength"])),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{toAutoSelect:function(){this.$emit("showCreatebox","status2",this.id),this.dialogFormVisible=!1},selectAll:function(){var t=this,e=[];this.nouseaccount.forEach(function(a){var i={fbAccountId:a.fbId,planId:t.id,accountStatus:a.status};e.push(i)}),this.$store.dispatch("addAccount",{option:e})},cancelAll:function(){var t=this,e=[];this.inuseaccount.forEach(function(a){var i={fbAccountId:a.fbId,planId:t.id};e.push(i)}),this.$store.dispatch("delAccount",{option:e})},statusChange:function(){var t="accountstatus",e=this.value2;this.SETSTATE({k:t,v:e})},createSearch:function(){var t="accountkeyword",e=this.state;this.SETSTATE({k:t,v:e})},handleSelectNav:function(t){t!=this.activeIndex&&(console.log(t),this.activeIndex=t)},toCancel:function(){this.$emit("cancelAddbm","status3")},selectChange:function(){}})},tc=Qr,ec=(a("98ee"),Object(C["a"])(tc,Ur,Fr,!1,null,"73ca6552",null)),ac=ec.exports,ic=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog autodialog",attrs:{title:"智能选择",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{staticClass:"cline",attrs:{label:"创意类型"}},[a("el-checkbox-group",{on:{change:t.getFilterCount},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-checkbox",{attrs:{label:"0",name:"type"}},[t._v("单图片")]),a("el-checkbox",{attrs:{label:"1",name:"type"}},[t._v("单视频")]),a("el-checkbox",{attrs:{label:"2",name:"type"}},[t._v("轮播")])],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"选择分类"}},[a("el-select",{staticClass:"accountinput",attrs:{multiple:"",placeholder:"选填，为空则不限制分类"},on:{change:t.getFilterCount},model:{value:t.form.classify,callback:function(e){t.$set(t.form,"classify",e)},expression:"form.classify"}},t._l(t.classifyforplan,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"创意数量"}},[a("el-input",{staticClass:"accountinput",attrs:{placeholder:"最多不超过2000"},model:{value:t.form.count,callback:function(e){t.$set(t.form,"count",e)},expression:"form.count"}}),a("p",{staticClass:"tip"},[t._v("符合条件的创意总数为："+t._s(t.classifyfiltercount))])],1),a("el-form-item",{staticClass:"cline",attrs:{label:"选择策略"}},[a("el-radio-group",{model:{value:t.form.tactics,callback:function(e){t.$set(t.form,"tactics",e)},expression:"form.tactics"}},[a("el-radio",{attrs:{label:"1"}},[t._v("新创意优先")]),a("el-radio",{attrs:{label:"2"}},[t._v("完全随机")]),a("el-radio",{attrs:{label:"3"}},[t._v("高点击率优先")]),a("el-radio",{attrs:{label:"4"}},[t._v("视频/图片不同优先")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"不同策略会选到不同的创意，请根据需求选择合适的策略",placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toSave}},[t._v("确 定")])],1)],1)},sc=[],nc={props:["status","id"],components:{},data:function(){return{state:"",activeIndex:"1",dialogFormVisible:!1,title:"",form:{type:[],count:"",tactics:"1",classify:[]},value:"",value2:""}},watch:{status:function(t,e){this.dialogFormVisible=t,t&&(this.SETSTATE({k:"classifyfiltercount",v:0}),this.$store.dispatch("getClassifyForPlan",this.$route.params.id))}},computed:Object(M["a"])({},Object(P["d"])(["classifyforplan","classifyfiltercount"])),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{getFilterCount:function(){if(0!=this.form.type.length){var t=this.id,e=this.form.type.join(","),a=this.form.classify.join(",");this.$store.dispatch("classifyFilterCount",{planid:t,creativetype:e,classify:a})}else this.SETSTATE({k:"classifyfiltercount",v:0})},reset:function(){this.form.type=[],this.form.count="",this.form.tactics="1",this.form.classify=[]},toSave:function(){if(0!=this.form.type.length)if(""!=this.form.count)if(Ns()(this.form.count)>2e3)Object(H["g"])("创意数量最多为2000");else{var t=this.id,e=this.form.type.join(","),a=Ns()(this.form.count),i=this.form.tactics,s=this.form.classify.join(",");this.$store.dispatch("autoSelect",{plan_id:t,creative_type:e,creative_num:a,creative_strategy:i,creative_classify:s}),this.dialogFormVisible=!1}else Object(H["g"])("请输入创意数量");else Object(H["g"])("请选择创意类型")},toCancel:function(){this.SETSTATE({k:"classifyfiltercount",v:0}),this.$emit("cancelAddbm","status2"),this.reset()}})},oc=nc,rc=(a("2f47"),a("1351"),Object(C["a"])(oc,ic,sc,!1,null,"91db01a0",null)),cc=rc.exports,lc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"选择创意",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("div",{staticClass:"set"},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelectNav}},[a("el-menu-item",{attrs:{index:"1"}},[t._v("已选")]),a("el-menu-item",{attrs:{index:"2"}},[t._v("未选")])],1),a("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:t.toAutoSelect}},[t._v("智能选择")]),a("el-input",{staticClass:"search",attrs:{placeholder:"搜索创意ID","suffix-icon":"el-icon-search"},on:{input:t.createSearch},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}}),a("div",{staticClass:"sortline"},[a("p",{staticClass:"total"},[t._v("\n        已选\n        "),a("span",[t._v(t._s(t.inusetotal))]),t._v(" 个创意，其中\n        "),a("span",[t._v(t._s(t.canselectcreatelength))]),t._v(" 个不可用（不生成广告）\n      ")]),1==t.activeIndex?a("el-select",{staticClass:"select",attrs:{placeholder:"启用/停用"},on:{change:t.statusChange},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1):t._e(),a("el-select",{staticClass:"select",attrs:{placeholder:"分类"},on:{change:t.classifyChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.classify,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1),1==t.activeIndex?a("el-button",{staticClass:"obutton",attrs:{type:"text"},on:{click:t.cancelAll}},[t._v("删除全部")]):t._e(),2==t.activeIndex?a("el-button",{staticClass:"obutton",attrs:{type:"text"},on:{click:t.selectAll}},[t._v("选择全部")]):t._e()],1)],1),1==t.activeIndex?a("plan-on",{attrs:{id:"planon",pid:t.id}}):t._e(),2==t.activeIndex?a("plan-off",{attrs:{pid:t.id}}):t._e()],1)},uc=[],dc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.inusecreate,height:"400"}},[a("el-table-column",{attrs:{prop:"id",label:"创意ID",width:"80"}}),a("el-table-column",{attrs:{prop:"creativityText",label:"文本"}}),a("el-table-column",{attrs:{prop:"creativityTypeName",label:"类型",width:"100"}}),a("el-table-column",{attrs:{prop:"picture",label:"缩略图",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("span",{staticClass:"headpic"},[a("img",{attrs:{src:t.row.img,alt:""}})])]}}])}),a("el-table-column",{attrs:{prop:"classify",label:"分类",width:"160"}}),a("el-table-column",{attrs:{prop:"status",label:"启用/停用",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                    "+t._s(0==e.row.status?"已停用":"已启用")+"\n                ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.toCancel(e.row.id)}}},[t._v("取消")])]}}])})],1),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.inusetotal,"page-size":20},on:{"current-change":t.pageSwitch}})],1)],1)},mc=[],pc={props:["pid"],data:function(){return{}},computed:Object(M["a"])({},Object(P["d"])(["inusecreate","inusetotal"])),watch:{},methods:Object(M["a"])({},Object(P["c"])(["CANCELCREATE"]),{toCancel:function(t){var e=[],a={creativeId:t,planId:this.pid};e.push(a),this.$store.dispatch("delCreate",{option:e})},pageSwitch:function(t){var e=this.pid,a=t;this.$store.dispatch("getInuseCreate",{plan_id:e,pageIndex:a})}})},fc=pc,hc=(a("bf98"),Object(C["a"])(fc,dc,mc,!1,null,"18c086b0",null)),_c=hc.exports,vc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.nousecreate,height:"400"}},[a("el-table-column",{attrs:{prop:"id",label:"创意ID",width:"80"}}),a("el-table-column",{attrs:{prop:"creativityText",label:"文本"}}),a("el-table-column",{attrs:{prop:"creativityTypeName",label:"类型",width:"100"}}),a("el-table-column",{attrs:{prop:"picture",label:"缩略图",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("span",{staticClass:"headpic"},[a("img",{attrs:{src:t.row.img,alt:""}})])]}}])}),a("el-table-column",{attrs:{prop:"classify",label:"分类",width:"160"}}),a("el-table-column",{attrs:{prop:"status",label:"启用/停用",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n                    "+t._s(0==e.row.status?"已停用":"已启用")+"\n                ")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.toSelect(e.row.id,e.row.status)}}},[t._v("选择")])]}}])})],1),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.nousetotal,"page-size":20},on:{"current-change":t.pageSwitch}})],1)],1)},gc=[],bc={props:["pid"],computed:Object(M["a"])({},Object(P["d"])(["nousecreate","nousetotal"])),methods:Object(M["a"])({},Object(P["c"])(["SELECTCREATE"]),{toSelect:function(t,e){var a=[],i={creativeId:t,planId:this.pid,creativeStatus:e};a.push(i),this.$store.dispatch("addCreate",{option:a})},pageSwitch:function(t){var e=this.pid,a=t;this.$store.dispatch("getNouseCreate",{plan_id:e,pageIndex:a})}})},yc=bc,kc=(a("4c10"),Object(C["a"])(yc,vc,gc,!1,null,"325e2c94",null)),Ec=kc.exports,Cc=a("5c96"),Oc=a.n(Cc),wc={props:["status","id"],components:{PlanOn:_c,PlanOff:Ec},data:function(){return{state:"",activeIndex:"1",dialogFormVisible:!1,title:"",options:[{value:"1",label:"已启用"},{value:"0",label:"未启用"}],value:"",value2:""}},watch:{status:function(t,e){this.dialogFormVisible=t;var a=this.id,i="planon";1==t&&(this.$store.dispatch("getInuseCreate",{plan_id:a,loadDom:i}),this.$store.dispatch("getNouseCreate",{plan_id:a}))},id:function(t,e){if(t);}},computed:Object(M["a"])({},Object(P["d"])(["classify","nousecreate","inusecreate","inusetotal"]),Object(P["b"])(["selectcreatelength","canselectcreatelength"])),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{toAutoSelect:function(){var t=this;this.dialogFormVisible=!1,setTimeout(function(e){t.$emit("showCreatebox","status2",t.id)},300)},selectAll:function(){this.$store.dispatch("addAllCreate",{planId:this.id})},cancelAll:function(){this.$store.dispatch("delAllCreate",{planId:this.id})},statusChange:function(){var t="plcreatestatus",e=this.value2;this.SETSTATE({k:t,v:e}),this.toGetlist()},classifyChange:function(){var t="plcreateclassify",e="不限"==this.value?"":this.value;this.SETSTATE({k:t,v:e}),this.toGetlist()},createSearch:function(){var t="plcreatekeyword",e=this.state,a=this;this.SETSTATE({k:t,v:e}),clearTimeout(r),r=setTimeout(function(){a.toGetlist()},300)},toGetlist:function(){var t=this.id;this.$store.dispatch("getInuseCreate",{plan_id:t}),this.$store.dispatch("getNouseCreate",{plan_id:t})},handleSelectNav:function(t){t!=this.activeIndex&&(console.log(t),this.activeIndex=t)},toCancel:function(){this.reset(),this.$emit("cancelAddbm","status1")},reset:function(){this.state="",this.value="",this.value2="",this.activeIndex="1",this.SETSTATE({k:"plcreatestatus",v:""}),this.SETSTATE({k:"plcreateclassify",v:""}),this.SETSTATE({k:"plcreatekeyword",v:""})}})},Ic=wc,Tc=(a("fe4d"),Object(C["a"])(Ic,lc,uc,!1,null,"ce8c0138",null)),Ac=Tc.exports,xc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.planlist}},[a("el-table-column",{attrs:{prop:"id",label:"计划ID",width:"80"}}),a("el-table-column",{attrs:{prop:"name",label:"计划名称","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticClass:"nametip"},["auto"!=e.row.createType?a("span",{staticClass:"commonline"},[t._v("通用")]):a("span",{staticClass:"autoline"},[t._v("智能")]),t._v("\n        "+t._s(e.row.name)+"\n      ")])]}}])}),a("el-table-column",{attrs:{prop:"country",label:"国家",width:"100"}}),a("el-table-column",{attrs:{prop:"platform",label:"平台",width:"120"}}),a("el-table-column",{attrs:{prop:"creativeNum",label:"创意",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return["auto"!=e.row.createType?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.toSelectcreate(e.row.id)}}},[t._v(t._s(e.row.creativeNum))]):a("span",[t._v("--")])]}}])}),a("el-table-column",{attrs:{prop:"goalBid",label:"目标出价($)",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.toGiveprice(e.row.id,e.row.goalBid?e.row.goalBid/100:"")}}},[t._v(t._s(e.row.goalBid?e.row.goalBid/100:"--"))])]}}])}),a("el-table-column",{attrs:{prop:"adaccountNum",label:"广告账户",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.toSelectaccount(e.row.id)}}},[t._v(t._s(e.row.adaccountNum))])]}}])}),a("el-table-column",{attrs:{prop:"createAmount",label:"创建记录",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"click",placement:"top",width:"600"}},[a("el-table",{attrs:{id:"createList"+e.row.id,data:t.loglist,height:"250"}},[a("el-table-column",{attrs:{property:"campaignName",label:"创建记录"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"campaignName",on:{click:function(a){t.toLogDetail(e.row.id,e.row.campaignName)}}},[t._v(t._s(e.row.campaignName))])]}}])}),a("el-table-column",{attrs:{width:"100",property:"createTime",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("timeFormat")(e.row.createTime,"yyyy-MM-dd")))])]}}])}),a("el-table-column",{attrs:{width:"140",property:"creator",label:"创建人"}}),a("el-table-column",{attrs:{width:"60",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.toLogDetail(e.row.id,e.row.campaignName)}}},[t._v("详情")])]}}])})],1),a("el-button",{attrs:{slot:"reference",type:"text"},on:{click:function(a){t.getLogid(e.row.id)}},slot:"reference"},[t._v(t._s(e.row.createAmount))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:t.editReset}},[a("router-link",{staticClass:"edit",attrs:{to:"/project/"+t.$route.params.id+"/edit/"+e.row.id}},[t._v("编辑")])],1),"auto"!=e.row.createType?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.syncCreate(e.row.id,e.row.creativeNum)}}},[t._v("\n          同步创意\n        ")]):t._e()],1),a("p",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:t.editReset}},[a("router-link",{staticClass:"edit",attrs:{to:"/project/"+t.$route.params.id+"/copy/"+e.row.id}},[t._v("复制")])],1),"auto"!=e.row.createType?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.toCreateLog(e.row.id,e.row.adaccountNum,e.row.creativeNum,e.row.name)}}},[t._v("创建广告")]):t._e(),"auto"==e.row.createType?a("el-switch",{staticClass:"switch",attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#d7dae2"},on:{change:function(a){t.toOpenClose(e.row.id,e.row.status)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}}):t._e()],1)]}}])})],1)},Sc=[],jc={data:function(){return{}},computed:Object(M["a"])({},Object(P["d"])(["planlist","loglist"])),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{syncCreate:function(t,e){var a=!0;0!=e?(Object(H["b"])("创意同步",'创意同步中... <a class="synctodetail" href="#/project/'.concat(this.$route.params.id,'/sync">查看详情</a>'),a),this.$store.dispatch("syncCreate",{planid:t,createnum:e,projectId:this.$route.params.id})):Object(H["g"])("请选择创意")},toOpenClose:function(t,e){var a=[];a.push(t),"0"==e?this.$store.dispatch("closePlan",{option:a}):this.$store.dispatch("openPlan",{option:a})},toGiveprice:function(t,e){this.$emit("showChangebox","status",t,e)},toSelectcreate:function(t){this.$emit("showCreatebox","status1",t)},toSelectaccount:function(t){this.$emit("showAccountbox","status3",t)},toCreateLog:function(t,e,a,i){a<=0?Object(H["g"])("请先同步创意"):e<=0?Object(H["g"])("请先同步广告账户"):this.$emit("showCreatelogBox","status5",t,i)},getLogid:function(t){var e=t,a="createList"+t;this.$store.dispatch("getLog",{plan_id:e,loadDom:a})},toLogDetail:function(t,e){var a="logdetailid",i=t;this.SETSTATE({k:a,v:i}),a="logdetailname",i=e,this.SETSTATE({k:a,v:i}),a="ifadcreate",i=!0,this.SETSTATE({k:a,v:i}),this.$store.dispatch("getLogdetail")},editReset:function(t,e){var a="disinfo",i=[];this.SETSTATE({k:a,v:i})}})},Dc=jc,Mc=(a("d2c4"),a("a614"),Object(C["a"])(Dc,xc,Sc,!1,null,"4a02abf8",null)),Pc=Mc.exports,Lc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"调整目标出价",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{staticClass:"cline",attrs:{label:"目标出价"}},[a("div",{staticClass:"moneyinput"},[a("span",{staticClass:"moneyus"},[t._v("$")]),a("el-input",{staticClass:"minput",attrs:{placeholder:"可为空"},model:{value:t.form.money,callback:function(e){t.$set(t.form,"money",e)},expression:"form.money"}})],1),a("p",{staticClass:"tip"},[t._v("为空则涉及到目标出价的规则对此推广计划无效，调整后目标出价将适用于此推广计划下所有广告")])])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toSave}},[t._v("确 定")])],1)],1)},Rc=[],Nc={props:["status","manageid","goalBid"],data:function(){return{dialogFormVisible:!1,form:{money:""}}},methods:{toCancel:function(){this.$emit("cancelAddbm","status")},toSave:function(){var t=100*this.form.money,e=this.manageid;this.$store.dispatch("changePrice",{goalBid:t,planId:e}),this.dialogFormVisible=!1,this.form.money=""}},watch:{status:function(t,e){this.dialogFormVisible=t,t&&(this.form.money=this.goalBid)}}},$c=Nc,Uc=(a("0f46"),Object(C["a"])($c,Lc,Rc,!1,null,"876dd2e4",null)),Fc=Uc.exports,Bc={components:{PlanList:Pc,ChangePrice:Fc,SelectCreate:Ac,AutoSelect:cc,SelectAccount:ac,LogDetail:$r,LogCreate:Dr},beforeRouteLeave:function(t,e,a){this.SETSTATE({k:"ifadcreate",v:!1}),clearInterval(rundetail),a()},data:function(){return{state:"",value:"",value2:"",manageid:"",goalBid:0,createid:"",accoundid:"",logdetailid:"",logdetailname:"",createlogid:"",createlogname:"",pageindex:1,status:!1,status1:!1,status2:!1,status3:!1,status5:!1}},created:function(){var t={project_id:"",country:"",platform:"",keyword:"",pageIndex:1,pageSize:20};for(var e in t){var a="pl_"+e,i=t[e];this.SETSTATE({k:a,v:i})}},mounted:function(){var t="pl_project_id",e=this.$route.params.id;if(this.SETSTATE({k:t,v:e}),this.$store.dispatch("getPlanlist"),this.actions){var a=this.actions;this.$store.dispatch("getPlatform",{applicationid:a})}this.$store.dispatch("otherCountries"),this.$store.dispatch("getPlanCountry",e),this.$store.dispatch("getClassify",this.$route.params.id),this.$route.params.planid&&(this.accoundid=this.$route.params.planid,this.status3=!0)},computed:Object(M["a"])({},Object(P["d"])(["itemlist","platform","othercountries","pltotal","plpagesize","plancountry","ifadcreate"]),{status4:function(){return this.ifadcreate},projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName},projectid:function(){return this.$route.params.id},actions:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).applicationId}}),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{pageSizeChange:function(t){var e="pl_pageSize",a=t;this.SETSTATE({k:e,v:a}),this.$store.dispatch("getPlanlist")},showCreatelogBox:function(t,e,a){this[t]=!0,this.createlogid=e,this.createlogname=a},showLogdetailbox:function(t,e,a){this[t]=!0},showAccountbox:function(t,e){this[t]=!0,this.accoundid=e},showChangebox:function(t,e,a){this[t]=!0,this.manageid=e,this.goalBid=a},showCreatebox:function(t,e){this[t]=!0,this.createid=e},cancelAddbm:function(t){this[t]=!1},pageSwitch:function(t){this.pageindex=t;var e="pl_pageIndex",a=t;this.SETSTATE({k:e,v:a}),this.$store.dispatch("getPlanlist")},createSearch:function(){var t=this,e="pl_keyword",a=this.state;this.SETSTATE({k:e,v:a}),e="pl_pageIndex",a=1,this.SETSTATE({k:e,v:a}),setTimeout(function(){t.$store.dispatch("getPlanlist")},300)},toSort:function(){var t="pl_country",e="不限"==this.value2?"":this.value2;this.SETSTATE({k:t,v:e}),t="pl_platform",e="不限"==this.value?"":this.value,this.SETSTATE({k:t,v:e}),t="pl_pageIndex",e=1,this.SETSTATE({k:t,v:e}),this.$store.dispatch("getPlanlist")}}),watch:{actions:function(t,e){if(t){var a=t;this.$store.dispatch("getPlatform",{applicationid:a})}},projectid:function(t,e){if(""!=t){var a="pl_project_id",i=t;if(this.SETSTATE({k:a,v:i}),this.SETSTATE({k:"planlist",v:[]}),this.$store.dispatch("getPlanlist",{loading:"PlanList"}),this.actions){var s=this.actions;this.$store.dispatch("getPlatform",{applicationid:s})}this.$store.dispatch("otherCountries"),this.$store.dispatch("getPlanCountry",i),this.$store.dispatch("getClassify",i)}}}},Kc=Bc,Vc=(a("db55"),Object(C["a"])(Kc,wr,Ir,!1,null,"ebd0ce78",null)),Wc=Vc.exports,Gc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gener"},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("编辑推广计划")])],1),t._l(t.disinfo,function(e,i){return a("edit-form",{key:i,attrs:{createinfo:e},on:{changeEdit:t.changeEdit}})})],2)},zc=[],Hc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"formlist"},[a("div",{staticClass:"bidguide"},[a("gener-guide",{attrs:{bid:t.form.bid,maxbid:t.form.maxbid,moneytype:t.form.moneytype,money:t.form.money}})],1),t._m(0),a("el-form",{staticClass:"elform",attrs:{"label-position":"left","label-width":"110px",model:t.form}},[a("el-form-item",{attrs:{label:"推广计划名称"}},[a("el-input",{attrs:{placeholder:"请输入推广计划名称，用以展示在计划管理中"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{staticClass:"cline ctype",attrs:{label:"推广计划类型"}},[a("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-radio",{attrs:{label:"manual",disabled:""}},[t._v("通用推广计划")]),a("el-radio",{attrs:{label:"auto",disabled:""}},[t._v("智能推广计划")])],1),a("span",{staticClass:"typetip1"},[t._v("需要手动创建广告和选择创意")]),a("span",{staticClass:"typetip2"},[t._v("每天11点自动选择创意并创建广告")])],1),a("el-form-item",{staticClass:"cline",attrs:{label:"广告账户"}},[a("el-select",{staticClass:"select accountselect",attrs:{multiple:"",filterable:"",placeholder:"请选择广告账户"},on:{change:t.accountToAudience},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}},t._l(t.generaccount,function(t){return a("el-option",{key:t.code,attrs:{label:t.name+"("+t.fbId.split("_")[1]+")",value:t.fbId}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"国家"}},[a("el-select",{staticClass:"select",attrs:{disabled:"",filterable:"",placeholder:"请选择国家，可搜索"},on:{change:t.showBidChart},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}},t._l(t.othercountries,function(t){return a("el-option",{key:t.code,attrs:{label:t.name+"("+t.code+")",value:t.code}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"应用"}},[a("el-select",{staticClass:"select",attrs:{disabled:"",placeholder:"请选择应用"},model:{value:t.actions,callback:function(e){t.actions=e},expression:"actions"}},t._l(t.applist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.applicationId}})}),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:""!=t.form.actions,expression:"form.actions != ''"}],staticClass:"cline timerange",attrs:{label:"平台"}},[a("el-radio-group",{on:{change:t.toGetsystem},model:{value:t.form.platform,callback:function(e){t.$set(t.form,"platform",e)},expression:"form.platform"}},t._l(t.createplatform,function(t){return a("el-radio",{key:t.marketType,attrs:{label:t.marketType,disabled:""}})}),1)],1)],1),t._m(1),a("el-form",{staticClass:"elform",attrs:{"label-position":"left","label-width":"110px",model:t.form}},[a("el-form-item",{staticClass:"cline",attrs:{label:"受众"}},[a("div",{staticClass:"targettip"},[t._v("定位至少符合以下一项条件的用户")]),a("el-select",{staticClass:"select accountselect",attrs:{"no-data-text":"暂无受众，请修改账户或新增受众",multiple:"",filterable:"",placeholder:"请选择受众，可搜索"},on:{change:t.targetToAccount},model:{value:t.form.target,callback:function(e){t.$set(t.form,"target",e)},expression:"form.target"}},t._l(t.genertarget,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label.split("_")[1]}},t._l(e.options,function(i){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:-1==t.form.notarget.indexOf(i.audienceId+"|"+e.label),expression:"form.notarget.indexOf(`${item.audienceId}|${group.label}`) == -1"}],key:i.code,attrs:{label:i.name+"（"+i.audienceId+"）",value:i.audienceId+"|"+e.label}})}),1)}),1),a("el-checkbox-group",{model:{value:t.form.iftarget,callback:function(e){t.$set(t.form,"iftarget",e)},expression:"form.iftarget"}},[a("el-checkbox",{attrs:{label:"1",name:"type"}},[t._v("不排除任何受众")])],1),1!=t.form.iftarget[0]?a("div",{staticClass:"targettip"},[t._v("排除至少符合以下一项条件的用户")]):t._e(),1!=t.form.iftarget[0]?a("el-select",{staticClass:"select accountselect",attrs:{"no-data-text":"暂无受众，请修改账户或新增受众",multiple:"",filterable:"",placeholder:"请选择受众，可搜索"},on:{change:t.targetToAccount},model:{value:t.form.notarget,callback:function(e){t.$set(t.form,"notarget",e)},expression:"form.notarget"}},t._l(t.genertarget,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label.split("_")[1]}},t._l(e.options,function(i){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:-1==t.form.target.indexOf(i.audienceId+"|"+e.label),expression:"form.target.indexOf(`${item.audienceId}|${group.label}`) == -1"}],key:i.code,attrs:{label:i.name+"（"+i.audienceId+"）",value:i.audienceId+"|"+e.label}})}),1)}),1):t._e()],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:""!=t.form.platform,expression:"form.platform != ''"}],staticClass:"cline",attrs:{label:"系统版本"}},[a("el-select",{staticClass:"selectHalf",attrs:{placeholder:"最低版本"},model:{value:t.form.minversion,callback:function(e){t.$set(t.form,"minversion",e)},expression:"form.minversion"}},t._l(t.system,function(t,e){return a("el-option",{key:e,attrs:{label:t.os+" "+t.version,value:t.version}})}),1),t._v("\n      --\n      "),a("el-select",{staticClass:"selectHalf",attrs:{placeholder:"最高版本"},model:{value:t.form.maxversion,callback:function(e){t.$set(t.form,"maxversion",e)},expression:"form.maxversion"}},t._l(t.system,function(t,e){return a("el-option",{key:e,attrs:{label:t.os+" "+t.version,value:t.version}})}),1),a("p",{staticStyle:{"font-size":"12px",color:"#999"}},[t._v("最高版本为空则无上限")])],1),a("el-form-item",{staticClass:"cline ctype",attrs:{label:"预算"}},[a("el-radio-group",{on:{change:t.moneytypeChange},model:{value:t.form.moneytype,callback:function(e){t.$set(t.form,"moneytype",e)},expression:"form.moneytype"}},[a("el-radio",{attrs:{label:"day_budget"}},[t._v("单日预算")]),a("el-radio",{attrs:{label:"total_budget"}},[t._v("总预算")])],1),a("div",{staticClass:"moneyinput"},[a("span",{staticClass:"moneyus"},[t._v("$")]),a("el-input",{staticClass:"minput",attrs:{placeholder:"请输入预算金额（单位：美元）"},model:{value:t.form.money,callback:function(e){t.$set(t.form,"money",e)},expression:"form.money"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"total_budget"==t.form.moneytype,expression:"form.moneytype == 'total_budget'"}],attrs:{label:"投放日期"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"total_budget"==t.form.moneytype,expression:"form.moneytype == 'total_budget'"}],staticClass:"cline timerange",attrs:{label:"投放时段"}},[a("el-radio-group",{model:{value:t.form.timerange,callback:function(e){t.$set(t.form,"timerange",e)},expression:"form.timerange"}},[a("el-radio",{attrs:{label:"allday"}},[t._v("全天投放广告")]),a("el-radio",{attrs:{label:"schedule"}},[t._v("分时间段投放")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"schedule"==t.form.timerange,expression:"form.timerange == 'schedule'"}],staticClass:"moneyinput"},[a("el-select",{staticClass:"selectsmall",attrs:{multiple:"",placeholder:"按广告受众所在时区"},model:{value:t.form.rdate,callback:function(e){t.$set(t.form,"rdate",e)},expression:"form.rdate"}},t._l(t.week,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.key}})}),1),a("el-time-picker",{staticClass:"timeselect",attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.form.rtime,callback:function(e){t.$set(t.form,"rtime",e)},expression:"form.rtime"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:""!=t.form.platform,expression:"form.platform != ''"}],attrs:{label:"设备"}},[a("el-checkbox-group",{model:{value:t.form.equip,callback:function(e){t.$set(t.form,"equip",e)},expression:"form.equip"}},["google_play"==t.form.platform?a("el-checkbox",{attrs:{label:"Android_Smartphone",name:"type"}},[t._v("安卓智能手机")]):t._e(),"itunes"==t.form.platform?a("el-checkbox",{attrs:{label:"iPhone",name:"type"}},[t._v("iPhone")]):t._e(),"itunes"==t.form.platform?a("el-checkbox",{attrs:{label:"iPad",name:"type"}},[t._v("iPad")]):t._e()],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"性别"}},[a("el-radio-group",{on:{change:t.getFilterCount},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"0"}},[t._v("全部")]),a("el-radio",{attrs:{label:"1"}},[t._v("男")]),a("el-radio",{attrs:{label:"2"}},[t._v("女")])],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"年龄"}},[a("el-slider",{attrs:{range:"",min:13,max:65,"format-tooltip":t.formatTooltip},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"语言"}},[a("el-select",{staticClass:"select",attrs:{multiple:"",filterable:"",placeholder:"请选择语言，可搜索"},model:{value:t.form.language,callback:function(e){t.$set(t.form,"language",e)},expression:"form.language"}},t._l(t.language,function(t){return a("el-option",{key:t.localeId,attrs:{label:t.name,value:t.localeId.toString()}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"兴趣"}},[a("el-select",{staticClass:"select",attrs:{multiple:"",filterable:"",placeholder:"请选择兴趣，可搜索"},model:{value:t.form.interest,callback:function(e){t.$set(t.form,"interest",e)},expression:"form.interest"}},t._l(t.interests,function(t){return a("el-option",{key:t.featureId,attrs:{label:t.name,value:t.featureId}})}),1)],1),a("el-form-item",{attrs:{label:"自动版位"}},[a("el-checkbox-group",{model:{value:t.form.auto,callback:function(e){t.$set(t.form,"auto",e)},expression:"form.auto"}},[a("el-checkbox",{attrs:{label:"1",name:"type"}},[t._v("是（Facebook自动选择最好的版位）")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1!=t.form.auto[0],expression:"form.auto[0] != 1"}],staticClass:"verpla",attrs:{label:"版位"}},[a("el-checkbox-group",{model:{value:t.form.verpla,callback:function(e){t.$set(t.form,"verpla",e)},expression:"form.verpla"}},[a("el-checkbox",{attrs:{label:"facebook",name:"type",disabled:t.form.verpla&&(-1!=t.form.verpla.indexOf("audience_network")||-1!=t.form.verpla.indexOf("messenger"))}},[t._v("Facebook")]),a("el-checkbox",{attrs:{label:"instagram",name:"type"}},[t._v("Instagram")]),a("el-checkbox",{attrs:{label:"audience_network",name:"type",disabled:t.form.verpla&&-1==t.form.verpla.indexOf("facebook")}},[t._v("Audience Network")]),a("el-checkbox",{attrs:{label:"messenger",name:"type",disabled:t.form.verpla&&-1==t.form.verpla.indexOf("facebook")}},[t._v("Messenger")])],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"出价"}},[a("el-radio-group",{on:{change:t.maxbidDefault},model:{value:t.form.bid,callback:function(e){t.$set(t.form,"bid",e)},expression:"form.bid"}},[a("el-radio",{attrs:{label:"cpi"}},[t._v("CPI")]),a("el-radio",{attrs:{label:"cpm"}},[t._v("CPM")])],1)],1),a("el-form-item",{attrs:{label:"竞价上限"}},[a("div",{staticClass:"moneyinput"},[a("span",{staticClass:"moneyus"},[t._v("$")]),a("el-input",{staticClass:"minput",attrs:{placeholder:t.maxbidplace},model:{value:t.form.maxbid,callback:function(e){t.$set(t.form,"maxbid",e)},expression:"form.maxbid"}})],1)]),a("el-form-item",{staticClass:"cline",attrs:{label:"用户过滤"}},[a("el-checkbox-group",{model:{value:t.form.filtra,callback:function(e){t.$set(t.form,"filtra",e)},expression:"form.filtra"}},[a("el-checkbox",{attrs:{label:"1",name:"filtra"}},[t._v("过滤已安装用户")]),a("el-checkbox",{attrs:{label:"2",name:"filtra"}},[t._v("过滤已关注用户")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.form.filtra&&-1!=t.form.filtra.indexOf("2"),expression:"form.filtra && form.filtra.indexOf('2') != -1"}],staticClass:"moneyinput"},[a("el-select",{staticClass:"select",attrs:{multiple:"",placeholder:"请选择要过滤的主页，必选"},model:{value:t.form.filtrapage,callback:function(e){t.$set(t.form,"filtrapage",e)},expression:"form.filtrapage"}},t._l(t.allpagelist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.pageId}})}),1)],1)],1)],1),t._m(2),a("el-form",{staticClass:"elform",attrs:{"label-position":"left","label-width":"110px",model:t.form}},[a("el-form-item",{staticClass:"cline ctype",attrs:{label:"广告组数"}},[a("el-input-number",{attrs:{min:1,label:"广告组数"},model:{value:t.form.adcount,callback:function(e){t.$set(t.form,"adcount",e)},expression:"form.adcount"}}),a("div",{staticClass:"countfont"},[t._v("每个广告系列包含的广告组数量，太多也会有内部竞争影响整体效率")])],1),a("el-form-item",{staticClass:"cline ctype",attrs:{label:"广告组创意数"}},[a("el-input-number",{attrs:{min:1,max:50,label:"广告组创意数"},on:{change:t.countChange},model:{value:t.form.count,callback:function(e){t.$set(t.form,"count",e)},expression:"form.count"}}),a("div",{staticClass:"countfont"},[t._v("每个广告组包含的创意数量。1-3个为佳，3个以上会有内部竞争影响整体效率")])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"auto"==t.form.type,expression:"form.type == 'auto'"}],staticClass:"cline",attrs:{label:"创意类型"}},[a("el-checkbox-group",{on:{change:t.getFilterCount},model:{value:t.form.createtype,callback:function(e){t.$set(t.form,"createtype",e)},expression:"form.createtype"}},[a("el-checkbox",{attrs:{label:"0",name:"type"}},[t._v("单图片")]),a("el-checkbox",{attrs:{label:"1",name:"type"}},[t._v("单视频")]),a("el-checkbox",{attrs:{label:"2",name:"type"}},[t._v("轮播")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"auto"==t.form.type,expression:"form.type == 'auto'"}],staticClass:"cline",attrs:{label:"选择分类"}},[a("el-select",{staticClass:"select",attrs:{multiple:"",placeholder:"选填，为空则不限制分类"},on:{change:t.getFilterCount},model:{value:t.form.classify,callback:function(e){t.$set(t.form,"classify",e)},expression:"form.classify"}},t._l(t.classifyforplan,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"auto"==t.form.type,expression:"form.type == 'auto'"}],staticClass:"cline ctype",attrs:{label:"创意数量"}},[a("el-input-number",{attrs:{min:1,label:"创意数量"},on:{change:t.createcountChange},model:{value:t.form.createcount,callback:function(e){t.$set(t.form,"createcount",e)},expression:"form.createcount"}}),a("div",{staticClass:"countfont"},[t._v("符合条件的创意总数为："+t._s(t.classifyfiltercount))])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"auto"==t.form.type,expression:"form.type == 'auto'"}],staticClass:"cline cline-strategy",attrs:{label:"选择策略"}},[a("el-radio-group",{staticClass:"strategy",model:{value:t.form.tactics,callback:function(e){t.$set(t.form,"tactics",e)},expression:"form.tactics"}},[a("el-radio",{attrs:{label:1}},[t._v("新创意优先")]),a("el-radio",{attrs:{label:2}},[t._v("完全随机")]),a("el-radio",{attrs:{label:3}},[t._v("高点击率优先")]),a("el-radio",{attrs:{label:4}},[t._v("视频/图片不同优先")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"不同策略会选到不同的创意，请根据需求选择合适的策略",placement:"bottom-start"}},[a("i",{staticClass:"el-icon-question"})])],1)],1),a("div",{staticClass:"elsubmit"},[a("el-button",{attrs:{type:"primary"},on:{click:t.sexTip}},[t._v("提 交")])],1)],1)},qc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eltitle"},[a("b",[t._v("基础信息")]),a("span",[t._v("推广计划保存后可编辑，也可多次生成广告")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eltitle"},[a("b",[t._v("广告组")]),a("span",[t._v("同1个广告系列下的所有广告组的条件一致")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eltitle"},[a("b",[t._v("结构和创意")]),a("span",[t._v("根据广告组数量、广告组创意数和创意数生成相对应的广告系列数量")])])}],Jc={props:["createinfo"],components:{GenerGuide:_r},data:function(){return{dialogVisible:!1,state:"",state2:"",state3:"",week:[{name:"周一",key:1},{name:"周二",key:2},{name:"周三",key:3},{name:"周四",key:4},{name:"周五",key:5},{name:"周六",key:6},{name:"周七",key:7}],maxbidplace:"cpi"==this.createinfo.billingType?"请输入竞价上限（单位：美元）":"选填",oldsex:this.createinfo.gender?this.createinfo.gender[0]:"",form:{name:this.createinfo.name,type:this.createinfo.createType,country:this.createinfo.country,platform:this.createinfo.platform,target:this.createinfo.included,iftarget:this.createinfo.excludedAudiences?[]:["1"],notarget:this.createinfo.excluded,minversion:this.createinfo.version,maxversion:this.createinfo.maxVersion?this.createinfo.maxVersion:"",moneytype:this.createinfo.budgetType,money:"day_budget"==this.createinfo.budgetType?this.createinfo.dayBudget/100:this.createinfo.totalBudget/100,date:[this.createinfo.startTime?new Date(this.createinfo.startTime):new Date,this.createinfo.endTime?new Date(this.createinfo.endTime):new Date],timerange:this.createinfo.scheduleType,rdate:this.createinfo.days?this.createinfo.days:[],rtime:[new Date(2016,9,10,this.createinfo.startMinute?this.createinfo.startMinute.split(":")[0]:0,0,0),new Date(2016,9,10,this.createinfo.endMinute?this.createinfo.endMinute.split(":")[0]:23,0,0)],equip:this.createinfo.device,sex:this.createinfo.gender?this.createinfo.gender[0]:"",age:[this.createinfo.minAge,this.createinfo.maxAge],language:this.createinfo.locales?this.createinfo.locales:[],interest:this.createinfo.interest?this.createinfo.interest:[],auto:this.createinfo.position&&0==this.createinfo.position.length?["1"]:[],verpla:this.createinfo.position?this.createinfo.position:[],bid:this.createinfo.billingType,maxbid:""===this.createinfo.bidAmount||null===this.createinfo.bidAmount?"":this.createinfo.bidAmount/100,filtra:[this.createinfo.filteInstalledUser?"1":"",this.createinfo.filteAttentionUser&&this.createinfo.filteAttentionUser.length>0?"2":""],filtrapage:this.createinfo.filteAttentionUser?this.createinfo.filteAttentionUser:[],account:this.createinfo.fbAccountIds,adcount:this.createinfo.adsetNum,count:this.createinfo.adNum,createtype:this.createinfo.creativeType?this.createinfo.creativeType:[],classify:this.createinfo.creativeClassify?this.createinfo.creativeClassify:[],createcount:this.createinfo.creativeNum,tactics:this.createinfo.creativeStrategy?this.createinfo.creativeStrategy:1},msg:{name:"请输入推广计划名称",country:"请选择国家",platform:"请选择平台",version:"请选择系统版本",money:"请输入预算金额",date:"请选择投放日期",rdate:"请选择星期",equip:"请选择设备",language:"请选择语言",verpla:"请选择版位",maxbid:"请输入竞价上限",maxbidmax:"竞价上限必须大于0.02美元",filtra:"请选择用户过滤",filtrapage:"请选择需要过滤的主页",createtype:"请选择创意类型"}}},mounted:function(){if(this.actions){var t=this.actions;if(this.$store.dispatch("getCreatePlatform",{applicationid:t}),!this.form.country)return;var e=this.form.country,a="cpi"==this.form.bid?"APP_INSTALLS":"IMPRESSIONS";this.$store.dispatch("bidGuide",{country:e,fbApplicationId:t,billingEvent:a})}if(this.toGetsystem(),0!=this.form.account.length){var i=this.form.account.join(",");this.$store.dispatch("generTargetList",{fb_account_ids:i}),this.getFilterCount()}else this.SETSTATE({k:"genertarget",v:[]})},computed:Object(M["a"])({},Object(P["d"])(["itemlist","othercountries","language","interests","applist","createplatform","system","allpagelist","genertarget","generaccount","classifyforplan","classifyfiltercount"]),{actions:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).applicationId}}),watch:{actions:function(t,e){if(t){var a=t;this.$store.dispatch("getCreatePlatform",{applicationid:a})}},"form.name":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.type":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.country":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.platform":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.target":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.notarget":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.minversion":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.maxversion":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.moneytype":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.money":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.sex":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.language":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.interest":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.bid":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.maxbid":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.filtrapage":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.account":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.count":{handler:function(t,e){this.$emit("changeEdit",!1)}}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{getFilterCount:function(){if(0!=this.form.createtype.length){var t=this.form.country,e=this.form.sex,a=this.$route.params.id,i=this.form.createtype.join(","),s=this.form.classify.join(",");this.$store.dispatch("classifyFilterCountNoPlan",{country:t,gender:e,projectId:a,creativetype:i,classify:s})}else this.SETSTATE({k:"classifyfiltercount",v:0})},showBidChart:function(){if(this.form.country){var t=this.form.country,e="cpi"==this.form.bid?"APP_INSTALLS":"IMPRESSIONS";this.$store.dispatch("bidGuide",{country:t,fbApplicationId:this.actions,billingEvent:e})}},accountToAudience:function(){if(this.form.target=[],this.form.notarget=[],0!=this.form.account.length){var t=this.form.account.join(",");this.$store.dispatch("generTargetList",{fb_account_ids:t})}else this.SETSTATE({k:"genertarget",v:[]})},targetToAccount:function(){},moneytypeChange:function(){this.form.money=""},formatTooltip:function(t){if(65==t)return"65+"},maxbidDefault:function(){"cpi"==this.form.bid?(this.form.maxbid="0.02",this.maxbidplace="请输入竞价上限（单位：美元）"):(this.form.maxbid="",this.maxbidplace="选填"),this.showBidChart()},sexTip:function(){var t=this;"manual"==this.form.type&&this.form.sex!=this.oldsex?this.$confirm("修改性别后，建议清空已选创意并重新选择，否则有使用不符合性别的创意的风险").then(function(e){t.toSubmit()}).catch(function(t){}):this.toSubmit()},toSubmit:function(){var t=this,e=this.dataChecked();if(e[0]){var a=[],i=this.$createElement,s=Ns()((this.form.date[1]-this.form.date[0])/864e5);"day_budget"==this.form.moneytype&&ur()(this.form.money)>=5e3&&a.push(i("p",null,[i("span",{style:"color:#999"},"每日预算："),i("span",{style:"color:red"},"$".concat(this.form.money))])),"total_budget"==this.form.moneytype&&ur()(this.form.money)/s>=5e3&&a.push(i("p",null,[i("span",{style:"color:#999"},"总预算："),i("span",{style:"color:red"},"$".concat(this.form.money))])),"cpi"==this.form.bid&&this.form.maxbid>=50&&a.push(i("p",null,[i("span",{style:"color:#999"},"CPI出价："),i("span",{style:"color:red"},"$".concat(this.form.maxbid))])),"cpm"==this.form.bid&&this.form.maxbid>=50&&a.push(i("p",null,[i("span",{style:"color:#999"},"CPM出价："),i("span",{style:"color:red"},"$".concat(this.form.maxbid))])),a.length>0?this.$msgbox({title:"创建推广计划",message:i("div",null,[i("span",null,"确认创建此推广计划吗？")].concat(a)),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.toDispatch()}).catch(function(){}):t.toDispatch()}else Object(H["g"])(e[1])},toDispatch:function(){var t={},e={};this.form.target.forEach(function(e){var a=e.split("|"),i=a[1];t[i]||(t[i]=[]),t[i].push(a[0])}),this.form.notarget.forEach(function(t){var a=t.split("|"),i=a[1];e[i]||(e[i]=[]),e[i].push(a[0])});var a={planInfoVO:{adNum:this.form.count,applicationId:this.actions,bidAmount:""===this.form.maxbid?null:Ns()(100*this.form.maxbid),billingType:this.form.bid,budgetType:this.form.moneytype,country:this.form.country,createType:this.form.type,creativeNum:this.form.createcount,creativeType:this.form.createtype,dayBudget:Ns()(100*this.form.money),days:this.form.rdate,device:"itunes"==this.form.platform?this.form.equip.filter(function(t){return"iPhone"==t||"iPad"==t}):this.form.equip.filter(function(t){return"Android_Smartphone"==t}),endMinute:this.$timeFormat(this.form.rtime[1],"HH")+":00",endTime:new Date(this.form.date[1]).getTime(),filteAttentionUser:this.form.filtrapage,filteInstalledUser:-1!=this.form.filtra.indexOf("1")?"yes":"",gender:[this.form.sex],goalBid:"",interest:this.form.interest,locales:this.form.language,maxAge:this.form.age[1],minAge:this.form.age[0],name:this.form.name,platform:this.form.platform,position:"1"==this.form.auto[0]?[]:this.form.verpla,projectId:this.$route.params.id,scheduleType:this.form.timerange,startMinute:this.$timeFormat(this.form.rtime[0],"HH")+":00",startTime:new Date(this.form.date[0]).getTime(),totalBudget:Ns()(100*this.form.money),fbAccountIds:this.form.account,includeAudiences:ce()(t),excludedAudiences:1==this.form.iftarget[0]?"":ce()(e),version:this.form.minversion,maxVersion:this.form.maxversion?this.form.maxversion:null,planId:this.$route.params.pid,adsetNum:this.form.adcount,creativeStrategy:this.form.tactics,creativeClassify:this.form.classify},route:this.$router,projectid:this.$route.params.id};this.$emit("changeEdit",!0),this.$store.dispatch("editGener",{option:a})},dataChecked:function(){if(""==this.form.name)return[!1,this.msg.name];if(""==this.form.country)return[!1,this.msg.country];if(""==this.form.platform)return[!1,this.msg.platform];if(""==this.form.minversion)return[!1,this.msg.version];if(""==this.form.money)return[!1,this.msg.money];if("total_budget"==this.form.moneytype){if(!this.form.date||0==this.form.date.length)return[!1,this.msg.date];if("schedule"==this.form.timerange&&0==this.form.rdate.length)return[!1,this.msg.rdate]}return 0==this.form.equip.filter(function(t){return t}).length?[!1,this.msg.equip]:0==this.form.auto.length&&0==this.form.verpla.length?[!1,this.msg.verpla]:"cpi"==this.form.bid&&""==this.form.maxbid?[!1,this.msg.maxbid]:""!=this.form.maxbid&&(isNaN(Ns()(this.form.maxbid))||this.form.maxbid<.02)?[!1,this.msg.maxbidmax]:-1!=this.form.filtra.indexOf("2")&&0==this.form.filtrapage.length?[!1,this.msg.filtrapage]:"auto"==this.form.type&&0==this.form.createtype.length?[!1,this.msg.createtype]:[!0]},toGetsystem:function(){var t="itunes"==this.form.platform?"ios":"android";this.$store.dispatch("getSystem",{os:t})},countChange:function(){},createcountChange:function(){}})},Yc=Jc,Xc=(a("6f68"),Object(C["a"])(Yc,Hc,qc,!1,null,"3752492c",null)),Zc=Xc.exports,Qc={beforeRouteLeave:function(t,e,a){this.ifedit?a():this.$confirm("是否确定离开当前页面","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a()}).catch(function(){})},data:function(){return{status:!1,status1:!1,ifedit:!0}},components:{EditForm:Zc},created:function(){this.SETSTATE({k:"classifyfiltercount",v:0})},mounted:function(){this.$store.dispatch("otherCountries"),this.$store.dispatch("getLanguage"),this.$store.dispatch("getInterests"),this.$store.dispatch("getApplist"),this.$store.dispatch("getAllpages");var t=this.$route.params.pid;this.$store.dispatch("getCreateInfo",{plan_id:t});var e=this.$route.params.id,a=this.$route.params.tid?this.$route.params.tid:"";this.$store.dispatch("generAccountList",{audience_ids:a,project_id:e}),this.$store.dispatch("getClassifyForPlan",e)},computed:Object(M["a"])({},Object(P["d"])(["itemlist","disinfo"]),{projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName}}),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{changeEdit:function(t){this.ifedit=t},cancelAddbm:function(t){this[t]=!1}})},tl=Qc,el=(a("c568"),Object(C["a"])(tl,Gc,zc,!1,null,"807f11c8",null)),al=el.exports,il=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gener"},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("复制推广计划")])],1),t._l(t.disinfo,function(e,i){return a("copy-form",{key:i,attrs:{createinfo:e},on:{changeEdit:t.changeEdit}})})],2)},sl=[],nl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"formlist"},[a("div",{staticClass:"bidguide"},[a("gener-guide",{attrs:{bid:t.form.bid,maxbid:t.form.maxbid,moneytype:t.form.moneytype,money:t.form.money}})],1),t._m(0),a("el-form",{staticClass:"elform",attrs:{"label-position":"left","label-width":"110px",model:t.form}},[a("el-form-item",{attrs:{label:"推广计划名称"}},[a("el-input",{attrs:{placeholder:"请输入推广计划名称，用以展示在计划管理中"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{staticClass:"cline ctype",attrs:{label:"推广计划类型"}},[a("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-radio",{attrs:{label:"manual"}},[t._v("通用推广计划")]),a("el-radio",{attrs:{label:"auto"}},[t._v("智能推广计划")])],1),a("span",{staticClass:"typetip1"},[t._v("需要手动创建广告和选择创意")]),a("span",{staticClass:"typetip2"},[t._v("每天11点自动选择创意并创建广告")])],1),a("el-form-item",{staticClass:"cline",attrs:{label:"广告账户"}},[a("el-select",{staticClass:"select accountselect",attrs:{multiple:"",filterable:"",placeholder:"请选择广告账户"},on:{change:t.accountToAudience},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}},t._l(t.generaccount,function(t){return a("el-option",{key:t.code,attrs:{label:t.name+"("+t.fbId.split("_")[1]+")",value:t.fbId}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"国家"}},[a("el-select",{staticClass:"select",attrs:{filterable:"",placeholder:"请选择国家，可搜索"},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}},t._l(t.othercountries,function(t){return a("el-option",{key:t.code,attrs:{label:t.name+"("+t.code+")",value:t.code}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"应用"}},[a("el-select",{staticClass:"select",attrs:{disabled:"",placeholder:"请选择应用"},model:{value:t.actions,callback:function(e){t.actions=e},expression:"actions"}},t._l(t.applist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.applicationId}})}),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:""!=t.form.actions,expression:"form.actions != ''"}],staticClass:"cline timerange",attrs:{label:"平台"}},[a("el-radio-group",{on:{change:t.toGetsystem},model:{value:t.form.platform,callback:function(e){t.$set(t.form,"platform",e)},expression:"form.platform"}},t._l(t.createplatform,function(t){return a("el-radio",{key:t.marketType,attrs:{label:t.marketType}})}),1)],1)],1),t._m(1),a("el-form",{staticClass:"elform",attrs:{"label-position":"left","label-width":"110px",model:t.form}},[a("el-form-item",{staticClass:"cline",attrs:{label:"受众"}},[a("div",{staticClass:"targettip"},[t._v("定位至少符合以下一项条件的用户")]),a("el-select",{staticClass:"select accountselect",attrs:{"no-data-text":"暂无受众，请修改账户或新增受众",multiple:"",filterable:"",placeholder:"请选择受众，可搜索"},on:{change:t.targetToAccount},model:{value:t.form.target,callback:function(e){t.$set(t.form,"target",e)},expression:"form.target"}},t._l(t.genertarget,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label.split("_")[1]}},t._l(e.options,function(i){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:-1==t.form.notarget.indexOf(i.audienceId+"|"+e.label),expression:"form.notarget.indexOf(`${item.audienceId}|${group.label}`) == -1"}],key:i.code,attrs:{label:i.name+"（"+i.audienceId+"）",value:i.audienceId+"|"+e.label}})}),1)}),1),a("el-checkbox-group",{model:{value:t.form.iftarget,callback:function(e){t.$set(t.form,"iftarget",e)},expression:"form.iftarget"}},[a("el-checkbox",{attrs:{label:"1",name:"type"}},[t._v("不排除任何受众")])],1),1!=t.form.iftarget[0]?a("div",{staticClass:"targettip"},[t._v("排除至少符合以下一项条件的用户")]):t._e(),1!=t.form.iftarget[0]?a("el-select",{staticClass:"select accountselect",attrs:{"no-data-text":"暂无受众，请修改账户或新增受众",multiple:"",filterable:"",placeholder:"请选择受众，可搜索"},on:{change:t.targetToAccount},model:{value:t.form.notarget,callback:function(e){t.$set(t.form,"notarget",e)},expression:"form.notarget"}},t._l(t.genertarget,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label.split("_")[1]}},t._l(e.options,function(i){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:-1==t.form.target.indexOf(i.audienceId+"|"+e.label),expression:"form.target.indexOf(`${item.audienceId}|${group.label}`) == -1"}],key:i.code,attrs:{label:i.name+"（"+i.audienceId+"）",value:i.audienceId+"|"+e.label}})}),1)}),1):t._e()],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:""!=t.form.platform,expression:"form.platform != ''"}],staticClass:"cline",attrs:{label:"系统版本"}},[a("el-select",{staticClass:"selectHalf",attrs:{placeholder:"最低版本"},model:{value:t.form.minversion,callback:function(e){t.$set(t.form,"minversion",e)},expression:"form.minversion"}},t._l(t.system,function(t,e){return a("el-option",{key:e,attrs:{label:t.os+" "+t.version,value:t.version}})}),1),t._v("\n      --\n      "),a("el-select",{staticClass:"selectHalf",attrs:{placeholder:"最高版本"},model:{value:t.form.maxversion,callback:function(e){t.$set(t.form,"maxversion",e)},expression:"form.maxversion"}},t._l(t.system,function(t,e){return a("el-option",{key:e,attrs:{label:t.os+" "+t.version,value:t.version}})}),1),a("p",{staticStyle:{"font-size":"12px",color:"#999"}},[t._v("最高版本为空则无上限")])],1),a("el-form-item",{staticClass:"cline ctype",attrs:{label:"预算"}},[a("el-radio-group",{on:{change:t.moneytypeChange},model:{value:t.form.moneytype,callback:function(e){t.$set(t.form,"moneytype",e)},expression:"form.moneytype"}},[a("el-radio",{attrs:{label:"day_budget"}},[t._v("单日预算")]),a("el-radio",{attrs:{label:"total_budget"}},[t._v("总预算")])],1),a("div",{staticClass:"moneyinput"},[a("span",{staticClass:"moneyus"},[t._v("$")]),a("el-input",{staticClass:"minput",attrs:{placeholder:"请输入预算金额（单位：美元）"},model:{value:t.form.money,callback:function(e){t.$set(t.form,"money",e)},expression:"form.money"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"total_budget"==t.form.moneytype,expression:"form.moneytype == 'total_budget'"}],attrs:{label:"投放日期"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"total_budget"==t.form.moneytype,expression:"form.moneytype == 'total_budget'"}],staticClass:"cline timerange",attrs:{label:"投放时段"}},[a("el-radio-group",{model:{value:t.form.timerange,callback:function(e){t.$set(t.form,"timerange",e)},expression:"form.timerange"}},[a("el-radio",{attrs:{label:"allday"}},[t._v("全天投放广告")]),a("el-radio",{attrs:{label:"schedule"}},[t._v("分时间段投放")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"schedule"==t.form.timerange,expression:"form.timerange == 'schedule'"}],staticClass:"moneyinput"},[a("el-select",{staticClass:"selectsmall",attrs:{multiple:"",placeholder:"按广告受众所在时区"},model:{value:t.form.rdate,callback:function(e){t.$set(t.form,"rdate",e)},expression:"form.rdate"}},t._l(t.week,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.key}})}),1),a("el-time-picker",{staticClass:"timeselect",attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.form.rtime,callback:function(e){t.$set(t.form,"rtime",e)},expression:"form.rtime"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:""!=t.form.platform,expression:"form.platform != ''"}],attrs:{label:"设备"}},[a("el-checkbox-group",{model:{value:t.form.equip,callback:function(e){t.$set(t.form,"equip",e)},expression:"form.equip"}},["google_play"==t.form.platform?a("el-checkbox",{attrs:{label:"Android_Smartphone",name:"type"}},[t._v("安卓智能手机")]):t._e(),"itunes"==t.form.platform?a("el-checkbox",{attrs:{label:"iPhone",name:"type"}},[t._v("iPhone")]):t._e(),"itunes"==t.form.platform?a("el-checkbox",{attrs:{label:"iPad",name:"type"}},[t._v("iPad")]):t._e()],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"性别"}},[a("el-radio-group",{on:{change:t.getFilterCount},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"0"}},[t._v("全部")]),a("el-radio",{attrs:{label:"1"}},[t._v("男")]),a("el-radio",{attrs:{label:"2"}},[t._v("女")])],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"年龄"}},[a("el-slider",{attrs:{range:"",min:13,max:65,"format-tooltip":t.formatTooltip},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"语言"}},[a("el-select",{staticClass:"select",attrs:{multiple:"",filterable:"",placeholder:"请选择语言，可搜索"},model:{value:t.form.language,callback:function(e){t.$set(t.form,"language",e)},expression:"form.language"}},t._l(t.language,function(t){return a("el-option",{key:t.localeId,attrs:{label:t.name,value:t.localeId.toString()}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"兴趣"}},[a("el-select",{staticClass:"select",attrs:{multiple:"",filterable:"",placeholder:"请选择兴趣，可搜索"},model:{value:t.form.interest,callback:function(e){t.$set(t.form,"interest",e)},expression:"form.interest"}},t._l(t.interests,function(t){return a("el-option",{key:t.featureId,attrs:{label:t.name,value:t.featureId}})}),1)],1),a("el-form-item",{attrs:{label:"自动版位"}},[a("el-checkbox-group",{model:{value:t.form.auto,callback:function(e){t.$set(t.form,"auto",e)},expression:"form.auto"}},[a("el-checkbox",{attrs:{label:"1",name:"type"}},[t._v("是（Facebook自动选择最好的版位）")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1!=t.form.auto[0],expression:"form.auto[0] != 1"}],staticClass:"verpla",attrs:{label:"版位"}},[a("el-checkbox-group",{model:{value:t.form.verpla,callback:function(e){t.$set(t.form,"verpla",e)},expression:"form.verpla"}},[a("el-checkbox",{attrs:{label:"facebook",name:"type",disabled:t.form.verpla&&(-1!=t.form.verpla.indexOf("audience_network")||-1!=t.form.verpla.indexOf("messenger"))}},[t._v("Facebook")]),a("el-checkbox",{attrs:{label:"instagram",name:"type"}},[t._v("Instagram")]),a("el-checkbox",{attrs:{label:"audience_network",name:"type",disabled:t.form.verpla&&-1==t.form.verpla.indexOf("facebook")}},[t._v("Audience Network")]),a("el-checkbox",{attrs:{label:"messenger",name:"type",disabled:t.form.verpla&&-1==t.form.verpla.indexOf("facebook")}},[t._v("Messenger")])],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"出价"}},[a("el-radio-group",{on:{change:t.maxbidDefault},model:{value:t.form.bid,callback:function(e){t.$set(t.form,"bid",e)},expression:"form.bid"}},[a("el-radio",{attrs:{label:"cpi"}},[t._v("CPI")]),a("el-radio",{attrs:{label:"cpm"}},[t._v("CPM")])],1)],1),a("el-form-item",{attrs:{label:"竞价上限"}},[a("div",{staticClass:"moneyinput"},[a("span",{staticClass:"moneyus"},[t._v("$")]),a("el-input",{staticClass:"minput",attrs:{placeholder:t.maxbidplace},model:{value:t.form.maxbid,callback:function(e){t.$set(t.form,"maxbid",e)},expression:"form.maxbid"}})],1)]),a("el-form-item",{staticClass:"cline",attrs:{label:"用户过滤"}},[a("el-checkbox-group",{model:{value:t.form.filtra,callback:function(e){t.$set(t.form,"filtra",e)},expression:"form.filtra"}},[a("el-checkbox",{attrs:{label:"1",name:"filtra"}},[t._v("过滤已安装用户")]),a("el-checkbox",{attrs:{label:"2",name:"filtra"}},[t._v("过滤已关注用户")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.form.filtra&&-1!=t.form.filtra.indexOf("2"),expression:"form.filtra && form.filtra.indexOf('2') != -1"}],staticClass:"moneyinput"},[a("el-select",{staticClass:"select",attrs:{multiple:"",placeholder:"请选择要过滤的主页，必选"},model:{value:t.form.filtrapage,callback:function(e){t.$set(t.form,"filtrapage",e)},expression:"form.filtrapage"}},t._l(t.allpagelist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.pageId}})}),1)],1)],1)],1),t._m(2),a("el-form",{staticClass:"elform",attrs:{"label-position":"left","label-width":"110px",model:t.form}},[a("el-form-item",{staticClass:"cline ctype",attrs:{label:"广告组数"}},[a("el-input-number",{attrs:{min:1,label:"广告组数"},model:{value:t.form.adcount,callback:function(e){t.$set(t.form,"adcount",e)},expression:"form.adcount"}}),a("div",{staticClass:"countfont"},[t._v("每个广告系列包含的广告组数量，太多也会有内部竞争影响整体效率")])],1),a("el-form-item",{staticClass:"cline ctype",attrs:{label:"广告组创意数"}},[a("el-input-number",{attrs:{min:1,max:50,label:"广告组创意数"},on:{change:t.countChange},model:{value:t.form.count,callback:function(e){t.$set(t.form,"count",e)},expression:"form.count"}}),a("div",{staticClass:"countfont"},[t._v("每个广告组包含的创意数量。1-3个为佳，3个以上会有内部竞争影响整体效率")])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"auto"==t.form.type,expression:"form.type == 'auto'"}],staticClass:"cline",attrs:{label:"创意类型"}},[a("el-checkbox-group",{on:{change:t.getFilterCount},model:{value:t.form.createtype,callback:function(e){t.$set(t.form,"createtype",e)},expression:"form.createtype"}},[a("el-checkbox",{attrs:{label:"0",name:"type"}},[t._v("单图片")]),a("el-checkbox",{attrs:{label:"1",name:"type"}},[t._v("单视频")]),a("el-checkbox",{attrs:{label:"2",name:"type"}},[t._v("轮播")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"auto"==t.form.type,expression:"form.type == 'auto'"}],staticClass:"cline",attrs:{label:"选择分类"}},[a("el-select",{staticClass:"select",attrs:{multiple:"",placeholder:"选填，为空则不限制分类"},on:{change:t.getFilterCount},model:{value:t.form.classify,callback:function(e){t.$set(t.form,"classify",e)},expression:"form.classify"}},t._l(t.classifyforplan,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"auto"==t.form.type,expression:"form.type == 'auto'"}],staticClass:"cline ctype",attrs:{label:"创意数量"}},[a("el-input-number",{attrs:{min:1,label:"创意数量"},on:{change:t.createcountChange},model:{value:t.form.createcount,callback:function(e){t.$set(t.form,"createcount",e)},expression:"form.createcount"}}),a("div",{staticClass:"countfont"},[t._v("符合条件的创意总数为："+t._s(t.classifyfiltercount))])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"auto"==t.form.type,expression:"form.type == 'auto'"}],staticClass:"cline cline-strategy",attrs:{label:"选择策略"}},[a("el-radio-group",{staticClass:"strategy",model:{value:t.form.tactics,callback:function(e){t.$set(t.form,"tactics",e)},expression:"form.tactics"}},[a("el-radio",{attrs:{label:1}},[t._v("新创意优先")]),a("el-radio",{attrs:{label:2}},[t._v("完全随机")]),a("el-radio",{attrs:{label:3}},[t._v("高点击率优先")]),a("el-radio",{attrs:{label:4}},[t._v("视频/图片不同优先")])],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"不同策略会选到不同的创意，请根据需求选择合适的策略",placement:"bottom-start"}},[a("i",{staticClass:"el-icon-question"})])],1)],1),a("div",{staticClass:"elsubmit"},[a("el-button",{attrs:{type:"primary"},on:{click:t.toSubmit}},[t._v("提 交")])],1)],1)},ol=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eltitle"},[a("b",[t._v("基础信息")]),a("span",[t._v("推广计划保存后可编辑，也可多次生成广告")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eltitle"},[a("b",[t._v("广告组")]),a("span",[t._v("同1个广告系列下的所有广告组的条件一致")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eltitle"},[a("b",[t._v("结构和创意")]),a("span",[t._v("根据广告组数量、广告组创意数和创意数生成相对应的广告系列数量")])])}],rl={props:["createinfo"],components:{GenerGuide:_r},data:function(){return{state:"",state2:"",state3:"",week:[{name:"周一",key:1},{name:"周二",key:2},{name:"周三",key:3},{name:"周四",key:4},{name:"周五",key:5},{name:"周六",key:6},{name:"周七",key:7}],maxbidplace:"cpi"==this.createinfo.billingType?"请输入竞价上限（单位：美元）":"选填",form:{name:this.createinfo.name,type:this.createinfo.createType,country:this.createinfo.country,platform:this.createinfo.platform,target:this.createinfo.included,iftarget:this.createinfo.excludedAudiences?[]:["1"],notarget:this.createinfo.excluded,minversion:this.createinfo.version,maxversion:this.createinfo.maxVersion?this.createinfo.maxVersion:"",moneytype:this.createinfo.budgetType,money:"day_budget"==this.createinfo.budgetType?this.createinfo.dayBudget/100:this.createinfo.totalBudget/100,date:[this.createinfo.startTime?new Date(this.createinfo.startTime):new Date,this.createinfo.endTime?new Date(this.createinfo.endTime):new Date],timerange:this.createinfo.scheduleType,rdate:this.createinfo.days?this.createinfo.days:[],rtime:[new Date(2016,9,10,this.createinfo.startMinute?this.createinfo.startMinute.split(":")[0]:0,0,0),new Date(2016,9,10,this.createinfo.endMinute?this.createinfo.endMinute.split(":")[0]:23,0,0)],equip:this.createinfo.device,sex:this.createinfo.gender?this.createinfo.gender[0]:"",age:[this.createinfo.minAge,this.createinfo.maxAge],language:this.createinfo.locales?this.createinfo.locales:[],interest:this.createinfo.interest?this.createinfo.interest:[],auto:this.createinfo.position&&0==this.createinfo.position.length?["1"]:[],verpla:this.createinfo.position?this.createinfo.position:[],bid:this.createinfo.billingType,maxbid:""===this.createinfo.bidAmount||null===this.createinfo.bidAmount?"":this.createinfo.bidAmount/100,filtra:[this.createinfo.filteInstalledUser?"1":"",this.createinfo.filteAttentionUser&&this.createinfo.filteAttentionUser.length>0?"2":""],filtrapage:this.createinfo.filteAttentionUser?this.createinfo.filteAttentionUser:[],account:this.createinfo.fbAccountIds,adcount:this.createinfo.adsetNum,count:this.createinfo.adNum,createtype:this.createinfo.creativeType?this.createinfo.creativeType:[],classify:this.createinfo.creativeClassify?this.createinfo.creativeClassify:[],createcount:this.createinfo.creativeNum,tactics:this.createinfo.creativeStrategy?this.createinfo.creativeStrategy:1},msg:{name:"请输入推广计划名称",country:"请选择国家",platform:"请选择平台",version:"请选择系统版本",money:"请输入预算金额",date:"请选择投放日期",rdate:"请选择星期",equip:"请选择设备",language:"请选择语言",verpla:"请选择版位",maxbid:"请输入竞价上限",maxbidmax:"竞价上限必须大于0.02美元",filtra:"请选择用户过滤",filtrapage:"请选择需要过滤的主页",createtype:"请选择创意类型"}}},mounted:function(){if(this.actions){var t=this.actions;if(this.$store.dispatch("getCreatePlatform",{applicationid:t}),!this.form.country)return;var e=this.form.country,a="cpi"==this.form.bid?"APP_INSTALLS":"IMPRESSIONS";this.$store.dispatch("bidGuide",{country:e,fbApplicationId:t,billingEvent:a})}if(this.toGetsystem(),0!=this.form.account.length){var i=this.form.account.join(",");this.$store.dispatch("generTargetList",{fb_account_ids:i}),this.getFilterCount()}else this.SETSTATE({k:"genertarget",v:[]})},computed:Object(M["a"])({},Object(P["d"])(["itemlist","othercountries","language","interests","applist","createplatform","system","allpagelist","genertarget","generaccount","classifyforplan","classifyfiltercount"]),{equip:function(){return this.form.platform},genernotarget:function(){var t=this;return this.genertarget.filter(function(e){return-1==t.form.target.indexOf(e.id.toString())})},generhastarget:function(){var t=this;return this.genertarget.filter(function(e){return-1==t.form.notarget.indexOf(e.id.toString())})},actions:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).applicationId}}),watch:{actions:function(t,e){if(t){var a=t;this.$store.dispatch("getCreatePlatform",{applicationid:a})}},equip:function(t,e){this.form.equip="google_play"==t?["Android_Smartphone"]:["iPhone","iPad"]},"form.name":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.type":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.country":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.platform":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.target":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.notarget":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.minversion":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.maxversion":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.moneytype":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.money":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.sex":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.language":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.interest":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.bid":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.maxbid":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.filtrapage":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.account":{handler:function(t,e){this.$emit("changeEdit",!1)}},"form.count":{handler:function(t,e){this.$emit("changeEdit",!1)}}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{getFilterCount:function(){if(0!=this.form.createtype.length&&this.form.country){var t=this.form.country,e=this.form.sex,a=this.$route.params.id,i=this.form.createtype.join(","),s=this.form.classify.join(",");this.$store.dispatch("classifyFilterCountNoPlan",{country:t,gender:e,projectId:a,creativetype:i,classify:s})}else this.SETSTATE({k:"classifyfiltercount",v:0})},showBidChart:function(){if(this.form.country){var t=this.form.country,e="cpi"==this.form.bid?"APP_INSTALLS":"IMPRESSIONS";this.$store.dispatch("bidGuide",{country:t,fbApplicationId:this.actions,billingEvent:e})}},accountToAudience:function(){if(this.form.target=[],this.form.notarget=[],0!=this.form.account.length){var t=this.form.account.join(",");this.$store.dispatch("generTargetList",{fb_account_ids:t})}else this.SETSTATE({k:"genertarget",v:[]})},targetToAccount:function(){},moneytypeChange:function(){this.form.money=""},formatTooltip:function(t){if(65==t)return"65+"},maxbidDefault:function(){"cpi"==this.form.bid?(this.form.maxbid="0.02",this.maxbidplace="请输入竞价上限（单位：美元）"):(this.form.maxbid="",this.maxbidplace="选填")},toSubmit:function(){console.log(this.form);var t=this,e=this.dataChecked();if(e[0]){var a=[],i=this.$createElement,s=Ns()((this.form.date[1]-this.form.date[0])/864e5);"day_budget"==this.form.moneytype&&ur()(this.form.money)>=5e3&&a.push(i("p",null,[i("span",{style:"color:#999"},"每日预算："),i("span",{style:"color:red"},"$".concat(this.form.money))])),"total_budget"==this.form.moneytype&&ur()(this.form.money)/s>=5e3&&a.push(i("p",null,[i("span",{style:"color:#999"},"总预算："),i("span",{style:"color:red"},"$".concat(this.form.money))])),"cpi"==this.form.bid&&this.form.maxbid>=50&&a.push(i("p",null,[i("span",{style:"color:#999"},"CPI出价："),i("span",{style:"color:red"},"$".concat(this.form.maxbid))])),"cpm"==this.form.bid&&this.form.maxbid>=50&&a.push(i("p",null,[i("span",{style:"color:#999"},"CPM出价："),i("span",{style:"color:red"},"$".concat(this.form.maxbid))])),a.length>0?this.$msgbox({title:"创建推广计划",message:i("div",null,[i("span",null,"确认创建此推广计划吗？")].concat(a)),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.toDispatch()}).catch(function(){}):t.toDispatch()}else Object(H["g"])(e[1])},toDispatch:function(){var t={},e={};this.form.target.forEach(function(e){var a=e.split("|"),i=a[1];t[i]||(t[i]=[]),t[i].push(a[0])}),this.form.notarget.forEach(function(t){var a=t.split("|"),i=a[1];e[i]||(e[i]=[]),e[i].push(a[0])});var a={planInfoVO:{adNum:this.form.count,applicationId:this.actions,bidAmount:""===this.form.maxbid?null:Ns()(100*this.form.maxbid),billingType:this.form.bid,budgetType:this.form.moneytype,country:this.form.country,createType:this.form.type,creativeNum:this.form.createcount,creativeType:this.form.createtype,dayBudget:Ns()(100*this.form.money),days:this.form.rdate,device:"itunes"==this.form.platform?this.form.equip.filter(function(t){return"iPhone"==t||"iPad"==t}):this.form.equip.filter(function(t){return"Android_Smartphone"==t}),endMinute:this.$timeFormat(this.form.rtime[1],"HH")+":00",endTime:new Date(this.form.date[1]).getTime(),filteAttentionUser:this.form.filtrapage,filteInstalledUser:-1!=this.form.filtra.indexOf("1")?"yes":"",gender:[this.form.sex],goalBid:"",interest:this.form.interest,locales:this.form.language,maxAge:this.form.age[1],minAge:this.form.age[0],name:this.form.name,platform:this.form.platform,position:"1"==this.form.auto[0]?[]:this.form.verpla,projectId:this.$route.params.id,scheduleType:this.form.timerange,startMinute:this.$timeFormat(this.form.rtime[0],"HH")+":00",startTime:new Date(this.form.date[0]).getTime(),totalBudget:Ns()(100*this.form.money),fbAccountIds:this.form.account,includeAudiences:ce()(t),excludedAudiences:1==this.form.iftarget[0]?"":ce()(e),version:this.form.minversion,maxVersion:this.form.maxversion?this.form.maxversion:null,adsetNum:this.form.adcount,creativeStrategy:this.form.tactics,creativeClassify:this.form.classify},route:this.$router,projectid:this.$route.params.id};this.$emit("changeEdit",!0),this.$store.dispatch("createGener",{option:a})},dataChecked:function(){if(""==this.form.name)return[!1,this.msg.name];if(""==this.form.country)return[!1,this.msg.country];if(""==this.form.platform)return[!1,this.msg.platform];if(""==this.form.minversion)return[!1,this.msg.version];if(""==this.form.money)return[!1,this.msg.money];if("total_budget"==this.form.moneytype){if(!this.form.date||0==this.form.date.length)return[!1,this.msg.date];if("schedule"==this.form.timerange&&0==this.form.rdate.length)return[!1,this.msg.rdate]}return 0==this.form.equip.filter(function(t){return t}).length?[!1,this.msg.equip]:0==this.form.auto.length&&0==this.form.verpla.length?[!1,this.msg.verpla]:"cpi"==this.form.bid&&""==this.form.maxbid?[!1,this.msg.maxbid]:""!=this.form.maxbid&&(isNaN(Ns()(this.form.maxbid))||this.form.maxbid<.02)?[!1,this.msg.maxbidmax]:-1!=this.form.filtra.indexOf("2")&&0==this.form.filtrapage.length?[!1,this.msg.filtrapage]:"auto"==this.form.type&&0==this.form.createtype.length?[!1,this.msg.createtype]:[!0]},toGetsystem:function(){var t="itunes"==this.form.platform?"ios":"android";this.$store.dispatch("getSystem",{os:t})},countChange:function(){},createcountChange:function(){}})},cl=rl,ll=(a("7bdc"),Object(C["a"])(cl,nl,ol,!1,null,"32696f64",null)),ul=ll.exports,dl={beforeRouteLeave:function(t,e,a){this.ifedit?a():this.$confirm("是否确定离开当前页面","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a()}).catch(function(){})},data:function(){return{status:!1,status1:!1,ifedit:!0}},components:{CopyForm:ul},created:function(){this.SETSTATE({k:"classifyfiltercount",v:0})},mounted:function(){this.$store.dispatch("otherCountries"),this.$store.dispatch("getLanguage"),this.$store.dispatch("getInterests"),this.$store.dispatch("getApplist"),this.$store.dispatch("getAllpages");var t=this.$route.params.pid;this.$store.dispatch("getCreateInfo",{plan_id:t});var e=this.$route.params.id,a=this.$route.params.tid?this.$route.params.tid:"";this.$store.dispatch("generAccountList",{audience_ids:a,project_id:e}),this.$store.dispatch("getClassifyForPlan",e)},computed:Object(M["a"])({},Object(P["d"])(["itemlist","disinfo"]),{projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName}}),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{changeEdit:function(t){this.ifedit=t},cancelAddbm:function(t){this[t]=!1}})},ml=dl,pl=(a("e81c"),Object(C["a"])(ml,il,sl,!1,null,"6bfad000",null)),fl=pl.exports,hl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ad",style:{height:t.documentHeight+"px"}},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("广告管理")])],1),a("div",{staticClass:"ctrlbutton"},[a("el-select",{staticClass:"selectAccount",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"广告账户"},on:{change:t.toSortAccount},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}},t._l(t.adaccountlist,function(t){return a("el-option",{key:t.fbId,attrs:{label:t.name+(-1!=t.fbId?"("+t.fbId+")":""),value:t.fbId}})}),1),a("el-date-picker",{staticClass:"datebox",attrs:{type:"daterange","range-separator":"至",clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.dateSort},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("div",{staticClass:"ctrlbutton"},[t.disCondition.length<5?a("el-dropdown",{staticClass:"select",attrs:{"split-button":"",type:"primary"},on:{command:t.handleCommand}},[t._v("\n      搜索\n      "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"fbCampaignId_广告系列编号"}},[t._v("广告系列编号")]),a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"campaignName_广告系列名称"}},[t._v("广告系列名称")]),a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"fbAdSetId_广告组编号"}},[t._v("广告组编号")]),a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"adSetName_广告组名称"}},[t._v("广告组名称")]),a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"fbAdId_广告编号"}},[t._v("广告编号")]),a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"adName_广告名称"}},[t._v("广告名称")]),a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"planId_推广计划编号"}},[t._v("推广计划编号")]),a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"planName_推广计划名称"}},[t._v("推广计划名称")])],1)],1):t._e(),t.disCondition.length<5?a("div",{staticClass:"at-dropdown",on:{mouseleave:t.searchStatus}},[t._m(0),a("div",{staticClass:"droplist",style:{width:""!=t.firstSearch?"360px":"160px"}},[a("div",{staticClass:"listarr",attrs:{id:"firstList"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.conditionlist.length>0,expression:"conditionlist.length > 0"}],staticClass:"list",on:{mouseenter:t.getSaveSearch}},[t._v("\n            已保存条件\n            "),a("i",{staticClass:"el-icon-caret-right"})]),t._l(t.searchList,function(e,i){return a("div",{key:i,staticClass:"list",on:{mouseenter:function(a){t.searchClick(e.name,e.key)}}},[t._v("\n            "+t._s(e.name)+"\n            "),a("i",{staticClass:"el-icon-caret-right"})])})],2),"savecondition"!=t.firstKey?a("div",{staticClass:"listarr otherarr",attrs:{id:"secondList"}},t._l(t.secondSearchList,function(e,i){return a("div",{key:i,class:{list:!0,selected:e.checked},on:{click:function(a){t.selectSearch(e.cname,e.checked,e.key)}}},[t._v(t._s(e.cname))])}),0):t._e(),"savecondition"==t.firstKey?a("div",{staticClass:"listarr otherarr",attrs:{id:"secondList"}},t._l(t.conditionlist,function(e,i){return a("div",{key:i,staticClass:"list",on:{click:function(a){t.selectSaveSearch(e.id)}}},[t._v("\n            "+t._s(e.tagName)+"\n            "),a("i",{staticClass:"el-icon-close",on:{click:function(a){a.stopPropagation(),t.deleteSaveSearch(e.id)}}})])}),0):t._e()])]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.searchType,expression:"searchType == 1"}],staticClass:"conditionLine"},[a("p",{staticClass:"firstName"},[t._v(t._s(t.prevFirstSearch))]),a("div",{staticClass:"dealType"},[a("el-radio-group",{model:{value:t.conditiondeal,callback:function(e){t.conditiondeal=e},expression:"conditiondeal"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[t._v("是")]),a("el-radio",{staticClass:"radio",attrs:{label:2}},[t._v("不是")])],1)],1),a("p",{staticClass:"firstName"},[a("el-select",{staticClass:"elselect",attrs:{multiple:"",placeholder:"请选择",size:"mini"},on:{change:t.downselectChange},model:{value:t.conditionSelArr,callback:function(e){t.conditionSelArr=e},expression:"conditionSelArr"}},t._l(t.secondDownList,function(t,e){return a("el-option",{key:e,attrs:{label:t.cname,value:t.cname}})}),1)],1),a("p",{staticClass:"ctrl"},[a("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:"",size:"mini"},on:{click:t.determineSearch}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"mini"},on:{click:t.cancelSearch}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.searchType,expression:"searchType == 2"}],staticClass:"conditionLine"},[a("p",{staticClass:"firstName"},[t._v(t._s(t.conditionSel))]),a("div",{staticClass:"dealType"},[a("el-select",{staticClass:"elselect",attrs:{placeholder:"请选择",size:"mini"},model:{value:t.conditiondeal,callback:function(e){t.conditiondeal=e},expression:"conditiondeal"}},[a("el-option",{key:1,attrs:{label:"大于",value:1}}),a("el-option",{key:2,attrs:{label:"小于",value:2}}),a("el-option",{key:3,attrs:{label:"介于",value:3}}),a("el-option",{key:4,attrs:{label:"不介于",value:4}})],1)],1),a("el-input-number",{staticClass:"numberinput",attrs:{size:"mini",precision:2,min:0,step:.1},model:{value:t.conditionState,callback:function(e){t.conditionState=e},expression:"conditionState"}}),-1!=t.specilkey100.indexOf(t.conditionSelkey)?a("span",{staticClass:"unit"},[t._v("%")]):t._e(),a("el-input-number",{directives:[{name:"show",rawName:"v-show",value:3==t.conditiondeal||4==t.conditiondeal,expression:"conditiondeal == 3 || conditiondeal == 4"}],staticClass:"numberinput",attrs:{size:"mini",precision:2,min:0,step:.1},model:{value:t.conditionState2,callback:function(e){t.conditionState2=e},expression:"conditionState2"}}),-1==t.specilkey100.indexOf(t.conditionSelkey)||3!=t.conditiondeal&&4!=t.conditiondeal?t._e():a("span",{staticClass:"unit"},[t._v("%")]),a("p",{staticClass:"ctrl"},[a("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:"",size:"mini"},on:{click:t.determineSearch}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"mini"},on:{click:t.cancelSearch}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.searchType,expression:"searchType == 3"}],staticClass:"conditionLine"},[a("p",{staticClass:"firstName"},[t._v(t._s(t.conditionSel))]),a("div",{staticClass:"dealType"},[a("el-radio-group",{model:{value:t.conditiondeal,callback:function(e){t.conditiondeal=e},expression:"conditiondeal"}},[a("el-radio",{staticClass:"radio",attrs:{label:1}},[t._v("包含")]),a("el-radio",{staticClass:"radio",attrs:{label:2}},[t._v("不包含")])],1)],1),a("el-input",{staticClass:"ptinput",attrs:{placeholder:"多个关键词空格隔开",size:"mini"},model:{value:t.conditionInput,callback:function(e){t.conditionInput=e},expression:"conditionInput"}}),a("p",{staticClass:"ctrl"},[a("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:"",size:"mini"},on:{click:t.determineSearch}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"mini"},on:{click:t.cancelSearch}})],1)],1),a("div",{staticClass:"tagall"},[t._l(t.disCondition,function(e,i){return a("span",{key:i,staticClass:"tagline",on:{click:function(a){t.editCondition(e)}}},[a("el-tag",{staticClass:"tag",attrs:{closable:"",type:""},on:{close:function(a){t.deleteCondtion(e.regkey)}}},[t._v(t._s(e.name))])],1)}),t.disCondition.length>0?a("div",{staticClass:"saveClear"},[a("el-button",{attrs:{type:"primary"},on:{click:t.setCondition}},[t._v("保存")]),a("el-button",{on:{click:t.clearLocalCondition}},[t._v("清空")])],1):t._e()],2)],1),a("div",{staticClass:"tablist"},[a("el-tabs",{staticClass:"eltabs",attrs:{type:"card"},on:{"tab-click":t.resetPageData},model:{value:t.tabname,callback:function(e){t.tabname=e},expression:"tabname"}},[a("el-tab-pane",{attrs:{label:t.mutilselect.length>0?"广告系列（已选"+t.mutilselect.length+"个）":"广告系列",name:"first"}},[a("ad-setbox",{ref:"campaignName",attrs:{opDefault:[{name:"广告系列名称",key:"campaignName",tool:!0,link:!0}],defaultOption:t.defaultOption,type:"campaignName"},on:{wantEdit:t.toCreateAd,wantCopy:t.wantCopy,changeReplace:t.changeReplace,toCreateAd:t.toCreateAd,selectSort:t.selectSort,showOptionbox:t.showOptionbox,showRemainBox:t.showRemainBox,tabJump:t.tabJump,ruleCreate:t.ruleCreate,ruleAdd:t.ruleAdd,ruleRemove:t.ruleRemove}})],1),a("el-tab-pane",{attrs:{label:t.mutilsetselect.length>0?"广告组（已选"+t.mutilsetselect.length+"个）":"广告组",name:"second"}},[a("ad-setbox",{ref:"adSetName",attrs:{opDefault:[{name:"广告组名称",key:"adSetName",tool:!0,link:!0}],defaultOption:t.defaultOption,type:"adSetName"},on:{wantEdit:t.toCreateAd,wantCopy:t.wantCopy,changeReplace:t.changeReplace,toCreateAd:t.toCreateAd,selectSort:t.selectSetSort,showOptionbox:t.showOptionbox,showRemainBox:t.showRemainBox,tabJump:t.tabJump,ruleCreate:t.ruleCreate,ruleAdd:t.ruleAdd,ruleRemove:t.ruleRemove}})],1),a("el-tab-pane",{attrs:{label:t.mutiladselect.length>0?"广告（已选"+t.mutiladselect.length+"个）":"广告",name:"third"}},[a("ad-setbox",{ref:"adName",attrs:{opDefault:[{name:"广告名称",key:"adName",tool:!0}],defaultOption:t.defaultOption,type:"adName"},on:{wantEdit:t.toCreateAd,wantCopy:t.wantCopy,changeReplace:t.changeReplace,toCreateAd:t.toCreateAd,selectSort:t.selectAdSort,showOptionbox:t.showOptionbox,showRemainBox:t.showRemainBox,tabJump:t.tabJump,ruleCreate:t.ruleCreate,ruleAdd:t.ruleAdd,ruleRemove:t.ruleRemove}})],1)],1),a("div",{staticClass:"updatetime"},[a("el-popover",{attrs:{placement:"top",width:"320",trigger:"hover",content:"123",disabled:!(t.copyjoblistdetail.length>1)}},[t._l(t.copyjoblistdetail,function(e,i){return a("div",{key:i,staticClass:"progressDetail"},[a("div",{staticClass:"prgs"},[a("el-progress",{attrs:{"show-text":!1,"stroke-width":10,percentage:e.percent,status:"success"}})],1),a("span",{staticClass:"prgsfont"},[t._v(t._s(e.name)+" "+t._s(e.completed)+"/"+t._s(e.total))])])}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.jobtotal>0,expression:"jobtotal > 0"}],staticClass:"prgsline",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"prgs"},[a("el-progress",{attrs:{"show-text":!1,"stroke-width":10,percentage:t.jobtotal?100*t.jobcomplete/t.jobtotal:0,status:"success"}})],1),a("span",{staticClass:"prgsfont"},[t._v("正在发布"+t._s(t.jobcomplete)+"/"+t._s(t.jobtotal))])])],2),a("i",{staticClass:"el-icon-refresh",staticStyle:{cursor:"pointer"},on:{click:t.resetPageData}}),t._v("\n      更新时间："+t._s(t.datestatus)+"\n      "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Appsflyer相关字段每天更新一次",placement:"top-start"}},[a("i",{staticClass:"el-icon-warning"})])],1)],1),a("save-condition",{ref:"saveCondtion",on:{save:t.saveCondtion}}),a("ad-create",{ref:"adCreate"}),a("seek-replace",{ref:"seekReplace",attrs:{type:t.tabtype},on:{resetPageData:t.resetPageData}}),a("ad-copy",{ref:"adCopy"}),a("list-option",{ref:"listOption",attrs:{status:t.optionstatus,type:t.tabtype,customEvent:t.adcustomevent,customUnit:t.customunit,opDefault:t.opDefault,setDefaultOption:t.defaultListOption},on:{outOption:t.outOption,hideOptionbox:t.hideOptionbox}}),a("import-remain",{attrs:{status:t.remainstatus,type:t.tabtype},on:{"update:status":function(e){t.remainstatus=e},hideRemainBox:t.hideRemainBox}}),a("rule-select",{ref:"ruleSelect",attrs:{status:t.ruleselectstatus},on:{"update:status":function(e){t.ruleselectstatus=e}}}),a("rule-remove",{ref:"ruleRemove",attrs:{status:t.ruleremovestatus},on:{"update:status":function(e){t.ruleremovestatus=e}}}),a("rule-add",{ref:"ruleAdd",attrs:{status:t.ruleaddstatus},on:{"update:status":function(e){t.ruleaddstatus=e}}})],1)},_l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"theme"},[a("span",[t._v("\n          筛选\n          "),a("i",{staticClass:"el-icon-arrow-down"})])])}],vl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"deletedialog",attrs:{title:"应用于"+t.id+t.typename+"的规则",visible:t.status},on:{close:t.toCancel}},[a("div",{staticClass:"fonttip important"},[a("p",[t._v("以下是应用于此对象的规则，选择后可移除：")]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.hascantselect,expression:"hascantselect"}],staticClass:"notice"},[t._v("置灰列表不可删除，请直接删除此规则")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.singlerules,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",selectable:t.ifSelect,fixed:"",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"",label:"操作与条件"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.executionSpecName))]),a("p",{staticClass:"childtype"},[t._v(t._s(e.row.evaluationSpecName))])]}}])})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.toCancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitExecute}},[t._v("移 除")])],1)],1)},gl=[],bl={props:["status"],data:function(){return{id:"",type:"",typename:"",ruleids:[],level:"",hascantselect:!1}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{ifSelect:function(t,e){return t.ruleObjCount>1||(this.hascantselect=!0,!1)},toCancel:function(){this.$emit("update:status",!1),this.ruleids=[],this.SETSTATE({k:"singlerules",v:[]}),this.hascantselect=!1},submitExecute:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0!=this.ruleids.length){t.next=3;break}return Object(H["g"])("请选择规则"),t.abrupt("return");case 3:return e=this.id,a=this.ruleids.join(","),t.next=7,this.$store.dispatch("removeRules",{objId:e,ruleIds:a,objLevel:this.level});case 7:t.sent,this.toCancel();case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleSelectionChange:function(t){this.ruleids=t.map(function(t){return t.fbId})},initData:function(t,e){switch(this.id=t,this.type=e,e){case"campaignName":this.typename="广告系列",this.level="CAMPAIGN";break;case"adSetName":this.typename="广告组",this.level="ADSET";break;case"adName":this.typename="广告",this.level="AD";break}this.$store.dispatch("singleRules",t)}}),computed:Object(M["a"])({},Object(P["d"])(["singlerules"])),watch:{}},yl=bl,kl=(a("8184"),Object(C["a"])(yl,vl,gl,!1,null,"7d8e1344",null)),El=kl.exports,Cl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"deletedialog",attrs:{title:"应用广告账户"+t.accountid+"的规则",visible:t.status},on:{close:t.toCancel}},[a("p",{staticClass:"fonttip important"},[a("b",[t._v("可选择规则并应用到已选择的对象中")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.adrulelist,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",fixed:"",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"",label:"操作与条件"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.executionSpecName))]),a("p",{staticClass:"childtype"},[t._v(t._s(e.row.evaluationSpecName))])]}}])})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.toCancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitExecute}},[t._v("应 用")])],1)],1)},Ol=[],wl={props:["status"],data:function(){return{accountid:"",objids:[],ruleids:[],level:""}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{adInit:function(t,e){var a="";switch(this.accountid=t[0].accountId,e){case"campaignName":this.level="CAMPAIGN",a="campaignId";break;case"adSetName":this.level="ADSET",a="adsetId";break;case"adName":this.level="AD",a="adId";break}this.objids=t.map(function(t){return t[a]}),this.$store.dispatch("ruleListForAdd",{fbAccountIds:this.accountid,level:this.level})},toCancel:function(){this.$emit("update:status",!1),this.SETSTATE({k:"adrulelist",v:[]}),this.objids=[],this.ruleids=[]},submitExecute:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0!=this.ruleids.length){t.next=3;break}return Object(H["g"])("请选择规则"),t.abrupt("return");case 3:return e=this.objids.join(","),a=this.ruleids.join(","),t.next=7,this.$store.dispatch("useRules",{objIds:e,ruleIds:a,objLevel:this.level});case 7:i=t.sent,i.data&&this.toCancel();case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleSelectionChange:function(t){console.log(t),this.ruleids=t.map(function(t){return t.fbId})}}),computed:Object(M["a"])({},Object(P["d"])(["adrulelist"])),watch:{}},Il=wl,Tl=(a("311c"),Object(C["a"])(Il,Cl,Ol,!1,null,"35c5031a",null)),Al=Tl.exports,xl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"outbox"},[a("div",{staticClass:"ctrlbutton"},[a("div",{staticClass:"createbutton"},[a("el-button",{attrs:{type:"primary"},on:{click:t.createAd}},[t._v("创建")])],1),a("el-dropdown",{staticClass:"select",attrs:{"split-button":"",type:"primary"},on:{click:function(e){t.toCtrlAll("Edit")},command:t.handleCommand}},[t._v("\n      编辑\n      "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"a",disabled:t.archivedbutton}},[t._v("开启")]),a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"b",disabled:t.archivedbutton}},[t._v("关闭")]),a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"c",disabled:t.archivedbutton}},[t._v("重命名")]),a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"d",disabled:t.archivedbutton}},[t._v("查找替换")])],1)],1),a("div",{staticClass:"createbutton"},[a("el-button",{attrs:{type:"text",icon:"el-icon-news",disabled:t.archivedbutton},on:{click:function(e){t.toCtrlAll("Copy")}}},[t._v("复制")])],1),a("div",{staticClass:"createbutton"},[a("el-button",{attrs:{type:"text",icon:"el-icon-menu",disabled:t.archivedbutton},on:{click:function(e){t.toCtrlAll("ARCHIVED")}}},[t._v("归档")])],1),a("div",{staticClass:"createbutton"},[a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(e){t.toCtrlAll("DELETED")}}},[t._v("删除")])],1),a("div",{staticClass:"createbutton"},[a("el-dropdown",{on:{command:t.ruleCtrl}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n          规则\n          "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"a",disabled:0==t.mutilselect.length}},[t._v("创建规则")]),a("el-dropdown-item",{attrs:{command:"b",disabled:0==t.mutilselect.length}},[t._v("应用现有规则")])],1)],1)],1),a("p",{staticClass:"download"},[a("span",{style:{color:t.exportstatus?"":"#999"},on:{click:t.outTable}},[t._v("\n        导出全部\n        "),a("svg-icon",{style:{color:t.exportstatus?"":"#999"},attrs:{svgname:"save",svgclass:"save"}})],1)]),a("div",{staticClass:"at-dropdown",on:{mouseenter:function(e){t.sortDown=!t.sortDown},mouseleave:t.searchStatus}},[t._m(0),a("div",{directives:[{name:"show",rawName:"v-show",value:t.sortDown,expression:"sortDown"}],staticClass:"droplist",style:{width:t.firstSearch?"280px":"160px"}},[a("div",{staticClass:"listarr",attrs:{id:"firstList"}},[a("div",{staticClass:"list",on:{mouseenter:t.sweepCare,click:t.clearCare}},[t._v("清空所有细分")]),t._l(t.searchList,function(e,i){return a("div",{key:i,staticClass:"list",on:{mouseenter:function(a){t.searchClick(e.name,e.key,e.importkey)},click:function(a){t.selectCare("",e.importkey)}}},[t._v("\n            "+t._s(e.name)+"\n            "),e.importkey?t._e():a("i",{staticClass:"el-icon-caret-right"})])})],2),a("div",{staticClass:"listarr rightarr",attrs:{id:"secondList"}},t._l(t.secondSearchList,function(e,i){return a("div",{key:i,class:{list:!0,selected:e.checked},on:{click:function(a){t.selectCare(e.key,e.key)}}},[t._v(t._s(e.cname))])}),0)])]),a("p",{staticClass:"autolist"},[a("span",{on:{click:t.importRemain}},[a("i",{staticClass:"el-icon-download"}),t._v("\n        导入留存\n      ")]),a("span",{on:{click:t.outListOption}},[a("i",{staticClass:"el-icon-tickets"}),t._v("\n        自定义列\n      ")])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.adlisttimeout,expression:"adlisttimeout"}],staticClass:"timeout"},[t._v("\n    加载失败请\n    "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.toGetdata(!1)}}},[t._v("重试")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.adlisttimeout,expression:"!adlisttimeout"}],staticClass:"list",attrs:{id:"AdList"}},[a("ad-setlist",{attrs:{customOption:t.customOptionDefault,type:t.type},on:{toCopy:t.toCopy,toEdit:t.toEdit,reName:t.reName,mutilSelect:t.mutilSelect,tableSort:t.tableSort,tabJump:t.tabJump,setRule:t.setRule}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.adlisttimeout,expression:"!adlisttimeout"}],staticClass:"pageswitch"},[a("el-pagination",{attrs:{"current-page":t.pageindex,"page-sizes":[20,50,80],"page-size":t.adpagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.adtotal},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1),a("ad-rename",{ref:"reName",attrs:{type:t.type}})],1)},Sl=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"theme"},[a("span",[t._v("\n          细分数据\n          "),a("i",{staticClass:"el-icon-arrow-down"})])])}],jl=(a("55dd"),a("b6d0")),Dl=a.n(jl),Ml=a("75fc"),Pl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{key:t.customOption.map(function(t){return t.name}).join(","),ref:"multipleTable"+t.type,staticStyle:{width:"100%"},attrs:{id:"outAdList",data:t.datalist,height:600,border:"","show-summary":"","summary-method":t.getSummaries},on:{"selection-change":t.handleSelectionChange,"sort-change":t.sortChange}},[a("el-table-column",{attrs:{type:"selection",selectable:t.ifSelect,fixed:"",width:"55"}}),a("el-table-column",{attrs:{label:"状态",fixed:"",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{directives:[{name:"show",rawName:"v-show",value:e.row.jobStatus,expression:"scope.row.jobStatus"}],staticClass:"el-icon-loading jobstatus"}),e.row.iscare?t._e():a("el-tooltip",{staticClass:"item",attrs:{disabled:!e.row.effectiveStatus||"ACTIVE"==e.row.effectiveStatus||"PAUSED"==e.row.effectiveStatus,effect:"dark",content:"ARCHIVED"==e.row.effectiveStatus?"已归档不可开关":"已删除不可开关",placement:"top-start"}},[a("el-switch",{staticClass:"statusswitch",attrs:{disabled:e.row.jobStatus||e.row.load||"ARCHIVED"==e.row.effectiveStatus||"DELETED"==e.row.effectiveStatus,"active-value":"ACTIVE","inactive-value":"PAUSED","active-color":"#13ce66","inactive-color":"#d7dae2"},on:{change:function(a){t.switchChange(e.row.switchStatus,e.row[t.typeData.effectIdsPush])}},model:{value:e.row.switchStatus,callback:function(a){t.$set(e.row,"switchStatus",a)},expression:"scope.row.switchStatus"}})],1),e.row.iscare?t._e():a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.row.load,expression:"scope.row.load"}],staticClass:"statusload",attrs:{"element-loading-text":"","element-loading-spinner":"el-icon-loading"}}),e.row.iscare?a("p"):t._e()]}}])}),t._l(t.customOption,function(e,i){return a("el-table-column",{key:i,attrs:{prop:e.key,fixed:!e.checked,label:e.name,sortable:"广告系列名称"!=e.name&&"广告组名称"!=e.name&&"广告名称"!=e.name&&!e.isevent&&"custom",width:-1==e.name.indexOf("名称")&&-1==e.name.indexOf("编号")?"100":"200"},scopedSlots:t._u([{key:"default",fn:function(i){return[!i.row.iscare&&e.link?a("p",{class:{canjump:!0,linedata:!0,iscare:i.row.iscare},attrs:{title:"广告系列名称"!=e.name&&"广告组名称"!=e.name?"":i.row[e.key]},on:{click:function(e){t.tabJump(i.row)}}},[t._v(t._s(i.row[e.key]||0===i.row[e.key]||"0"===i.row[e.key]?i.row[e.key]:"--"))]):i.row.iscare||"广告名称"!=e.name?!i.row.careimg||"广告系列名称"!=e.name&&"广告组名称"!=e.name&&"广告名称"!=e.name?a("p",{class:{linedata:!0,iscare:i.row.iscare},attrs:{title:"广告名称"!=e.name?"":i.row[e.key]}},[t._v(t._s(i.row[e.key]||0===i.row[e.key]||"0"===i.row[e.key]?i.row[e.key]:"--"))]):a("p",{domProps:{innerHTML:t._s(i.row[e.key]?i.row[e.key]:"--")}}):a("p",{staticClass:"adname"},[a("span",{staticClass:"headpic"},[a("a",{attrs:{href:i.row.materialText,target:"_blank"}},[a("img",{attrs:{src:i.row.materialText}})])]),a("span",{staticClass:"name",attrs:{title:i.row[e.key]}},[t._v(t._s(i.row[e.key]))])]),"effectiveStatusName"==e.key&&i.row.effectiveImport!=i.row.effectiveStatus?a("p",{staticStyle:{"font-size":"12px",color:"#999"}},[t._v(t._s(i.row.effectiveImportName))]):t._e(),!e.tool||i.row.iscare||"ARCHIVED"==i.row.effectiveStatus||"DELETED"==i.row.effectiveStatus||"广告系列名称"!=e.name&&"广告组名称"!=e.name&&"广告名称"!=e.name?t._e():a("p",{staticClass:"namectrl"},[a("el-button",{attrs:{icon:"el-icon-edit-outline",type:"text",size:"mini",disabled:i.row.jobStatus},on:{click:function(e){t.toEdit(i.row[t.typeData.effectIdsPush],[i.row.campaignName,i.row.adSetName,i.row.adName])}}},[t._v("编辑")]),a("el-button",{attrs:{icon:"el-icon-news",type:"text",size:"mini",disabled:i.row.jobStatus},on:{click:function(e){t.toCopy(i.row[t.typeData.effectIdsPush],i.row[t.typeData.originalId],i.row[t.typeData.originalName],i.row.accountId)}}},[t._v("复制")]),a("el-button",{attrs:{icon:"el-icon-setting",type:"text",size:"mini",disabled:i.row.jobStatus},on:{click:function(e){t.setRule(i.row[t.typeData.effectIdsPush])}}},[t._v("规则")]),a("el-button",{staticClass:"rename",attrs:{icon:"el-icon-edit",type:"text",size:"mini",disabled:i.row.jobStatus},on:{click:function(a){t.reName(i.row[t.typeData.effectIdsPush],i.row[e.key])}}})],1)]}}])})})],2)},Ll=[],Rl={props:["customOption","type"],data:function(){return{}},computed:Object(M["a"])({},Object(P["d"])(["adcampaignlist","adsetlist","adadlist","adlisttotal"]),{totalWidth:function(){var t=0;return t+=140,this.customOption.forEach(function(e){"广告系列名称"==e.name?t+=220:t+=120}),t},datalist:function(){return"campaignName"==this.type?JSON.parse(this.adcampaignlist):"adSetName"==this.type?JSON.parse(this.adsetlist):"adName"==this.type?JSON.parse(this.adadlist):void 0},typeData:function(){var t={};switch(this.type){case"campaignName":t.effectIds="adCampaignIds",t.effectIdsPush="campaignId",t.originalId="campaignId",t.originalName="campaignName";break;case"adSetName":t.effectIds="adSetIds",t.effectIdsPush="adsetId",t.originalId="campaignId",t.originalName="campaignName";break;case"adName":t.effectIds="adIds",t.effectIdsPush="adId",t.originalId="adsetId",t.originalName="adSetName";break}return t}}),created:function(){},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE","CHANGEADLOAD"]),{getSummaries:function(t){var e=this,a=t.columns,i=(t.data,[]),s=["ctr","afMinsRate","afRetentionRate","cvr","afCtr","afLoyalUsersRate","afROI","afConversionRate","afReRate1","afReRate2","afReRate3","afReRate4","afReRate5","afReRate6","afReRate7"];return a.forEach(function(t,a){switch(a){case 0:i[a]="合计";break;case 1:case 2:i[a]="";break;default:var n=e.adlisttotal[t.property]||0===e.adlisttotal[t.property]?e.adlisttotal[t.property]:"";i[a]=n+(n&&-1!=s.indexOf(t.property)?"%":"");break}}),i},tabJump:function(t){var e="";e="campaignName"==this.type?"second":"third",this.$emit("tabJump",e,t,this.type),this.$refs["multipleTable"+this.type].clearSelection(),this.$refs["multipleTable"+this.type].toggleRowSelection(t,!0)},setRule:function(t){this.$emit("setRule",t)},toEdit:function(t,e){this.$emit("toEdit",[t],e)},toCopy:function(t,e,a,i,s,n){var o={id:t,orgid:e,orgname:a,creative:s,marketurl:n},r=[o];this.$emit("toCopy",r,i)},ifSelect:function(t,e){return!t.iscare&&"DELETED"!=t.effectiveStatus&&!t.jobStatus},reName:function(t,e){this.$emit("reName",t,e)},sortChange:function(t){t.column;var e=t.prop,a=t.order;if(e){var i=e;i+="ascending"==a?" asc":" desc",this.$emit("tableSort",i)}else this.$emit("tableSort","")},handleSelectionChange:function(t){this.$emit("mutilSelect",t)},switchChange:function(t,e){var a={effectiveStatus:t};a[this.typeData.effectIds]=e,this.$store.dispatch("changeAdstatus",{option:a,type:this.type,fullScreen:!0}),this.CHANGEADLOAD(e)}})},Nl=Rl,$l=(a("55da"),a("86f6"),Object(C["a"])(Nl,Pl,Ll,!1,null,"7aaf0e82",null)),Ul=$l.exports,Fl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"重命名"+t.count+"个"+t.typeData.name,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"名称","label-width":"120px"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.conditionName,callback:function(e){t.conditionName=e},expression:"conditionName"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveCondtion}},[t._v("确 定")])],1)],1)},Bl=[],Kl={props:["type"],data:function(){return{dialogFormVisible:!1,conditionName:"",key:""}},methods:{showBox:function(t,e){this.key=t,this.conditionName=e,this.dialogFormVisible=!0},saveCondtion:function(){""!=this.conditionName.trim()?(this.$store.dispatch("resetName",{id:this.key,name:this.conditionName,type:this.type}),this.dialogFormVisible=!1,this.conditionName="",this.key=""):Object(H["g"])("请输入名称")}},computed:{count:function(){return this.key.split(",").length},typeData:function(){var t={name:"",effect:"",effectIds:""};switch(this.type){case"campaignName":t.name="广告系列";break;case"adSetName":t.name="广告组";break;case"adName":t.name="广告";break}return t}}},Vl=Kl,Wl=Object(C["a"])(Vl,Fl,Bl,!1,null,null,null),Gl=Wl.exports,zl={props:["opDefault","type","defaultOption"],data:function(){return{sortDown:!1,firstSearch:"",firstKey:"",secondSearchList:[],state:"",value2:"",customOption:this.defaultOption.concat(this.opDefault),pageindex:1,mutilselect:[],archivedbutton:!1,sort:"",order:!0,statuslist:[{name:"不限",code:"-1"},{name:"投放中",code:"ACTIVE"},{name:"已暂停",code:"PAUSED"},{name:"已归档",code:"ARCHIVED"},{name:"已删除",code:"DELETED"}]}},components:{AdSetlist:Ul,AdRename:Gl},mounted:function(){},watch:{},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{ruleCtrl:function(t){if(Object(Ml["a"])(new Dl.a(this.mutilselect.map(function(t){return t.accountId}))).length>1)Object(H["g"])("暂不支持跨广告账户设置规则，请选择同一个广告账户下的对象");else switch(t){case"a":this.$emit("ruleAdd",this.mutilselect,this.type);break;case"b":this.$emit("ruleCreate",this.mutilselect,this.type);break}},setRule:function(t){this.$emit("ruleRemove",t,this.type)},tabJump:function(t,e,a){this.$emit("tabJump",t,e,a)},toEdit:function(t,e){this.$emit("wantEdit",this.type,t,e)},toCopy:function(t,e){this.$emit("wantCopy",this.type,t,e)},resetCare:function(){this.searchList.forEach(function(t){t.list.forEach(function(t){t.checked=!1})}),this.SETSTATE({k:"careData",v:[]})},clearCare:function(){this.resetCare(),this.toGetdata()},sweepCare:function(){this.secondSearchList=[],this.firstSearch=""},selectCare:function(t,e){var a=this;if(t||void 0!==e){this.searchList.forEach(function(t){t.key==a.firstKey&&t.list.forEach(function(t){t.checked=!1})}),t&&this.secondSearchList.forEach(function(e){e.key==t&&(e.checked=!0)});var i={key:this.firstKey,vl:e||t},s=this.careData;s=s.filter(function(t){return t.key!=a.firstKey}),s.push(i),this.SETSTATE({k:"careData",v:s}),this.toGetdata()}},createAd:function(){this.$emit("toCreateAd",this.type)},reName:function(t,e){this.$refs.reName.showBox(t,e)},searchStatus:function(){this.sortDown=!this.sortDown,this.secondSearchList=[],this.firstSearch=""},searchClick:function(t,e,a){var i=this;this.firstSearch=a?"":t,this.firstKey=e,this.secondSearchList=a?[]:this.searchList.find(function(t){return i.firstSearch==t.name}).list},tableSort:function(t){this.sort=t,this.toGetdata(!0)},adSearch:function(){var t=this;""!=this.value&&(clearTimeout(c),c=setTimeout(function(){t.toSort()},300))},outListOption:function(){this.$emit("showOptionbox",this.type)},importRemain:function(){this.$emit("showRemainBox",this.type)},outTable:function(){if(this.exportstatus)if(this.adtotal>5e4)Object(H["g"])("数据请少于5万条");else{var t="".concat(this.projectname).concat(this.opDefault[0].name.replace("名称","")).concat(this.$timeFormat(new Date,"yyyyMMddHHmmss")),e=this.$notify({title:"正在导出...",message:"广告管理数据量较大，请稍等",duration:0,showClose:!1});this.SETSTATE({k:"exportstatus",v:!1});var a="",i=this.typeData.optionName;a=this[i],a.pageSize=this.adtotal,this.$store.dispatch("getAdlist",{option:a,name:t,fullScreen:!1,customOption:this.customOptionDefault,type:this.type,applicationid:this.applicationId,editType:"export",outNotify:e})}},toSort:function(){this.toGetdata(!0)},pageSwitch:function(t){this.pageindex=t,this.toGetdata()},pageSizeChange:function(t){this.SETSTATE({k:"adpagesize",v:t}),this.toGetdata(!0)},sortConditionLogic:function(t){var e="ACTIVE,PAUSED",a=t["adSetStatusStr"]?"adSetStatusStr":"adCampaignStatusStr";t[a]&&(e="",-1==t[a].indexOf("ACTIVE")&&-1==t[a].indexOf("PAUSED")||(e="ACTIVE,PAUSED"),-1!=t[a].indexOf("ARCHIVED")&&(e+=",ARCHIVED"),-1!=t[a].indexOf("DELETED")&&(e+=",DELETED")),this.SETSTATE({k:"sortdefault",v:e.replace(/^,/,"")})},toGetdata:function(t){var e=this,a=this.$route.params.bid,i=localStorage.getItem(adFilterLS.new)?JSON.parse(localStorage.getItem(adFilterLS.new)):{},s=i[this.$route.params.id]?i[this.$route.params.id]:[];t&&(this.pageindex=1);var n={pageNo:this.pageindex,pageSize:this.adpagesize,projectId:this.$route.params.id,batchId:a};this.sort&&(n.orderByCause=this.sort),this.value2&&(n[this.typeData.effect]=this.value2),this.state&&(n[this.typeData.searchKeyword]=this.state),this.careData.forEach(function(t){t.vl&&(n[t.key]=t.vl)}),s.forEach(function(t){n[t.key]&&t.key!=e.typeData.defaultFilter?n[t.key]+=" and "+t.option:n[t.key]=t.option}),this.sortConditionLogic(n),n[this.typeData.defaultFilter]=n[this.typeData.defaultFilter]?n[this.typeData.defaultFilter]:this.sortdefault;var o=Object(M["a"])({},n),r=this.typeData.optionName;this.SETSTATE({k:r,v:o}),this.$store.dispatch("getAdlist",{option:n,type:this.type,order:this.order,applicationid:this.applicationId})},mutilSelect:function(t){this.mutilselect=t,this.archivedbutton=!!this.mutilselect.find(function(t){return"ARCHIVED"==t.effectiveStatus}),this.$emit("selectSort",t)},toCtrlAll:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(e){var a,i,s,n,o,r,c,l,u,d,m,p,f,h,_,v,g,b,y=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0!=this.mutilselect.length){t.next=3;break}return Object(H["g"])("请先选择要处理的广告系列/广告组/广告"),t.abrupt("return");case 3:if(!(this.mutilselect.length>200)){t.next=6;break}return Object(H["g"])("批量操作最大条数为200"),t.abrupt("return");case 6:if("Edit"!=e||!this.mutilselect.find(function(t){return"ARCHIVED"==t.effectiveStatus})){t.next=9;break}return Object(H["g"])("已选项中包含已归档项，已归档无法编辑"),t.abrupt("return");case 9:if(a=e,i=[],s=[],this.mutilselect.forEach(function(t){var e={id:t[y.typeData.effectIdsPush],orgid:t[y.typeData.originalId],orgname:t[y.typeData.originalName]};s.push(e),i.push(t[y.typeData.effectIdsPush])}),i=i.join(","),"ARCHIVED"!=e){t.next=32;break}if([],n=[],o="",[],[],r="","adName"!=this.type){t.next=29;break}return t.next=23,this.$store.dispatch("creativeDetail",{creativeId:this.mutilselect.map(function(t){return t.creativeId}).join(","),fullScreen:!0});case 23:c=t.sent,l=c.data.filter(function(t){return t.assetFeedSpec&&"null"!=t.assetFeedSpec}),u=l.map(function(t){return t["fbCreativeId"]}),d=this.mutilselect.filter(function(t){return-1!=u.indexOf(t["creativeId"])}),n=d.map(function(t){return t["adId"]}),n.length>0&&(r="选中了至少一条使用动态创意的广告。归档此类型广告后，广告组也会自动归档",i=i.split(",").filter(function(t){return-1==n.indexOf(t)}).join(","),o=n.join(","));case 29:this.$confirm(r||"确认对".concat(this.mutilselect.length,"个").concat(this.typeData.name,"执行归档操作？归档后无法恢复"),"提示",{confirmButtonText:"归档",cancelButtonText:"取消",type:"warning"}).then(function(){y.commandExecute(i,a,o)}).catch(function(){}),t.next=60;break;case 32:if("DELETED"!=e){t.next=51;break}if([],m=[],p="",[],[],f="","adName"!=this.type){t.next=48;break}return t.next=42,this.$store.dispatch("creativeDetail",{creativeId:this.mutilselect.map(function(t){return t.creativeId}).join(","),fullScreen:!0});case 42:h=t.sent,_=h.data.filter(function(t){return t.assetFeedSpec&&"null"!=t.assetFeedSpec}),v=_.map(function(t){return t["fbCreativeId"]}),g=this.mutilselect.filter(function(t){return-1!=v.indexOf(t["creativeId"])}),m=g.map(function(t){return t["adId"]}),m.length>0&&(f="选中了至少一条使用动态创意的广告。删除此类型广告后，广告组也会自动删除",i=i.split(",").filter(function(t){return-1==m.indexOf(t)}).join(","),p=m.join(","));case 48:this.$confirm(f||"确认对".concat(this.mutilselect.length,"个").concat(this.typeData.name,"执行删除操作？删除后无法恢复"),"提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){y.commandExecute(i,a,p)}).catch(function(){}),t.next=60;break;case 51:if("Copy"!=e){t.next=59;break}if(!(Object(Ml["a"])(new Dl.a(this.mutilselect.map(function(t){return t.accountId}))).length>1)){t.next=55;break}return Object(H["g"])("暂不支持跨广告账户复制，请选择同一个广告账户下的对象"),t.abrupt("return");case 55:b=this.mutilselect[0].accountId,this.$emit("wantCopy",this.type,s,b),t.next=60;break;case 59:"Edit"==e&&this.$emit("wantEdit",this.type,this.mutilselect.map(function(t){return t[y.typeData.effectIdsPush]}),[Object(Ml["a"])(new Dl.a(this.mutilselect.map(function(t){return t.campaignName}))).join(","),Object(Ml["a"])(new Dl.a(this.mutilselect.map(function(t){return t.adSetName}))).join(","),Object(Ml["a"])(new Dl.a(this.mutilselect.map(function(t){return t.adName}))).join(",")]);case 60:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),handleCommand:function(t){var e=this;if(0!=this.mutilselect.length)if(this.mutilselect.length>200)Object(H["g"])("批量操作最大条数为200");else{var a,i=[];this.mutilselect.forEach(function(t){t.seekid=t[e.typeData.effectIdsPush],i.push(t[e.typeData.effectIdsPush])}),i=i.join(","),"a"==t&&(a="ACTIVE",this.commandExecute(i,a)),"b"==t&&(a="PAUSED",this.commandExecute(i,a)),"c"==t&&this.reName(i),"d"==t&&this.$emit("changeReplace",this.type,this.mutilselect)}else Object(H["g"])("请先选择广告")},commandExecute:function(t,e,a){var i={effectiveStatus:e};i[this.typeData.effectIds]=t,i["isActiveAdIds"]=a,this.$store.dispatch("changeAdstatus",{option:i,type:this.type,fullScreen:!0})}}),computed:Object(M["a"])({},Object(P["d"])(["itemlist","adcampaigntotal","adsettotal","adadtotal","ad_option","campain_option","set_option","searchList","careData","adpagesize","adlisttimeout","exportstatus","sortdefault"]),{customOptionDefault:function(){var t=this.defaultOption;return"597615686992125"!=this.applicationId&&(t=this.defaultOption.filter(function(t){return"AF_次日留存率"!=t.name})),"adName"==this.type?this.opDefault.concat(t.filter(function(t){return"广告名称"!=t.name})):"campaignName"==this.type?this.opDefault.concat(t.filter(function(t){return"相关度"!=t.name&&"广告编号"!=t.name&&"广告组编号"!=t.name&&"广告组名称"!=t.name&&"广告系列名称"!=t.name&&"广告名称"!=t.name})):this.opDefault.concat(t.filter(function(t){return"相关度"!=t.name&&"广告编号"!=t.name&&"广告名称"!=t.name&&"广告组名称"!=t.name}))},typeData:function(){var t={name:"",effect:"",effectIds:""};switch(this.type){case"campaignName":t.name="广告系列",t.effect="adCampaignStatus",t.effectIds="adCampaignIds",t.effectIdsPush="campaignId",t.effectName="campaignName",t.optionName="campain_option",t.searchKeyword="campaignName",t.listTotal="adcampaigntotal",t.originalId="campaignId",t.originalName="campaignName",t.defaultFilter="adCampaignStatusStr";break;case"adSetName":t.name="广告组",t.effect="adSetStatus",t.effectIds="adSetIds",t.effectIdsPush="adsetId",t.effectName="adSetName",t.optionName="set_option",t.searchKeyword="adSetName",t.listTotal="adsettotal",t.originalId="campaignId",t.originalName="campaignName",t.defaultFilter="adSetStatusStr";break;case"adName":t.name="广告",t.effect="effectiveStatus",t.effectIds="adIds",t.effectIdsPush="adId",t.effectName="adName",t.optionName="ad_option",t.searchKeyword="adName",t.listTotal="adadtotal",t.originalId="adsetId",t.originalName="adSetName",t.defaultFilter="adStatusStr";break}return t},adtotal:function(){var t=this[this.typeData.listTotal];return t},projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName},applicationId:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).applicationId}})},Hl=zl,ql=(a("e808"),Object(C["a"])(Hl,xl,Sl,!1,null,"65ca85f4",null)),Jl=ql.exports,Yl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create"},[a("transition",{attrs:{name:"slide-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],staticClass:"cr-content"},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.breadcrumb,function(e,i){return a("el-breadcrumb-item",{key:i,class:{tabnav:!0,important:e.important},attrs:{title:e.name}},[t._v(t._s(e.name))])}),1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"campaignName"==t.type,expression:"type == 'campaignName'"}],staticClass:"infobox"},[a("create-campaign",{ref:"createCampaign",attrs:{editId:t.editId},on:{changeEdit:t.changeEdit}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"adSetName"==t.type,expression:"type == 'adSetName'"}],staticClass:"infobox adsetbox"},[a("create-adset",{ref:"createAdset",attrs:{editId:t.editId},on:{changeEdit:t.changeEdit}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"adName"==t.type,expression:"type == 'adName'"}],staticClass:"infobox"},[a("create-ad",{ref:"createAd",attrs:{editId:t.editId},on:{changeEdit:t.changeEdit}})],1),a("div",{staticClass:"buttomctrl"},[a("el-button",{attrs:{size:"medium"},on:{click:t.hideBox}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"medium",disabled:t.hascreatead},on:{click:t.saveInfo}},[t._v("保存")])],1)])]),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],staticClass:"cr-shadow",on:{click:t.hideBox}})])],1)},Xl=[],Zl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-campaign"},[a("el-form",{staticClass:"form",attrs:{model:t.form,"label-width":"110px","label-position":"left"}},[a("el-form-item",{attrs:{label:"当前广告账户"}},[t.mutilAccount?t._e():a("el-select",{staticClass:"formselect",attrs:{filterable:"",placeholder:"请选择广告账户",disabled:t.editId.length>0},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}},t._l(t.adaccountlist,function(t){return a("el-option",{key:t.fbId,attrs:{label:t.name+(-1!=t.fbId?"("+t.fbId+")":""),value:t.fbId}})}),1),t.mutilAccount?a("p",[t._v("多项内容")]):t._e()],1),t.editId.length>0?a("el-form-item",{attrs:{label:"广告系列编号"}},[a("span",{staticClass:"adnum",attrs:{id:"copyCampaign"}},[t._v(t._s(t.editId.length>1?"多项内容":t.editId[0]))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==t.editId.length,expression:"editId.length == 1"}],attrs:{id:"copyButtonCampaign","data-clipboard-action":"copy","data-clipboard-target":"#copyCampaign",type:"primary",size:"mini"}},[t._v("复制")])],1):t._e(),a("el-form-item",{attrs:{label:"广告系列名称"}},[t.mutil.name?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.name,expression:"mutilstatus.name"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.name=!t.mutilstatus.name}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.name,expression:"!mutilstatus.name"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.name=!t.mutilstatus.name}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-input",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.name,expression:"!mutilstatus.name"}],attrs:{placeholder:"请输入广告系列名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),a("h1",{staticClass:"secondtitle"},[t._v("广告系列详情")]),t._m(0)],1)},Ql=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info"},[a("p",[a("span",{staticClass:"theme"},[t._v("目标")]),a("span",[t._v("应用安装量")])]),a("p",[a("span",{staticClass:"theme"},[t._v("购买类型")]),a("span",[t._v("竞拍")])])])}],tu={props:["editId"],data:function(){return{mutilAccount:!1,form:{account:"",name:""},mutilstatus:{},mutil:{name:!1}}},mounted:function(){this.$textCopy("#copyButtonCampaign")},methods:{extractInfo:function(){if(this.form.account){if(this.form.name||this.mutilstatus.name){var t={accountId:this.form.account,name:this.form.name,campaignId:this.editId};return t}Object(H["g"])("请输入广告系列名称")}else Object(H["g"])("请选择广告账户")},reset:function(){this.mutilAccount=!1,this.form.name="",this.form.account="",this.mutilstatus={},this.mutil={name:!1}},initData:function(){var t=this;this.adaccountid.length>1?this.form.account="":this.form.account=0==this.adaccountid.length?"":this.adaccountid[0],setTimeout(function(){t.$emit("changeEdit",!1)},100)}},computed:Object(M["a"])({},Object(P["d"])(["adaccountlist","adaccountid","editcampaignlist"])),watch:{editcampaignlist:function(t,e){var a=this;if(t.length>0){var i=Object(Ml["a"])(new Dl.a(t.map(function(t){return t.accountId})));this.form.account=i.length>1?"":i[0],this.mutilAccount=i.length>1,this.form.name=Object(Ml["a"])(new Dl.a(t.map(function(t){return t.name}))).length>1?"":t[0].name,this.mutil={name:!this.form.name},this.mutilstatus=ue()({},this.mutil),setTimeout(function(){a.$emit("changeEdit",!1)},100)}},"form.account":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.name":{handler:function(t,e){this.$emit("changeEdit",!0)}}}},eu=tu,au=(a("53ee"),Object(C["a"])(eu,Zl,Ql,!1,null,"2f2b0056",null)),iu=au.exports,su=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-adset"},[a("el-form",{staticClass:"form",attrs:{model:t.form,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"当前广告系列"}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.mutil.campaign,expression:"!mutil.campaign"}],staticClass:"formselect",attrs:{remote:"","remote-method":t.remoteMethod,disabled:t.editId.length>0,filterable:"",placeholder:"请选择广告系列"},on:{change:t.accountToAudience},model:{value:t.form.campaign,callback:function(e){t.$set(t.form,"campaign",e)},expression:"form.campaign"}},t._l(t.createcampaignlist,function(t){return a("el-option",{key:t.campaignId,staticClass:"selectOption",attrs:{label:t.campaiggName+"("+t.campaignId+")",value:t.campaignId+"|"+t.fbAccount}})}),1),t.mutil.campaign?a("p",[t._v("多项内容")]):t._e()],1),t.editId.length>0?a("el-form-item",{attrs:{label:"广告组编号"}},[a("span",{staticClass:"adnum",attrs:{id:"copyAdset"}},[t._v(t._s(t.editId.length>1?"多项内容":t.editId[0]))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==t.editId.length,expression:"editId.length == 1"}],attrs:{id:"copyButtonAdset","data-clipboard-action":"copy","data-clipboard-target":"#copyAdset",type:"primary",size:"mini"}},[t._v("复制")])],1):t._e(),a("el-form-item",{attrs:{label:"广告组名称"}},[t.mutil.name?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.name,expression:"mutilstatus.name"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.name=!t.mutilstatus.name}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.name,expression:"!mutilstatus.name"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.name=!t.mutilstatus.name}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-input",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.name,expression:"!mutilstatus.name"}],attrs:{placeholder:"请输入广告组名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{staticClass:"activecreate",attrs:{label:"动态创意"}},[t.mutil.activecreate?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.activecreate,expression:"mutilstatus.activecreate"}]},[t._v("多项内容")])]):t._e(),a("el-switch",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.activecreate,expression:"!mutilstatus.activecreate"}],attrs:{"active-color":"#13ce66","inactive-color":"#d7dae2",disabled:t.editId.length>0},model:{value:t.form.activecreate,callback:function(e){t.$set(t.form,"activecreate",e)},expression:"form.activecreate"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.activecreate,expression:"!mutilstatus.activecreate"}],staticClass:"tipfont"},[t._v("提供图片和标题等素材，并自动为受众生成创意组合")])],1),a("el-form-item",{attrs:{label:"国家"}},[t.mutil.country?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.country,expression:"mutilstatus.country"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.country=!t.mutilstatus.country}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.country,expression:"!mutilstatus.country"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.country=!t.mutilstatus.country}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.country,expression:"!mutilstatus.country"}],staticClass:"formselect",attrs:{multiple:"",filterable:"",placeholder:"请选择国家，可搜索"},on:{change:t.showBidChart},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}},t._l(t.othercountries,function(t){return a("el-option",{key:t.code,attrs:{label:t.name+"("+t.code+")",value:t.code}})}),1)],1),a("el-form-item",{attrs:{label:"应用"}},[t.mutil.action?a("p",[t._v("多项内容")]):t._e(),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.action,expression:"!mutilstatus.action"}],staticClass:"formselect",attrs:{disabled:"",placeholder:"请选择应用"},model:{value:t.form.action,callback:function(e){t.$set(t.form,"action",e)},expression:"form.action"}},t._l(t.adapplist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.applicationId}})}),1)],1),a("el-form-item",{attrs:{label:"平台"}},[t.mutil.platform?a("p",[t._v("多项内容")]):t._e(),a("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:!t.mutil.platform,expression:"!mutil.platform"}],on:{change:t.toGetsystem},model:{value:t.form.platform,callback:function(e){t.$set(t.form,"platform",e)},expression:"form.platform"}},t._l(t.createplatform,function(e){return a("el-radio",{key:e.marketType,attrs:{label:e.marketType,disabled:t.editId.length>0}})}),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:""!=t.form.platform,expression:"form.platform != ''"}],staticClass:"cline versionline",attrs:{label:"系统版本"}},[t.mutil.version?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.version,expression:"mutilstatus.version"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.version=!t.mutilstatus.version}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.version,expression:"!mutilstatus.version"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.version=!t.mutilstatus.version}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.version,expression:"!mutilstatus.version"}],staticClass:"versionselect",attrs:{placeholder:"最低版本"},model:{value:t.form.lowversion,callback:function(e){t.$set(t.form,"lowversion",e)},expression:"form.lowversion"}},t._l(t.system,function(t){return a("el-option",{key:t.version,attrs:{label:t.os+" "+t.version,value:t.version}})}),1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.version,expression:"!mutilstatus.version"}]},[t._v("-")]),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.version,expression:"!mutilstatus.version"}],staticClass:"versionselect",attrs:{placeholder:"最高版本"},model:{value:t.form.highversion,callback:function(e){t.$set(t.form,"highversion",e)},expression:"form.highversion"}},t._l(t.system,function(t){return a("el-option",{key:t.version,attrs:{label:t.os+" "+t.version,value:t.version}})}),1),a("p",{staticStyle:{"font-size":"12px",color:"#999"}},[t._v("最高版本为空则无上限")])],1),a("el-form-item",{staticClass:"cline",attrs:{label:"受众"}},[t.mutil.target?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.target,expression:"mutilstatus.target"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.target=!t.mutilstatus.target}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.target,expression:"!mutilstatus.target"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.target=!t.mutilstatus.target}}},[t._v("撤销编辑")])],1)]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.target,expression:"!mutilstatus.target"}],staticClass:"targettip"},[t._v("定位至少符合以下一项条件的用户")]),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.target,expression:"!mutilstatus.target"}],staticClass:"select accountselect",attrs:{"no-data-text":"暂无受众，请修改账户或新增受众",multiple:"",filterable:"",placeholder:"请选择受众，可搜索"},model:{value:t.form.target,callback:function(e){t.$set(t.form,"target",e)},expression:"form.target"}},t._l(t.genertarget,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label.split("_")[1]}},t._l(e.options,function(e){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:-1==t.form.notarget.indexOf(""+e.audienceId),expression:"form.notarget.indexOf(`${item.audienceId}`) == -1"}],key:e.code,attrs:{label:e.name+"（"+e.audienceId+"）",value:""+e.audienceId}})}),1)}),1),a("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.target,expression:"!mutilstatus.target"}],model:{value:t.form.iftarget,callback:function(e){t.$set(t.form,"iftarget",e)},expression:"form.iftarget"}},[a("el-checkbox",{attrs:{label:"1",name:"type"}},[t._v("不排除任何受众")])],1),1!=t.form.iftarget[0]?a("div",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.target,expression:"!mutilstatus.target"}],staticClass:"targettip"},[t._v("排除至少符合以下一项条件的用户")]):t._e(),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.target&&1!=t.form.iftarget[0],expression:"!mutilstatus.target && form.iftarget[0] != 1"}],staticClass:"select accountselect",attrs:{"no-data-text":"暂无受众，请修改账户或新增受众",multiple:"",filterable:"",placeholder:"请选择受众，可搜索"},model:{value:t.form.notarget,callback:function(e){t.$set(t.form,"notarget",e)},expression:"form.notarget"}},t._l(t.genertarget,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label.split("_")[1]}},t._l(e.options,function(e){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:-1==t.form.target.indexOf(""+e.audienceId),expression:"form.target.indexOf(`${item.audienceId}`) == -1"}],key:e.code,attrs:{label:e.name+"（"+e.audienceId+"）",value:""+e.audienceId}})}),1)}),1)],1),a("el-form-item",{attrs:{label:"预算"}},[t.mutil.moneytype?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.moneytype,expression:"mutilstatus.moneytype"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.moneytype=!t.mutilstatus.moneytype}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.moneytype,expression:"!mutilstatus.moneytype"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.moneytype=!t.mutilstatus.moneytype}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.moneytype,expression:"!mutilstatus.moneytype"}],model:{value:t.form.moneytype,callback:function(e){t.$set(t.form,"moneytype",e)},expression:"form.moneytype"}},[a("el-radio",{attrs:{label:"day_budget"}},[t._v("单日预算")]),a("el-radio",{attrs:{label:"total_budget"}},[t._v("总预算")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.moneytype,expression:"!mutilstatus.moneytype"}],staticClass:"moneyinput"},[a("span",{staticClass:"moneyus"},[t._v("$")]),a("el-input",{staticClass:"minput",attrs:{placeholder:"请输入预算金额（单位：美元）"},model:{value:t.form.money,callback:function(e){t.$set(t.form,"money",e)},expression:"form.money"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"total_budget"==t.form.moneytype&&!t.mutilstatus.moneytype,expression:"form.moneytype == 'total_budget' && !mutilstatus.moneytype"}],attrs:{label:"投放日期"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"total_budget"==t.form.moneytype&&!t.mutilstatus.moneytype,expression:"form.moneytype == 'total_budget' && !mutilstatus.moneytype"}],staticClass:"cline timerange",attrs:{label:"投放时段"}},[a("el-radio-group",{model:{value:t.form.timerange,callback:function(e){t.$set(t.form,"timerange",e)},expression:"form.timerange"}},[a("el-radio",{attrs:{label:"allday"}},[t._v("全天投放广告")]),a("el-radio",{attrs:{label:"schedule"}},[t._v("分时间段投放")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"schedule"==t.form.timerange,expression:"form.timerange == 'schedule'"}],staticClass:"moneyinput"},[a("el-select",{staticClass:"selectsmall",attrs:{multiple:"",placeholder:"按广告受众所在时区"},model:{value:t.form.rdate,callback:function(e){t.$set(t.form,"rdate",e)},expression:"form.rdate"}},t._l(t.week,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.key}})}),1),a("el-time-picker",{staticClass:"timeselect",attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.form.rtime,callback:function(e){t.$set(t.form,"rtime",e)},expression:"form.rtime"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:""!=t.form.platform,expression:"form.platform != ''"}],attrs:{label:"设备"}},[t.mutil.equip?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.equip,expression:"mutilstatus.equip"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.equip=!t.mutilstatus.equip}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.equip,expression:"!mutilstatus.equip"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.equip=!t.mutilstatus.equip}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.equip,expression:"!mutilstatus.equip"}],model:{value:t.form.equip,callback:function(e){t.$set(t.form,"equip",e)},expression:"form.equip"}},["google_play"==t.form.platform?a("el-checkbox",{attrs:{label:"Android_Smartphone",name:"type"}},[t._v("安卓智能手机")]):t._e(),"itunes"==t.form.platform?a("el-checkbox",{attrs:{label:"iPhone",name:"type"}},[t._v("iPhone")]):t._e(),"itunes"==t.form.platform?a("el-checkbox",{attrs:{label:"iPad",name:"type"}},[t._v("iPad")]):t._e()],1)],1),a("el-form-item",{attrs:{label:"性别"}},[t.mutil.sex?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.sex,expression:"mutilstatus.sex"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.sex=!t.mutilstatus.sex}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.sex,expression:"!mutilstatus.sex"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.sex=!t.mutilstatus.sex}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.sex,expression:"!mutilstatus.sex"}],model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[a("el-radio",{attrs:{label:0}},[t._v("全部")]),a("el-radio",{attrs:{label:1}},[t._v("男")]),a("el-radio",{attrs:{label:2}},[t._v("女")])],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"年龄"}},[t.mutil.age?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.age,expression:"mutilstatus.age"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.age=!t.mutilstatus.age}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.age,expression:"!mutilstatus.age"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.age=!t.mutilstatus.age}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-slider",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.age,expression:"!mutilstatus.age"}],attrs:{range:"",min:13,max:65,"format-tooltip":t.formatTooltip},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}})],1),a("el-form-item",{attrs:{label:"语言"}},[t.mutil.language?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.language,expression:"mutilstatus.language"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.language=!t.mutilstatus.language}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.language,expression:"!mutilstatus.language"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.language=!t.mutilstatus.language}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.language,expression:"!mutilstatus.language"}],staticClass:"formselect",attrs:{multiple:"",filterable:"",placeholder:"请选择语言，可搜索"},model:{value:t.form.language,callback:function(e){t.$set(t.form,"language",e)},expression:"form.language"}},t._l(t.language,function(t){return a("el-option",{key:t.localeId,attrs:{label:t.name,value:t.localeId}})}),1)],1),a("el-form-item",{attrs:{label:"兴趣"}},[t.mutil.interest?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.interest,expression:"mutilstatus.interest"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.interest=!t.mutilstatus.interest}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.interest,expression:"!mutilstatus.interest"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.interest=!t.mutilstatus.interest}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.interest,expression:"!mutilstatus.interest"}],staticClass:"formselect",attrs:{multiple:"",filterable:"",placeholder:"请选择兴趣，可搜索"},model:{value:t.form.interest,callback:function(e){t.$set(t.form,"interest",e)},expression:"form.interest"}},t._l(t.interests,function(t){return a("el-option",{key:t.featureId,attrs:{label:t.name,value:t.featureId}})}),1)],1),a("el-form-item",{attrs:{label:"自动版位"}},[t.mutil.auto?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.auto,expression:"mutilstatus.auto"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.auto=!t.mutilstatus.auto}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.auto,expression:"!mutilstatus.auto"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.auto=!t.mutilstatus.auto}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.auto,expression:"!mutilstatus.auto"}],model:{value:t.form.auto,callback:function(e){t.$set(t.form,"auto",e)},expression:"form.auto"}},[a("el-checkbox",{attrs:{label:"1",name:"type"}},[t._v("是（Facebook自动选择最好的版位）")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1!=t.form.auto[0]&&!t.mutilstatus.auto,expression:"form.auto[0] != 1 && !mutilstatus.auto"}],staticClass:"verpla",attrs:{label:"版位"}},[a("el-checkbox-group",{staticStyle:{width:"500px"},model:{value:t.form.verpla,callback:function(e){t.$set(t.form,"verpla",e)},expression:"form.verpla"}},[a("el-checkbox",{attrs:{label:"facebook",name:"type",disabled:-1!=t.form.verpla.indexOf("audience_network")||-1!=t.form.verpla.indexOf("messenger")}},[t._v("Facebook")]),a("el-checkbox",{attrs:{label:"instagram",name:"type"}},[t._v("Instagram")]),a("el-checkbox",{attrs:{label:"audience_network",name:"type",disabled:-1==t.form.verpla.indexOf("facebook")}},[t._v("Audience Network")]),a("el-checkbox",{attrs:{label:"messenger",name:"type",disabled:-1==t.form.verpla.indexOf("facebook")}},[t._v("Messenger")])],1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"出价"}},[t.mutil.bid?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.bid,expression:"mutilstatus.bid"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.bid=!t.mutilstatus.bid}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.bid,expression:"!mutilstatus.bid"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.bid=!t.mutilstatus.bid}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.bid,expression:"!mutilstatus.bid"}],on:{change:t.maxbidDefault},model:{value:t.form.bid,callback:function(e){t.$set(t.form,"bid",e)},expression:"form.bid"}},[a("el-radio",{attrs:{label:"cpi"}},[t._v("CPI")]),a("el-radio",{attrs:{label:"cpm"}},[t._v("CPM")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.bid,expression:"!mutilstatus.bid"}],attrs:{label:"竞价上限"}},[a("div",{staticClass:"moneyinput"},[a("span",{staticClass:"moneyus"},[t._v("$")]),a("el-input",{staticClass:"minput",attrs:{placeholder:t.maxbidplace},model:{value:t.form.maxbid,callback:function(e){t.$set(t.form,"maxbid",e)},expression:"form.maxbid"}})],1)]),a("el-form-item",{staticClass:"cline",attrs:{label:"用户过滤"}},[t.mutil.filtra?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.filtra,expression:"mutilstatus.filtra"}]},[t._v("多项内容，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.filtra=!t.mutilstatus.filtra}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.filtra,expression:"!mutilstatus.filtra"}]},[t._v("多项内容，已编辑，\n          "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.filtra=!t.mutilstatus.filtra}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.filtra,expression:"!mutilstatus.filtra"}],model:{value:t.form.filtra,callback:function(e){t.$set(t.form,"filtra",e)},expression:"form.filtra"}},[a("el-checkbox",{attrs:{label:"1",name:"filtra"}},[t._v("过滤已安装用户")]),a("el-checkbox",{attrs:{label:"2",name:"filtra"}},[t._v("过滤已关注用户")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:-1!=t.form.filtra.indexOf("2")&&!t.mutilstatus.filtra,expression:"form.filtra.indexOf('2') != -1 && !mutilstatus.filtra"}],staticClass:"moneyinput"},[a("el-select",{staticClass:"formselect",attrs:{multiple:"",placeholder:"请选择要过滤的主页，必选"},model:{value:t.form.filtrapage,callback:function(e){t.$set(t.form,"filtrapage",e)},expression:"form.filtrapage"}},t._l(t.createallpagelist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.pageId}})}),1)],1)],1)],1),a("div",{staticClass:"bidguide"},[a("gener-guide",{attrs:{bid:t.form.bid,maxbid:t.form.maxbid,moneytype:t.form.moneytype,money:t.form.money}})],1)],1)},nu=[],ou={props:["editId"],data:function(){return{maxbidplace:"请输入竞价上限（单位：美元）",editArray:[],week:[{name:"周一",key:1},{name:"周二",key:2},{name:"周三",key:3},{name:"周四",key:4},{name:"周五",key:5},{name:"周六",key:6},{name:"周七",key:7}],form:{campaign:"",name:"",activecreate:!1,country:[],action:"",platform:"",lowversion:"",highversion:"",target:[],notarget:[],iftarget:["1"],moneytype:"day_budget",money:"",date:[],timerange:"allday",rdate:[],rtime:[new Date(2016,9,10,0,0,0),new Date(2016,9,10,23,0,0)],equip:[],sex:0,age:[13,65],language:[],interest:[],auto:["1"],verpla:["facebook","instagram"],bid:"cpi",maxbid:"0.02",filtra:["1","2"],filtrapage:[]},mutilstatus:{},mutil:{campaign:!1,name:!1,activecreate:!1,country:!1,action:!1,target:!1,platform:!1,version:!1,moneytype:!1,equip:!1,sex:!1,age:!1,language:!1,interest:!1,auto:!1,bid:!1,filtra:!1},msg:{campaign:"请选择广告系列",name:"请输入广告组名称",country:"请选择国家",platform:"请选择平台",version:"请选择系统版本",moneytype:"请选择预算",money:"请输入预算金额",date:"请选择投放日期",rdate:"请选择星期",equip:"请选择设备",sex:"请选择性别",language:"请选择语言",verpla:"请选择版位",maxbid:"请输入竞价上限",maxbidmax:"竞价上限必须大于0.02美元",filtra:"请选择用户过滤",filtrapage:"请选择需要过滤的主页"}}},components:{GenerGuide:_r},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{accountToAudience:function(){this.form.target=[],this.form.notarget=[];var t=this.form.campaign.split("|")[1];this.$store.dispatch("generTargetList",{fb_account_ids:t})},showBidChart:function(){if(this.form.country){var t=this.form.country,e="cpi"==this.form.bid?"APP_INSTALLS":"IMPRESSIONS";this.$store.dispatch("bidGuide",{country:t,fbApplicationId:this.actions,billingEvent:e})}},remoteMethod:function(t){""!==t?this.$store.dispatch("getCreateCampaignlist",{keyword:t,projectId:this.$route.params.id}):this.SETSTATE({k:"createcampaignlist",v:[]})},formatTooltip:function(t){if(65==t)return"65+"},maxbidDefault:function(){"cpi"==this.form.bid?(this.form.maxbid="0.02",this.maxbidplace="请输入竞价上限（单位：美元）"):(this.form.maxbid="",this.maxbidplace="选填"),this.showBidChart()},dataChecked:function(){if(""==this.form.campaign&&!this.mutilstatus.campaign)return[!1,this.msg.campaign];if(""==this.form.name&&!this.mutilstatus.name)return[!1,this.msg.name];if(0==this.form.country.length&&!this.mutilstatus.country)return[!1,this.msg.country];if(""==this.form.platform&&!this.mutilstatus.platform)return[!1,this.msg.platform];if(""==this.form.lowversion&&!this.mutilstatus.version)return[!1,this.msg.version];if(""==this.form.moneytype&&!this.mutilstatus.moneytype)return[!1,this.msg.moneytype];if(""==this.form.money&&!this.mutilstatus.moneytype)return[!1,this.msg.money];if("total_budget"==this.form.moneytype){if(!this.form.date||0==this.form.date.length)return[!1,this.msg.date];if("schedule"==this.form.timerange&&0==this.form.rdate.length)return[!1,this.msg.rdate]}return this.form.platform||0!=this.form.equip.filter(function(t){return t}).length||this.mutilstatus.equip?null!==this.form.sex||this.mutilstatus.sex?0!=this.form.auto.length||0!=this.form.verpla.length||this.mutilstatus.auto?"cpi"!=this.form.bid||""!=this.form.maxbid||this.mutilstatus.bid?""!==this.form.maxbid&&(isNaN(Ns()(this.form.maxbid))||this.form.maxbid<.02)&&!this.mutilstatus.bid?[!1,this.msg.maxbidmax]:-1!=this.form.filtra.indexOf("2")&&0==this.form.filtrapage.length?[!1,this.msg.filtrapage]:[!0]:[!1,this.msg.maxbid]:[!1,this.msg.verpla]:[!1,this.msg.sex]:[!1,this.msg.equip]},extractInfo:function(){var t=this,e=this.dataChecked();if(e[0]){this.form.applicationid=this.actions;var a=[];return this.editArray.length>0?(this.editArray.forEach(function(e){var i={};i.adAccount=t.mutilstatus.campaign?"act_"+e.accountId:t.form.campaign.split("|")[1],i.adSet=e.adsetId,i.adSetName=t.mutilstatus.name?e.name:t.form.name,i.applicationId=t.form.applicationid,i.dynamicCreative=e.isDynamicCreative,t.mutilstatus.target?(i.includeAudience=e.included,i.excludeAudience=e.excluded):(i.includeAudience=t.form.target,i.excludeAudience="1"==t.form.iftarget[0]?[]:t.form.notarget),t.mutilstatus.bid?(i.bidAmount=""===e.bidAmount?null:Ns()(100*e.bidAmount),i.billingType=e.bid):(i.bidAmount=""===t.form.maxbid?null:Ns()(100*t.form.maxbid),i.billingType=t.form.bid),t.mutilstatus.moneytype?(i.budgetType=e.moneytype,"day_budget"==i.budgetType?i.dayBudget=Ns()(100*e.dailyBudget):i.totalBudget=Ns()(100*e.lifetimeBudget),i.startTime="day_budget"==i.budgetType?null:e.startTime,i.endTime="day_budget"==i.budgetType?null:e.endTime,i.scheduleType="day_budget"==i.budgetType?null:e.timerange,i.days="total_budget"==i.budgetType&&"schedule"==i.scheduleType?e.weekday.map(function(t){return Ns()(t)+1}):null,i.startMinute="total_budget"==i.budgetType&&"schedule"==i.scheduleType?"".concat(Ns()(e.startMinute/60),":").concat(e.startMinute%60):null,i.endMinute="total_budget"==i.budgetType&&"schedule"==i.scheduleType?"".concat(Ns()(e.endMinute/60),":").concat(e.endMinute%60):null):(i.budgetType=t.form.moneytype,"day_budget"==i.budgetType?i.dayBudget=Ns()(100*t.form.money):i.totalBudget=Ns()(100*t.form.money),i.startTime="day_budget"==i.budgetType?null:new Date(t.form.date[0]).getTime(),i.endTime="day_budget"==i.budgetType?null:new Date(t.form.date[1]).getTime(),i.scheduleType="day_budget"==i.budgetType?null:t.form.timerange,i.days="total_budget"==i.budgetType&&"schedule"==i.scheduleType?t.form.rdate:null,i.startMinute="total_budget"==i.budgetType&&"schedule"==i.scheduleType?t.$timeFormat(t.form.rtime[0],"HH")+":00":null,i.endMinute="total_budget"==i.budgetType&&"schedule"==i.scheduleType?t.$timeFormat(t.form.rtime[1],"HH")+":00":null),i.campaignList=[e.campaignId],i.country=t.mutilstatus.country?e.country:t.form.country,i.platform=e.platform,t.mutilstatus.platform?(i.device="itunes"==e.platform?e.equip.filter(function(t){return"iPhone"==t||"iPad"==t}):e.equip.filter(function(t){return"Android_Smartphone"==t}),i.minVersion=e.lowversion,i.maxVersion=e.highversion):(t.mutilstatus.equip?i.device="itunes"==e.platform?e.equip.filter(function(t){return"iPhone"==t||"iPad"==t}):e.equip.filter(function(t){return"Android_Smartphone"==t}):i.device="itunes"==e.platform?t.form.equip.filter(function(t){return"iPhone"==t||"iPad"==t}):t.form.equip.filter(function(t){return"Android_Smartphone"==t}),i.minVersion=t.mutilstatus.version?e.lowversion:t.form.lowversion,i.maxVersion=t.mutilstatus.version?e.highversion:t.form.highversion),t.mutilstatus.filtra?(i.filteAttentionUser=e.filtrapage,i.filteInstalledUser=-1!=e.filtra.indexOf("1")?"yes":""):(i.filteAttentionUser=-1!=t.form.filtra.indexOf("2")?t.form.filtrapage:[],i.filteInstalledUser=-1!=t.form.filtra.indexOf("1")?"yes":""),i.gender=t.mutilstatus.sex?e.sex:t.form.sex,i.interest=t.mutilstatus.interest?e.interest:t.form.interest,i.locales=t.mutilstatus.language?e.language:t.form.language,i.maxAge=t.mutilstatus.age?e.maxage:t.form.age[1],i.minAge=t.mutilstatus.age?e.minage:t.form.age[0],t.mutilstatus.auto?i.position=e.verpla:i.position="1"==t.form.auto[0]?[]:t.form.verpla,a.push(i)}),a):this.form}Object(H["g"])(e[1])},toGetsystem:function(){var t="itunes"==this.form.platform?"ios":"android";this.form.version="",this.$store.dispatch("getSystem",{os:t})},reset:function(){this.SETSTATE({k:"createcampaignlist",v:[]}),this.SETSTATE({k:"adapplist",v:[]}),this.SETSTATE({k:"genertarget",v:[]}),this.editArray=[];var t=this.form.action;this.form={campaign:"",name:"",country:[],action:t,activecreate:!1,platform:"",target:[],notarget:[],iftarget:["1"],lowversion:"",highversion:"",moneytype:"day_budget",money:"",date:[],timerange:"allday",rdate:[],rtime:[new Date(2016,9,10,0,0,0),new Date(2016,9,10,23,0,0)],equip:[],sex:0,age:[13,65],language:[],interest:[],auto:["1"],verpla:["facebook","instagram"],bid:"cpi",maxbid:"0.02",filtra:["1","2"],filtrapage:[]},this.mutilstatus={},this.mutil={campaign:!1,name:!1,country:!1,action:!1,platform:!1,version:!1,moneytype:!1,equip:!1,sex:!1,age:!1,language:!1,interest:!1,auto:!1,bid:!1,filtra:!1}},initData:function(t){var e=this;this.SETSTATE({k:"genertarget",v:[]}),this.campainsortlist.length>1?this.form.campaign="":(this.form.campaign=0==this.campainsortlist.length?"":this.campainsortlist[0].campaignId+"|act_"+this.campainsortlist[0].accountId,this.accountToAudience()),this.form.campaign&&this.$store.dispatch("getCreateCampaignlist",{keyword:this.campainsortlist[0].campaignId,projectId:this.$route.params.id}),this.actions&&(this.form.action=this.actions,this.$store.dispatch("getCreatePlatform",{applicationid:this.form.action})),setTimeout(function(){e.$emit("changeEdit",!1)},100)}}),computed:Object(M["a"])({},Object(P["d"])(["campainsortlist","createcampaignlist","othercountries","language","interests","adapplist","itemlist","system","createplatform","createallpagelist","editadsetlist","genertarget"]),{equip:function(){return this.form.platform},actions:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).applicationId}}),mounted:function(){this.$textCopy("#copyButtonAdset")},watch:{editadsetlist:function(t,e){var a=this;if(t.length>0){this.editArray=t,this.form.action=Object(Ml["a"])(new Dl.a(t.map(function(t){return t.applicationId}))).length>1?"":t[0].applicationId,this.form.campaign=Object(Ml["a"])(new Dl.a(t.map(function(t){return t.campaignId}))).length>1?"":t[0].campaignId+"|act_"+t[0].accountId,this.form.name=Object(Ml["a"])(new Dl.a(t.map(function(t){return t.name}))).length>1?"":t[0].name,this.form.activecreate=Object(Ml["a"])(new Dl.a(t.map(function(t){return t.isDynamicCreative}))).length>1?"":t[0].isDynamicCreative,this.form.target=t.length>1?[]:t[0].included,this.form.notarget=t.length>1?[]:t[0].excluded,this.form.iftarget=1==t.length&&t[0].excluded.length>0?[]:["1"],this.form.country=this.$equalArray(t.map(function(t){return t.country}))?t[0].country:[],this.form.platform=Object(Ml["a"])(new Dl.a(t.map(function(t){return t.platform}))).length>1?"":t[0].platform,this.form.platform&&this.toGetsystem(),this.form.lowversion=Object(Ml["a"])(new Dl.a(t.map(function(t){return t.lowversion}))).length>1||Object(Ml["a"])(new Dl.a(t.map(function(t){return t.highversion}))).length>1?"":t[0].lowversion,this.form.lowversion&&(this.form.highversion=t[0].highversion);var i=!0;(Object(Ml["a"])(new Dl.a(t.map(function(t){return t.moneytype}))).length>1||"day_budget"==t[0].moneytype&&Object(Ml["a"])(new Dl.a(t.map(function(t){return t.dailyBudget}))).length>1||"total_budget"==t[0].moneytype&&Object(Ml["a"])(new Dl.a(t.map(function(t){return t.lifetimeBudget}))).length>1||Object(Ml["a"])(new Dl.a(t.map(function(t){return t.startTime}))).length>1||Object(Ml["a"])(new Dl.a(t.map(function(t){return t.endTime}))).length>1||Object(Ml["a"])(new Dl.a(t.map(function(t){return t.startMinute}))).length>1||Object(Ml["a"])(new Dl.a(t.map(function(t){return t.endMinute}))).length>1||!this.$equalArray(t.map(function(t){return t.weekday})))&&(i=!1),this.form.moneytype=i?t[0].moneytype:"",this.form.moneytype&&("day_budget"==this.form.moneytype?this.form.money=ur()(t[0].dailyBudget/100):(this.form.money=ur()(t[0].lifetimeBudget/100),this.form.date=[new Date(t[0].startTime),new Date(t[0].endTime)],this.form.timerange=t[0].timerange,"schedule"==this.form.timerange&&(this.form.rdate=t[0].weekday.map(function(t){return Ns()(t)+1}),this.form.rtime=[new Date(2016,9,10,Ns()(t[0].startMinute/60),0,0),new Date(2016,9,10,Ns()(t[0].endMinute/60),0,0)]))),this.form.equip=this.$equalArray(t.map(function(t){return t.equip}))?t[0].equip:[],this.form.sex=Object(Ml["a"])(new Dl.a(t.map(function(t){return t.sex}))).length>1?null:t[0].sex,this.form.age=Object(Ml["a"])(new Dl.a(t.map(function(t){return t.minage}))).length>1||Object(Ml["a"])(new Dl.a(t.map(function(t){return t.maxage}))).length>1?[13,65]:[Ns()(t[0].minage),Ns()(t[0].maxage)],this.form.language=this.$equalArray(t.map(function(t){return t.language}))?t[0].language:[],this.form.interest=this.$equalArray(t.map(function(t){return t.interest}))?t[0].interest:[];var s=this.$equalArray(t.map(function(t){return t.verpla}));if(this.form.verpla=s?t[0].verpla:[],this.form.auto=s&&0==t[0].verpla.length?["1"]:[],this.form.bid=Object(Ml["a"])(new Dl.a(t.map(function(t){return t.bid}))).length>1||Object(Ml["a"])(new Dl.a(t.map(function(t){return t.bidAmount}))).length>1?"":t[0].bid,this.form.bid&&(this.form.maxbid=t[0].bidAmount?t[0].bidAmount/100:""),this.form.filtra=this.$equalArray(t.map(function(t){return t.filtra}))&&this.$equalArray(t.map(function(t){return t.filtrapage}))?t[0].filtra:[],-1!=this.form.filtra.indexOf("2")){this.form.filtrapage=t[0].filtrapage;var n=this.createallpagelist;n=n.filter(function(t){return-1==a.form.filtrapage.indexOf(t.id)}),n=n.concat(t[0].filtrapageObj),this.SETSTATE({k:"createallpagelist",v:n})}this.mutil={campaign:!this.form.campaign,name:!this.form.name,activecreate:""===this.form.activecreate,country:0==this.form.country.length,target:t.length>1,action:!this.form.action,platform:!this.form.platform,version:!this.form.lowversion,moneytype:!this.form.moneytype,equip:0==this.form.equip.length,sex:null===this.form.sex,age:Object(Ml["a"])(new Dl.a(t.map(function(t){return t.minage}))).length>1||Object(Ml["a"])(new Dl.a(t.map(function(t){return t.maxage}))).length>1,language:t.length>1&&0==this.form.language.length,interest:t.length>1&&0==this.form.interest.length,auto:!s,bid:!this.form.bid,filtra:0==this.form.filtra.length},this.mutilstatus=ue()({},this.mutil),this.form.campaign&&this.$store.dispatch("getCreateCampaignlist",{keyword:t[0].campaignId,projectId:this.$route.params.id});var o=Object(Ml["a"])(new Dl.a(t.map(function(t){return t.accountId}))).map(function(t){return"act_".concat(t)}).join(",");this.$store.dispatch("generTargetList",{fb_account_ids:o}),this.form.action&&(this.$store.dispatch("getAppInfo",this.form.action),this.$store.dispatch("getCreatePlatform",{applicationid:this.form.action})),setTimeout(function(){a.$emit("changeEdit",!1)},100)}},actions:function(t,e){if(t){var a=t;this.$store.dispatch("getCreatePlatform",{applicationid:a}),this.form.action=t}},equip:function(t,e){this.form.equip="google_play"==t?["Android_Smartphone"]:["iPhone","iPad"]},"form.campaign":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.name":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.country":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.platform":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.lowversion":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.highversion":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.moneytype":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.money":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.sex":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.language":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.interest":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.bid":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.maxbid":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.filtrapage":{handler:function(t,e){this.$emit("changeEdit",!0)}}}},ru=ou,cu=(a("6c59"),Object(C["a"])(ru,su,nu,!1,null,"e65fa034",null)),lu=cu.exports,uu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{staticClass:"form",attrs:{model:t.form,"label-width":"110px","label-position":"left"}},[a("el-form-item",{attrs:{label:"当前广告组"}},[t.mutil.adset?a("p",[t._v("多项内容")]):t._e(),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.mutil.adset,expression:"!mutil.adset"}],staticClass:"formselect",attrs:{disabled:t.editId.length>0,filterable:"",remote:"","remote-method":t.remoteMethod,placeholder:"请选择广告组",loading:t.adsetlistload,"loading-text":"加载中..."},on:{change:t.setFbAccountId},model:{value:t.form.adset,callback:function(e){t.$set(t.form,"adset",e)},expression:"form.adset"}},t._l(t.createadsetlist,function(t){return a("el-option",{key:t.adSetId,attrs:{label:t.adSetName+"("+t.adSetId+")",value:t.adSetId+"|"+t.fbAccountId}})}),1),a("p",{directives:[{name:"show",rawName:"v-show",value:t.hascreatead,expression:"hascreatead"}],staticClass:"wrongti"},[t._v("广告组不可用，此动态创意广告组已有广告")])],1),t.editId.length>0?a("el-form-item",{attrs:{label:"广告编号"}},[a("span",{staticClass:"adnum",attrs:{id:"copyAd"}},[t._v(t._s(t.editId.length>1?"多项内容":t.editId[0]))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==t.editId.length,expression:"editId.length == 1"}],attrs:{id:"copyButtonAd","data-clipboard-action":"copy","data-clipboard-target":"#copyAd",type:"primary",size:"mini"}},[t._v("复制")])],1):t._e(),a("el-form-item",{attrs:{label:"广告名称"}},[t.mutil.name?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.name,expression:"mutilstatus.name"}]},[t._v("多项内容，\n        "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.name=!t.mutilstatus.name}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.name,expression:"!mutilstatus.name"}]},[t._v("多项内容，已编辑，\n        "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.name=!t.mutilstatus.name}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-input",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.name,expression:"!mutilstatus.name"}],staticClass:"forminput",attrs:{placeholder:"请输入广告名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t.isactive?a("el-form-item",{attrs:{label:"创意"}},[t.mutil.type?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.type,expression:"mutilstatus.type"}]},[t._v("\n        多项内容，"+t._s(t.activespecial?"不可同时编辑普通创意和动态创意":"")+"\n        "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.activespecial,expression:"!activespecial"}],attrs:{type:"text"},on:{click:function(e){t.mutilstatus.type=!t.mutilstatus.type}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.type,expression:"!mutilstatus.type"}]},[t._v("多项内容，已编辑，将替换旧创意，\n        "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.type=!t.mutilstatus.type}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.type,expression:"!mutilstatus.type"}],model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-radio",{attrs:{label:0}},[t._v("图片或视频")]),a("el-radio",{attrs:{label:1}},[t._v("轮播图片")])],1)],1):t._e(),t.isactive?a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.type,expression:"!mutilstatus.type"}],attrs:{label:""}},[a("el-tabs",{staticClass:"cardtab",attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.form.activeName,callback:function(e){t.$set(t.form,"activeName",e)},expression:"form.activeName"}},[a("el-tab-pane",{attrs:{label:"创建创意",name:"first"}},[a("active-create",{ref:"activeCreate",attrs:{createType:t.form.type,createObject:t.createObject}})],1)],1)],1):t._e(),t.isactive?t._e():a("el-form-item",{attrs:{label:"创意"}},[t.mutil.type?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.mutilstatus.type,expression:"mutilstatus.type"}]},[t._v("多项内容，\n        "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.type=!t.mutilstatus.type}}},[t._v("编辑")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.type,expression:"!mutilstatus.type"}]},[t._v("多项内容，已编辑，将替换旧创意，\n        "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.mutilstatus.type=!t.mutilstatus.type}}},[t._v("撤销编辑")])],1)]):t._e(),a("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.type,expression:"!mutilstatus.type"}],model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-radio",{attrs:{label:0}},[t._v("单图片")]),a("el-radio",{attrs:{label:1}},[t._v("单视频")]),a("el-radio",{attrs:{label:2}},[t._v("轮播")])],1)],1),t.isactive?t._e():a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.mutilstatus.type,expression:"!mutilstatus.type"}],attrs:{label:""}},[a("el-tabs",{staticClass:"cardtab",attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.form.activeName,callback:function(e){t.$set(t.form,"activeName",e)},expression:"form.activeName"}},[a("el-tab-pane",{attrs:{label:t.editId.length>0?"编辑创意":"创建创意",name:"first"}},[2==t.form.type?a("creativity-carousel",{ref:"createCarousel",attrs:{createObject:t.createObject},on:{changeEdit:t.changeEdit}}):a("creativity-normal",{ref:"createNormal",attrs:{createType:t.form.type,createObject:t.createObject},on:{changeEdit:t.changeEdit}})],1),a("el-tab-pane",{attrs:{label:"选择创意",name:"second"}},[a("div",{staticClass:"createlist"},[a("create-list",{ref:"createList",attrs:{creativeType:t.form.type},on:{selectCreate:t.selectCreate}})],1)])],1)],1)],1)},du=[],mu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-select"},[a("div",{staticClass:"select-on"},[a("span",{staticClass:"title"},[t._v("当前选择创意：")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.selectCreate.creativityName,expression:"!selectCreate.creativityName"}]},[t._v("无")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.selectCreate.creativityName,expression:"selectCreate.creativityName"}]},[a("span",{staticClass:"selecthead"},[a("img",{attrs:{src:t.selectCreate.image,alt:""}})]),a("span",{staticClass:"createtitle",attrs:{title:t.selectCreate.creativityText+"（"+t.selectCreate.countryId+","+t.selectCreate.sexName+"）"}},[t._v(t._s(t.selectCreate.creativityText)+"（"+t._s(t.selectCreate.countryId)+","+t._s(t.selectCreate.sexName)+"）")]),a("span",[t._v("创意ID："+t._s(t.selectCreate.id))]),a("span",[t._v("分类："+t._s(t.selectCreate.classify))]),a("span",{staticClass:"ctrl"},[a("el-button",{attrs:{type:"text"},on:{click:t.setCurrent}},[t._v("取消")])],1)])]),a("div",{staticClass:"select-sort"},[a("el-input",{staticClass:"search",attrs:{placeholder:"搜索创意ID","suffix-icon":"el-icon-search"},on:{input:t.createSearch},model:{value:t.searchstate,callback:function(e){t.searchstate=e},expression:"searchstate"}}),a("el-select",{staticClass:"select",attrs:{placeholder:"分类"},on:{change:t.classifyChange},model:{value:t.classifyselect,callback:function(e){t.classifyselect=e},expression:"classifyselect"}},t._l(t.classify,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("div",{staticClass:"select-table"},[a("el-table",{ref:"singleTable",attrs:{height:"393","highlight-current-row":"",data:t.adcreatelist,"show-header":!1},on:{"current-change":t.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"id",label:"创意ID",width:"60"}}),a("el-table-column",{attrs:{prop:"creativityText",label:"文本"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.creativityText)),a("el-tag",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini"}},[t._v(t._s(e.row.countryId))]),a("el-tag",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini"}},[t._v(t._s(e.row.sexName))])]}}])}),a("el-table-column",{attrs:{prop:"picture",label:"缩略图",width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("span",{staticClass:"headpic"},[a("img",{attrs:{src:t.row.image,alt:""}})])]}}])}),a("el-table-column",{attrs:{prop:"classify",label:"分类",width:"100"}})],1)],1),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total",total:t.adcreatetotal,"page-size":40},on:{"current-change":t.pageSwitch}})],1)])},pu=[],fu={props:["creativeType"],data:function(){return{classifyselect:"",searchstate:"",pageindex:1,selectCreate:{}}},computed:Object(M["a"])({},Object(P["d"])(["adcreatelist","adcreatetotal","classify"])),methods:{reset:function(){this.selectCreate={}},createSearch:function(){var t=this;this.pageindex=1,clearTimeout(u),u=setTimeout(function(){t.dataUpdata()},300)},classifyChange:function(){this.pageindex=1,this.dataUpdata()},handleCurrentChange:function(t){t&&(this.selectCreate=ue()({},t)),this.toSelectCreate()},setCurrent:function(t){this.$refs.singleTable.setCurrentRow(t),this.toSelectCreate()},toSelectCreate:function(){this.$emit("selectCreate",this.selectCreate)},dataUpdata:function(){this.$store.dispatch("getSelectCreateList",{creativityType:this.creativeType,creativityName:this.searchstate,classify:"不限"==this.classifyselect?"":this.classifyselect,pageIndex:this.pageindex,projectId:this.$route.params.id})},pageSwitch:function(t){this.pageindex=t,this.dataUpdata()}},watch:{creativeType:function(t,e){this.pageindex=1,this.dataUpdata()}}},hu=fu,_u=(a("3a8c"),a("cc7d"),Object(C["a"])(hu,mu,pu,!1,null,"0c9aaec2",null)),vu=_u.exports,gu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form,"label-width":"80px","label-position":"left"}},[a("el-form-item",{staticClass:"cline",attrs:{label:"主页"}},[a("el-select",{attrs:{placeholder:"请选择主页",filterable:""},on:{change:t.selectHomepage},model:{value:t.form.homepage,callback:function(e){t.$set(t.form,"homepage",e)},expression:"form.homepage"}},[t.otherpageid?a("el-option",{attrs:{label:t.otherpagename,value:t.otherpageid}}):t._e(),t._l(t.allpagelist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.pageId}})})],2)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0==t.createType,expression:"createType == 0"}],staticClass:"cline uploadfile",attrs:{label:"图片"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.processIMG.length,expression:"processIMG.length == 0"}],staticClass:"moreInfo",attrs:{type:"primary",size:"small"}},[t._v("上传图片")]),a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:0==t.processIMG.length,expression:"processIMG.length == 0"}],ref:"vueFileUploaderSINGER",staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsIMG,requestOptions:t.fileOption,filters:t.imgfilters},on:{matchMD5:t.matchMD5,onAdd:t.onAddItem,uploadPic:t.uploadPic,uploadRes:t.uploadRes,uploadError:t.uploadError}},[a("span",{attrs:{slot:"label"},slot:"label"})]),a("ul",{staticClass:"reslist"},t._l(t.processIMG,function(e,i){return a("li",{key:i},[a("div",{staticClass:"image"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"item.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("i",{staticClass:"el-icon-error processclose",on:{click:function(a){t.delIMG(e.file,e.name)}}})])}),0)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==t.createType,expression:"createType == 1"}],staticClass:"cline uploadfile",attrs:{label:"视频"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.processVIO.length,expression:"processVIO.length == 0"}],staticClass:"moreInfo",attrs:{type:"primary",size:"small"}},[t._v("上传视频")]),a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:0==t.processVIO.length,expression:"processVIO.length == 0"}],ref:"vueFileUploaderVioSINGER",staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsVIO,requestOptions:t.fileOption,filters:t.videofilters},on:{matchMD5:t.matchMD5,onAdd:t.onAddItem,uploadVio:t.uploadVio,uploadVioRes:t.uploadVioRes,uploadVioError:t.uploadVioError}},[a("span",{attrs:{slot:"label"},slot:"label"})]),a("ul",{staticClass:"reslist"},t._l(t.processVIO,function(e,i){return a("li",{key:i,on:{mouseover:function(a){t.fmvideoname=e.name}}},[a("div",{staticClass:"video"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-document"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"item.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.fmname,expression:"!item.fmname"}],staticClass:"fmbutton",attrs:{type:"text"}},[t._v("上传封面图")]),a("div",{staticClass:"uploadFmbox"},[a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:!e.fmname,expression:"!item.fmname"}],staticClass:"fileinputfm",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsFM,requestOptions:t.fileOptionFM,filters:t.imgfilters},on:{matchMD5:t.matchMD5,uploadFm:t.uploadFm,uploadFmRes:t.uploadFmRes,uploadFmError:t.uploadFmError}},[a("span",{attrs:{slot:"label"},slot:"label"})])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.fmname,expression:"item.fmname"}],staticClass:"videofm"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.fmname}},[t._v(t._s(e.fmname))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.fmprocess,expression:"item.fmprocess == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.fmprocess+"%"})]),a("span",[t._v(t._s(e.fmprocess)+"%")])])]),a("i",{staticClass:"el-icon-error processclose processvideo",on:{click:function(a){t.delVIO(e.file,e.name)}}})],1)}),0)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"文本"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea",placeholder:"请输入文字说明，介绍推广内容",autosize:{minRows:3.5,maxRows:3.5}},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"行动号召"}},[a("el-select",{attrs:{placeholder:"行动号召"},model:{value:t.form.actions,callback:function(e){t.$set(t.form,"actions",e)},expression:"form.actions"}},t._l(t.allactions,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.code}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"deeplink"}},[a("el-input",{attrs:{placeholder:"可跳转到APP指定页面，选填，为空则仅下载APP"},model:{value:t.form.deeplink,callback:function(e){t.$set(t.form,"deeplink",e)},expression:"form.deeplink"}})],1)],1)},bu=[],yu=new lo.a,ku={props:["createType","createObject"],components:{VueFileUpload:ro.a},data:function(){return{form:{homepage:"",deeplink:"",desc:"",title:"",actions:""},otherpageid:"",otherpagename:"",msg:{homepage:"请选择主页",desc:"请输入文本",title:"请输入标题",actions:"请选择行动号召",deeplink:"",imginfo:"请上传图片",videoinfo:"请上传视频",fminfo:"请上传封面图"},processIMG:[],processVIO:[],disfile:null,xtoken:localStorage.getItem("atom_token"),fileOption:{headers:{"X-Token":localStorage.getItem("atom_token")}},fileOptionFM:{headers:{"X-Token":localStorage.getItem("atom_token")},formData:{type:"2"}},imgfilters:[{name:"imageFilter",fn:function(t){var e="|"+t.type.slice(t.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(e)}}],videofilters:[{name:"videoFilter",fn:function(t){var e="|"+t.type.slice(t.type.lastIndexOf("/")+1)+"|";return-1!=="|vob|ifo|mpg|mpeg|dat|mp4|3gp|mov|rm|ram|rmvb|wmv|asf|avi|asx|".indexOf(e)}}],eventsIMG:{onAddFileSuccess:function(t){var e=this,a=t.file;yu.md5(a,function(a,i){e.vm.$emit("matchMD5",i,t,"img")},function(t){})},onProgressUpload:function(t,e){this.vm.$emit("uploadPic",t,e)},onSuccessUpload:function(t,e,a,i){if(t.remove(),0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadError",e,t);this.vm.$emit("uploadRes",e)}},eventsVIO:{onAddFileSuccess:function(t){var e=this,a=t.file;yu.md5(a,function(a,i){e.vm.$emit("matchMD5",i,t,"video")},function(t){})},onProgressUpload:function(t,e){this.vm.$emit("uploadVio",t,e)},onSuccessUpload:function(t,e,a,i){if(t.remove(),0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadVioError",e,t);this.vm.$emit("uploadVioRes",e)}},fmvideoname:"",eventsFM:{onAddFileSuccess:function(t){var e=this,a=t.file;yu.md5(a,function(a,i){e.vm.$emit("matchMD5",i,t,"fm")},function(t){})},onProgressUpload:function(t,e){this.vm.$emit("uploadFm",t,e)},onSuccessUpload:function(t,e,a,i){if(0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadFmError",e,t);this.vm.$emit("uploadFmRes",e)}}}},computed:Object(M["a"])({},Object(P["d"])(["allpagelist","adcreateadd","wantupload","edittype"]),Object(P["b"])(["allactions"]),{uploadFileUrl:function(){return"".concat(uo["a"]["production"].UPLOAD_URL,"/file/")}}),mounted:function(){var t=this.createObject;t&&(this.allpagelist.find(function(e){return e.pageId==t.pageId})||(this.otherpagename=t.pageName?t.pageName:"",this.otherpageid=t.pageId?t.pageId:""),this.edittype==this.createType&&this.dataSet(t))},watch:{createObject:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,this.$barrageTime(100);case 3:this.reset(),!e||e.cards||e.assetFeedSpec||(this.allpagelist.find(function(t){return t.pageId==e.pageId})||(this.otherpageid=e.pageId?e.pageId:"",this.otherpagename=e.pageName?e.pageName:""),this.SETSTATE({k:"edittype",v:this.createType}),this.dataSet(e));case 5:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),createType:function(t,e){this.reset(),this.edittype==t&&this.createObject&&this.dataSet(this.createObject)},"form.homepage":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.deeplink":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.desc":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.title":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.actions":{handler:function(t,e){this.$emit("changeEdit",!0)}},processIMG:function(){this.$emit("changeEdit",!0)},processVIO:function(){this.$emit("changeEdit",!0)},wantupload:function(t,e){console.log("create-add wantupload:",t),0!=t&&t==this.uploadsize&&(console.log("%ccreate-add all ready","color: red"),this.$refs[this.dom].uploadAll())}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{dataSet:function(t){this.form.homepage=t.pageId?t.pageId:"",this.form.deeplink=t.deeplink?t.deeplink:"",this.form.desc=t.creativityText?t.creativityText:"",this.form.title=t.creativityTitle?t.creativityTitle:"",this.form.actions=t.actionCallOn?t.actionCallOn:"",console.log(this.processVIO),t.videoId?this.processVIO.push({name:t.videoName?t.videoName:t.videoId,process:100,file:null,size:0,videoUrl:"",videoHash:"",videoId:t.videoId,fmname:t.imageName?t.imageName:t.imageHash,fmprocess:100,fmUrl:t.imageUrl,fmHash:t.imageHash}):this.processIMG.push({name:t.imageName?t.imageName:t.imageHash,process:100,size:0,file:null,imageUrl:"",imageHash:t.imageHash})},reset:function(){!this.disfile||this.disfile.isSuccess||this.disfile.isCancel||this.disfile.cancel(),this.processIMG=[],this.processVIO=[],this.form={homepage:"",deeplink:"",desc:"",title:"",actions:""},this.SETSTATE({k:"adcreateadd",v:!0})},initData:function(){this.otherpageid="",this.otherpagename=""},getCheckData:function(){var t=this,e=this.form;if(!this.adcreateadd)return[!1,"图片/视频正在上传中..."];if(""==e["homepage"])return[!1,this.msg["homepage"]];if(0==this.createType&&0==this.processIMG.length)return[!1,this.msg["imginfo"]];if(1==this.createType&&0==this.processVIO.length)return[!1,this.msg["videoinfo"]];if(1==this.createType&&!this.processVIO[0].fmname)return[!1,this.msg["fminfo"]];if(""==e["desc"])return[!1,this.msg["desc"]];if(""==e["title"])return[!1,this.msg["title"]];if(""===e["actions"])return[!1,this.msg["actions"]];var a=this.createObject?this.createObject:{actionCallOn:0,actionCallOnName:"",card:"",cards:"",classify:"",countryId:"",countryName:"",createTime:"",creater:"",creativityName:"",creativityText:"",creativityTitle:"",creativityType:0,deeplink:"",fbAccountId:"",fbAdId:"",fbCreativeId:"",id:0,image:"",imageHash:"",imageName:"",imageUrl:"",pageId:"",pageLogo:"",pageName:"",platFromUrl:"",projectId:0,sex:"",status:0,token:"",videoId:"",videoName:"",videoUrl:""},i=this.allpagelist.filter(function(e){return e.pageId==t.form.homepage})[0],s=this.allactions.filter(function(e){return e.code==t.form.actions})[0];return a.pageId=i?i.pageId:this.otherpageid,a.pageLogo=i?i.picture:"",a.pageName=i?i.name:this.otherpagename,a.actionCallOn=s.code,a.actionCallOnName=s.name,a.creativityText=this.form.desc,a.creativityTitle=this.form.title,a.token=this.xtoken,a.deeplink=this.form.deeplink,a.imageUrl=1==this.createType?this.processVIO[0].fmUrl:this.processIMG[0].imageUrl,a.videoUrl=1==this.createType?this.processVIO[0].videoUrl:"",a.videoUrl?a.videoId="":a.videoId=1==this.createType?this.processVIO[0].videoId:"",a.imageUrl?a.imageHash="":a.imageHash=1==this.createType?this.processVIO[0].fmHash:this.processIMG[0].imageHash,[!0,a]},onAddItem:function(t){console.log(t),this.SETSTATE({k:"wantupload",v:0}),this.uploadsize=t.length,console.log("create-add this.uploadsize:",this.uploadsize)},matchMD5:function(t,e,a){this.dom="img"==a?"vueFileUploaderSINGER":"vueFileUploaderVioSINGER",this.$store.dispatch("matchMutiFileMD5",{md5:[t],file:e,list:"img"==a?this.processIMG:this.processVIO,type:a,on:"adcreateadd",vdname:this.fmvideoname})},uploadFmError:function(t,e){this.SETSTATE({k:"adcreateadd",v:!0}),this.processVIO.forEach(function(t){t.fmname==e.name&&(t.fmname="",t.fmprocess="")})},uploadFmRes:function(t){this.SETSTATE({k:"adcreateadd",v:!0}),this.processVIO.forEach(function(e){e.fmname==t.data[0].originName&&(e.fmUrl=t.data[0].targetName,e.fmHash=t.data[0].md5)})},uploadFm:function(t,e){var a=this;this.disfile=t;this.SETSTATE({k:"adcreateadd",v:!1});var i=null,s=null;this.processVIO.forEach(function(n,o){n.name==a.fmvideoname&&(i=a.processVIO[o],s=Object(M["a"])({},i,{fmname:t.name,fmprocess:e}),a.processVIO.splice(o,1),a.processVIO.splice(o,0,s))})},uploadVioError:function(t,e){this.SETSTATE({k:"adcreateadd",v:!0}),this.processVIO=this.processVIO.filter(function(t){return t.name!=e.name})},uploadVioRes:function(t){this.SETSTATE({k:"adcreateadd",v:!0}),this.processVIO.forEach(function(e){e.name==t.data[0].originName&&(e.videoUrl=t.data[0].targetName,e.videoHash=t.data[0].md5)})},uploadVio:function(t,e){this.disfile=t,this.SETSTATE({k:"adcreateadd",v:!1});var a={};a.name=t.name,a.process=e,a.file=t,a.size=t.size,a.fmname="",a.fmprocess=0,a.videoId="",this.processVIO.forEach(function(a){a.name==t.name&&(a.process=e)}),this.processVIO.find(function(e){return e.name==t.name})||this.processVIO.push(a)},delVIO:function(t,e){t&&t.isUploading&&(t.cancel(),t.remove()),this.processVIO=this.processVIO.filter(function(t){return t.name!=e}),this.SETSTATE({k:"adcreateadd",v:!0})},uploadRes:function(t){this.SETSTATE({k:"adcreateadd",v:!0}),this.processIMG.forEach(function(e){e.name==t.data[0].originName&&(e.imageUrl=t.data[0].targetName,e.imageHash=t.data[0].md5)})},uploadError:function(t,e){this.SETSTATE({k:"adcreateadd",v:!0}),this.processIMG=this.processIMG.filter(function(t){return t.name!=e.name})},uploadPic:function(t,e){this.disfile=t,this.SETSTATE({k:"adcreateadd",v:!1});var a={};a.name=t.name,a.process=e,a.size=t.size,a.file=t,this.processIMG.forEach(function(a){a.name==t.name&&(a.process=e)}),this.processIMG.find(function(e){return e.name==t.name})||this.processIMG.push(a)},delIMG:function(t,e){t&&t.isUploading&&(t.cancel(),t.remove()),this.processIMG=this.processIMG.filter(function(t){return t.name!=e}),this.SETSTATE({k:"adcreateadd",v:!0})},selectHomepage:function(){var t=this,e=this.allpagelist.filter(function(e){return e.pageId==t.form.homepage})[0];e&&!e.insId&&(this.form.homepage="",Object(H["g"])("此主页无PBIA，请先同步"))}})},Eu=ku,Cu=(a("7a3f"),a("8177"),Object(C["a"])(Eu,gu,bu,!1,null,"3dc29ed6",null)),Ou=Cu.exports,wu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form,"label-width":"80px","label-position":"left"}},[a("el-form-item",{staticClass:"cline",attrs:{label:"主页"}},[a("el-select",{attrs:{placeholder:"请选择主页",filterable:""},on:{change:t.selectHomepage},model:{value:t.form.homepage,callback:function(e){t.$set(t.form,"homepage",e)},expression:"form.homepage"}},[t.otherpagename?a("el-option",{attrs:{label:t.otherpagename,value:t.otherpageid}}):t._e(),t._l(t.allpagelist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.pageId}})})],2)],1),a("div",{staticClass:"carousellist"},[t.tablist.length<10?a("div",{staticClass:"add"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.addTab(t.tabvalue)}}},[t._v("+")])],1):t._e(),a("el-tabs",{attrs:{type:"card"},model:{value:t.tabvalue,callback:function(e){t.tabvalue=e},expression:"tabvalue"}},t._l(t.tablist,function(e,i){return a("el-tab-pane",{key:e.name,attrs:{label:i+1+"",name:e.name}},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.tablist.length>3,expression:"tablist.length > 3"}],staticClass:"el-icon-close cardremove",on:{click:function(a){t.removeTab(e.name)}}}),a("el-form-item",{staticClass:"cline",attrs:{label:"类型"}},[a("el-radio-group",{on:{change:function(a){t.resetImgVideo(e.name)}},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"item.type"}},[a("el-radio",{attrs:{label:"1"}},[t._v("图片")]),a("el-radio",{attrs:{label:"2"}},[t._v("视频")])],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"1"==e.type,expression:"item.type == '1'"}],staticClass:"cline uploadfile",attrs:{label:"图片"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.processIMG.length,expression:"item.processIMG.length == 0"}],staticClass:"moreInfo",attrs:{type:"primary",size:"small"}},[t._v("上传图片")]),a("div",{staticClass:"filebutton"},[a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:0==e.processIMG.length,expression:"item.processIMG.length == 0"}],staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsIMG,requestOptions:t.fileOption,filters:t.imgfilters},on:{checkUpload:t.checkUpload,uploadPic:t.uploadPic,uploadRes:t.uploadRes,uploadError:t.uploadError}},[a("span",{attrs:{slot:"label"},slot:"label"})])],1),a("ul",{staticClass:"reslist"},t._l(e.processIMG,function(e,i){return a("li",{key:i},[a("div",{staticClass:"image"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"l.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("i",{staticClass:"el-icon-error processclose",on:{click:function(a){t.delIMG(e.file)}}})])}),0)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"2"==e.type,expression:"item.type == '2'"}],staticClass:"cline uploadfile",attrs:{label:"视频"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.processVIO.length,expression:"item.processVIO.length == 0"}],staticClass:"moreInfo",attrs:{type:"primary",size:"small"}},[t._v("上传视频")]),a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:0==e.processVIO.length,expression:"item.processVIO.length == 0"}],staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsVIO,requestOptions:t.fileOption,filters:t.videofilters},on:{checkUpload:t.checkUploadVio,uploadVio:t.uploadVio,uploadVioRes:t.uploadVioRes,uploadVioError:t.uploadVioError}},[a("span",{attrs:{slot:"label"},slot:"label"})]),a("ul",{staticClass:"reslist"},t._l(e.processVIO,function(e,i){return a("li",{key:i},[a("div",{staticClass:"video"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-document"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"g.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.fmname&&100==e.process,expression:"!g.fmname && g.process == 100"}],staticClass:"fmbutton",attrs:{type:"text"}},[t._v("上传封面图")]),a("div",{staticClass:"uploadFmbox"},[a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:!e.fmname&&100==e.process,expression:"!g.fmname && g.process == 100"}],staticClass:"fileinputfm",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsFM,requestOptions:t.fileOptionFM,filters:t.imgfilters},on:{checkUploadFm:t.checkUploadFm,uploadFm:t.uploadFm,uploadFmRes:t.uploadFmRes,uploadFmError:t.uploadFmError}},[a("span",{attrs:{slot:"label"},slot:"label"})])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.fmname,expression:"g.fmname"}],staticClass:"videofm"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.fmname}},[t._v(t._s(e.fmname))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.fmprocess,expression:"g.fmprocess == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.fmprocess+"%"})]),a("span",[t._v(t._s(e.fmprocess)+"%")])])]),a("i",{staticClass:"el-icon-error processclose processvideo",on:{click:function(a){t.delVIO(e.file)}}})],1)}),0)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"item.title"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"deeplink"}},[a("el-input",{attrs:{placeholder:"可跳转到APP指定页面，选填，为空则仅下载APP"},model:{value:e.deeplink,callback:function(a){t.$set(e,"deeplink",a)},expression:"item.deeplink"}})],1)],1)}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"文本"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea",placeholder:"请输入文字说明，介绍推广内容",autosize:{minRows:3.5,maxRows:3.5}},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),a("el-form-item",{staticClass:"cline",attrs:{label:"行动号召"}},[a("el-select",{attrs:{placeholder:"行动号召"},model:{value:t.form.actions,callback:function(e){t.$set(t.form,"actions",e)},expression:"form.actions"}},t._l(t.allactions,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.code}})}),1)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"deeplink"}},[a("el-input",{attrs:{placeholder:"可跳转到APP指定页面，选填，为空则仅下载APP"},model:{value:t.form.deeplink,callback:function(e){t.$set(t.form,"deeplink",e)},expression:"form.deeplink"}})],1)],1)},Iu=[],Tu=new lo.a,Au={props:["createType","createObject"],components:{VueFileUpload:ro.a},data:function(){return{tabvalue:"t1",tabindex:3,tablist:[{tab:"1",name:"t1",title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]},{tab:"2",name:"t2",title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]},{tab:"3",name:"t3",title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]}],form:{type:"0",deeplink:"",homepage:"",desc:"",title:"",actions:""},otherpagename:"",otherpageid:"",msg:{homepage:"请选择主页",desc:"请输入文本",actions:"请选择行动号召"},xtoken:localStorage.getItem("atom_token"),fileOption:{headers:{"X-Token":localStorage.getItem("atom_token")}},fileOptionFM:{headers:{"X-Token":localStorage.getItem("atom_token")},formData:{type:"2"}},imgfilters:[{name:"imageFilter",fn:function(t){var e="|"+t.type.slice(t.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(e)}}],videofilters:[{name:"videoFilter",fn:function(t){var e="|"+t.type.slice(t.type.lastIndexOf("/")+1)+"|";return-1!=="|vob|ifo|mpg|mpeg|dat|mp4|3gp|mov|rm|ram|rmvb|wmv|asf|avi|asx|".indexOf(e)}}],eventsIMG:{onProgressUpload:function(t,e){console.log(t.name),this.vm.$emit("uploadPic",t,e)},onSuccessUpload:function(t,e,a,i){if(0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadError",e,t);this.vm.$emit("uploadRes",e)},onAddFileSuccess:function(t){this.vm.$emit("checkUpload",t)}},eventsVIO:{onProgressUpload:function(t,e){console.log(t.name),this.vm.$emit("uploadVio",t,e)},onSuccessUpload:function(t,e,a,i){if(0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadVioError",e,t);this.vm.$emit("uploadVioRes",e)},onAddFileSuccess:function(t){this.vm.$emit("checkUpload",t)}},eventsFM:{onProgressUpload:function(t,e){console.log(arguments),this.vm.$emit("uploadFm",t,e)},onSuccessUpload:function(t,e,a,i){if(0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadFmError",e,t);this.vm.$emit("uploadFmRes",e)},onAddFileSuccess:function(t){this.vm.$emit("checkUploadFm",t)}}}},computed:Object(M["a"])({},Object(P["d"])(["allpagelist"]),Object(P["b"])(["allactions"]),{uploadFileUrl:function(){return"".concat(uo["a"]["production"].UPLOAD_URL,"/file/")}}),mounted:function(){var t=this,e=this.createObject;if(e&&(this.otherpageid=e.pageId?e.pageId:"",this.allpagelist.find(function(t){return t.pageId==e.pageId})||(this.otherpagename=e.pageName?e.pageName:"")),e&&e.cards){this.SETSTATE({k:"edittype",v:"2"}),this.form.homepage=e.pageId?e.pageId:"",this.form.deeplink=e.deeplink?e.deeplink:"",this.form.desc=e.creativityText?e.creativityText:"",this.form.actions=e.actionCallOn?e.actionCallOn:"",this.tablist=[];var a=JSON.parse(e.cards);a.forEach(function(e,a){var i={tab:a+1,name:"t".concat(a+1),title:e.title,deeplink:e.cardDeepLink,type:e.cardType.toString(),processIMG:[],processVIO:[]};if(e.videoId){var s={name:e.videoId,process:100,file:null,size:0,fmname:e.imageHash,fmprocess:100,videoId:e.videoId,videoUrl:e.videoUrl?e.videoUrl:"",videoHash:"",fmUrl:e.imageUrl?e.imageUrl:"",fmHash:e.imageHash?e.imageHash:""};i.processVIO.push(s)}else{var n={name:e.imageHash,imageUrl:e.imageUrl?e.imageUrl:"",imageHash:e.imageHash?e.imageHash:"",process:100,size:0,file:null};i.processIMG.push(n)}t.tablist.push(i)}),console.log(this.tablist)}},watch:{"form.homepage":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.deeplink":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.desc":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.actions":{handler:function(t,e){this.$emit("changeEdit",!0)}},tablist:function(){this.$emit("changeEdit",!0)},createType:function(t,e){this.tablist.forEach(function(t){if("1"==t.type){var e=t.processIMG[0]?t.processIMG[0].file:null;!e||e.isSuccess||e.isCancel||e.cancel()}else{e=t.processVIO[0]?t.processVIO[0].fmfile||t.processVIO[0].file:null;!e||e.isSuccess||e.isCancel||e.cancel()}}),this.form.type="0",this.form.deeplink="",this.form.homepage="",this.form.desc="",this.form.title="",this.form.actions="",this.tablist=[{tab:"1",name:"t1",title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]},{tab:"2",name:"t2",title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]},{tab:"3",name:"t3",title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]}],this.tabvalue="t1",this.tabindex=3,this.otherpagename="",this.otherpageid=""}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{getCheckData:function(){for(var t,e=this,a=this.form,i=0;i<this.tablist.length;i++){var s=this.tablist[i];if(""==a["homepage"])return[!1,this.msg["homepage"]];if("1"==s.type){if(0==s.processIMG.length){t=[!1,"卡片".concat(i+1," 图片未上传")];break}if(100!=s.processIMG[0].process){t=[!1,"卡片".concat(i+1," 图片正在上传中……")];break}t=[!0]}else{if(0==s.processVIO.length){t=[!1,"卡片".concat(i+1," 视频未上传")];break}if(100!=s.processVIO[0].process){t=[!1,"卡片".concat(i+1," 视频正在上传中……")];break}if(!s.processVIO[0].fmname){t=[!1,"卡片".concat(i+1," 封面图未上传")];break}if(100!=s.processVIO[0].fmprocess){t=[!1,"卡片".concat(i+1," 封面图正在上传中……")];break}t=[!0]}if(""==s.title){t=[!1,"卡片".concat(i+1," 标题未填写")];break}}if(!t[0])return t;if(""==a["desc"])return[!1,this.msg["desc"]];if(""===a["actions"])return[!1,this.msg["actions"]];var n=this.createObject?this.createObject:{actionCallOn:0,actionCallOnName:"",card:"",cards:"",classify:"",countryId:"",countryName:"",createTime:"",creater:"",creativityName:"",creativityText:"",creativityTitle:"",creativityType:0,deeplink:"",fbAccountId:"",fbAdId:"",fbCreativeId:"",id:0,image:"",imageHash:"",imageName:"",imageUrl:"",pageId:"",pageLogo:"",pageName:"",platFromUrl:"",projectId:0,sex:"",status:0,token:"",videoId:"",videoName:"",videoUrl:""},o=this.allpagelist.filter(function(t){return t.pageId==e.form.homepage})[0],r=this.allactions.filter(function(t){return t.code==e.form.actions})[0];n.pageId=o.pageId,n.pageLogo=o.picture,n.pageName=o.name,n.actionCallOn=r.code,n.actionCallOnName=r.name,n.creativityText=this.form.desc,n.token=this.xtoken,n.deeplink=this.form.deeplink;var c=[];return this.tablist.forEach(function(t,e){var a,i;"1"==t.type?(a={imageUrl:t.processIMG[0].imageUrl,imageHash:t.processIMG[0].imageHash},i={videoUrl:"",videoHash:"",videoId:""}):(a={imageUrl:t.processVIO[0].fmUrl,imageHash:t.processVIO[0].fmHash},i={videoUrl:t.processVIO[0].videoUrl,videoHash:t.processVIO[0].videoHash,videoId:t.processVIO[0].videoId});var s={cardType:t.type,title:t.title,cardDeepLink:t.deeplink};s.imageUrl=a.imageUrl,s.videoUrl=i.videoUrl,a.imageUrl||(s.imageHash=a.imageHash),i.videoUrl||(s.videoId=i.videoId),c.push(s)}),n.cards=ce()(c),[!0,n]},matchMD5:function(t,e,a){this.$store.dispatch("matchFileMD5",{md5:[t],file:e,list:this.tablist,type:a,tabvalue:this.tabvalue,on:"cardcreate",vdname:this.fmvideoname})},resetImgVideo:function(t){this.tablist.forEach(function(e){if(e.name==t)if("1"==e.type){var a=e.processVIO[0]?e.processVIO[0].fmfile||e.processVIO[0].file:null;!a||a.isSuccess||a.isCancel||a.cancel(),e.processVIO=[]}else{a=e.processIMG[0]?e.processIMG[0].file:null;!a||a.isSuccess||a.isCancel||a.cancel(),e.processIMG=[]}})},addTab:function(t){var e=++this.tabindex+"";this.tablist.push({tab:e,name:"t"+e,title:"",deeplink:"",type:"1",processIMG:[],processVIO:[]}),this.tabvalue="t"+e},removeTab:function(t){this.tablist.forEach(function(e){if(e.name==t)if("1"==e.type){var a=e.processIMG[0]?e.processIMG[0].file:null;!a||a.isSuccess||a.isCancel||a.cancel()}else{a=e.processVIO[0]?e.processVIO[0].fmfile||e.processVIO[0].file:null;!a||a.isSuccess||a.isCancel||a.cancel()}});var e=this.tablist,a=this.tabvalue;a===t&&e.forEach(function(i,s){i.name==t&&(a=e[s+1]?e[s+1].name:e[s-1].name)}),this.tabvalue=a,this.tablist=e.filter(function(e){return e.name!==t})},uploadFmError:function(t,e){this.tablist.forEach(function(t){t.processVIO[0]&&t.processVIO[0].fmname==e.name&&(t.processVIO[0].fmname="",t.processVIO[0].fmprocess="")})},uploadFmRes:function(t){console.log(t),this.tablist.forEach(function(e){e.processVIO[0]&&e.processVIO[0].fmname==t.data[0].originName&&(e.processVIO[0].fmUrl=t.data[0].targetName,e.processVIO[0].fmHash=t.data[0].md5)})},uploadFm:function(t,e){var a=this,i=this.tablist.find(function(e){return e.processVIO[0]&&e.processVIO[0].fmname==t.name});i?this.tablist.forEach(function(a){a.processVIO[0]&&a.processVIO[0].fmname==t.name&&(a.processVIO[0].fmprocess=e)}):this.tablist.forEach(function(i){i.name==a.tabvalue&&(i.processVIO[0].fmname=t.name,i.processVIO[0].fmprocess=e,i.processVIO[0].fmfile=t)})},uploadVioError:function(t,e){this.tablist.forEach(function(t){t.processVIO[0]&&t.processVIO[0].name==e.name&&(t.processVIO=[])})},uploadVioRes:function(t){this.tablist.forEach(function(e){e.processVIO[0]&&e.processVIO[0].name==t.data[0].originName&&(e.processVIO[0].videoUrl=t.data[0].targetName,e.processVIO[0].videoHash=t.data[0].md5)})},uploadVio:function(t,e){var a=this,i={};i.name=t.name,i.process=e,i.file=t,i.size=t.size,i.fmname="",i.fmprocess=0,i.videoId="";var s=this.tablist.find(function(e){return e.processVIO[0]&&e.processVIO[0].name==t.name});s?this.tablist.forEach(function(a){a.processVIO[0]&&a.processVIO[0].name==t.name&&(a.processVIO[0].process=e)}):this.tablist.forEach(function(t){t.name==a.tabvalue&&t.processVIO.push(i)})},delVIO:function(t){var e=this;t&&t.isUploading&&(t.cancel(),t.remove()),this.tablist.forEach(function(t){t.name==e.tabvalue&&(t.processVIO=[])})},uploadRes:function(t){this.tablist.forEach(function(e){e.processIMG[0]&&e.processIMG[0].name==t.data[0].originName&&(e.processIMG[0].imageUrl=t.data[0].targetName,e.processIMG[0].imageHash=t.data[0].md5)})},uploadError:function(t,e){this.tablist.forEach(function(t){t.processIMG[0]&&t.processIMG[0].name==e.name&&(t.processIMG=[])})},checkUpload:function(t){var e=this;if(this.tablist.find(function(e){return e.processIMG[0]&&e.processIMG[0].name==t.name}))t.remove(),Object(H["g"])("相同图片不可重复上传，请更换图片或重新命名");else{var a=t.file;Tu.md5(a,function(a,i){e.matchMD5(i,t,"img")},function(t){})}},checkUploadVio:function(t){var e=this;if(this.tablist.find(function(e){return e.processVIO[0]&&e.processVIO[0].name==t.name}))t.remove(),Object(H["g"])("相同视频不可重复上传，请更换视频或重新命名");else{var a=t.file;Tu.md5(a,function(a,i){e.matchMD5(i,t,"video")},function(t){})}},checkUploadFm:function(t){var e=this;if(this.tablist.find(function(e){return e.processVIO[0]&&e.processVIO[0].fmname==t.name}))t.remove(),Object(H["g"])("暂时无法上传相同封面图，请更换封面图或重新命名");else{var a=t.file;Tu.md5(a,function(a,i){e.matchMD5(i,t,"fm")},function(t){})}},uploadPic:function(t,e){var a=this,i={};i.name=t.name,i.process=e,i.size=t.size,i.file=t;var s=this.tablist.find(function(e){return e.processIMG[0]&&e.processIMG[0].name==t.name});s?this.tablist.forEach(function(a){a.processIMG[0]&&a.processIMG[0].name==t.name&&(a.processIMG[0].process=e)}):this.tablist.forEach(function(t){t.name==a.tabvalue&&t.processIMG.push(i)})},delIMG:function(t){var e=this;t&&t.isUploading&&(t.cancel(),t.remove()),this.tablist.forEach(function(t){t.name==e.tabvalue&&(t.processIMG=[])})},selectHomepage:function(){var t=this,e=this.allpagelist.filter(function(e){return e.pageId==t.form.homepage})[0];e&&!e.insId&&(this.form.homepage="",Object(H["g"])("此主页无PBIA，请先同步"))}})},xu=Au,Su=(a("d867"),a("8a10"),Object(C["a"])(xu,wu,Iu,!1,null,"2131c8f0",null)),ju=Su.exports,Du=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form,"label-width":"100px"}},[a("el-form-item",{staticClass:"cline",attrs:{label:"主页"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择主页"},on:{change:t.selectHomepage},model:{value:t.form.homepage,callback:function(e){t.$set(t.form,"homepage",e)},expression:"form.homepage"}},[t.otherpageid?a("el-option",{attrs:{label:t.otherpagename,value:t.otherpageid}}):t._e(),t._l(t.allpagelist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.pageId}})})],2)],1),0==t.createType?a("el-form-item",{staticClass:"cline uploadfile",attrs:{label:"图片或视频"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"亮起日期有数据，建议上传无数据的日期。上传亮起日期的留存，旧数据会被覆盖",placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("图片总数：小于 10\n        "),a("br"),t._v("推荐图片参数：宽高比 1.9:1\n        "),a("br"),t._v("如果包含 Instagram 版位，请考虑使用正方形图片，以获得更好的表现\n        "),a("br"),t._v("推荐图片尺寸：1,200 x 628 像素\n        "),a("br"),t._v("视频：如果包含 Instagram 版位，则只能使用正方形视频或横向视频\n      ")]),a("i",{staticClass:"el-icon-question elnotice"})]),a("el-button",{staticClass:"moreInfo",attrs:{type:"primary",size:"small",disabled:t.processIMG.length>=10&&t.processVIO.length>=10}},[t._v("上传")]),a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:t.processIMG.length<10||t.processVIO.length<10,expression:"processIMG.length < 10 || processVIO.length < 10"}],ref:"vueFileUploader",staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsIMG,multiple:"",requestOptions:t.fileOption,filters:t.matterfilters},on:{uploadPic:t.uploadPic,onAdd:t.onAddItem,checkUploadPic:t.checkUploadPic,uploadRes:t.uploadRes,uploadError:t.uploadError}},[a("span",{attrs:{slot:"label"},slot:"label"})]),a("span",{staticClass:"fonttip"},[t._v(t._s(t.processIMG.length)+"/10个图片，"+t._s(t.processVIO.length)+"/10个视频")]),a("ul",{staticClass:"reslist"},t._l(t.processIMG,function(e,i){return a("li",{key:i},[a("div",{staticClass:"image"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"item.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("i",{staticClass:"el-icon-error processclose",on:{click:function(a){t.delIMG(e.file,e.name)}}})])}),0),a("ul",{staticClass:"reslist"},t._l(t.processVIO,function(e,i){return a("li",{key:i},[a("div",{staticClass:"video"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-document"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"item.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("i",{staticClass:"el-icon-error processclose",on:{click:function(a){t.delIMG(e.file,e.name)}}})])}),0)],1):a("el-form-item",{staticClass:"cline uploadfile",attrs:{label:"图片"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"亮起日期有数据，建议上传无数据的日期。上传亮起日期的留存，旧数据会被覆盖",placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("图片总数：小于 10\n        "),a("br"),t._v("推荐图片参数：宽高比 1.9:1\n        "),a("br"),t._v("如果包含 Instagram 版位，请考虑使用正方形图片，以获得更好的表现\n        "),a("br"),t._v("推荐图片尺寸：1,200 x 628 像素\n      ")]),a("i",{staticClass:"el-icon-question elnotice2"})]),a("el-button",{staticClass:"moreInfo",attrs:{type:"primary",size:"small",disabled:t.processIMG.length>=10}},[t._v("上传图片")]),a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:t.processIMG.length<10,expression:"processIMG.length < 10"}],ref:"vueFileUploaderLB",staticClass:"fileinput",attrs:{name:"file",url:t.uploadFileUrl,events:t.eventsIMG,multiple:"",requestOptions:t.fileOption,filters:t.imgfilters},on:{uploadPic:t.uploadPic,onAdd:t.onAddItem,checkUploadPic:t.checkUploadPic,uploadRes:t.uploadRes,uploadError:t.uploadError}},[a("span",{attrs:{slot:"label"},slot:"label"})]),a("span",{staticClass:"fonttip"},[t._v(t._s(t.processIMG.length)+"/10个图片")]),a("ul",{staticClass:"reslist"},t._l(t.processIMG,function(e,i){return a("li",{key:i},[a("div",{staticClass:"image"},[a("p",{staticClass:"processname"},[a("span",{staticClass:"el-icon-picture-outline"}),a("span",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:100==e.process,expression:"item.process == 100"}],staticClass:"el-icon-check"})])],1),a("p",{staticClass:"processline"},[a("i",{staticClass:"line"},[a("em",{style:"width:"+e.process+"%"})]),a("span",[t._v(t._s(e.process)+"%")])])]),a("i",{staticClass:"el-icon-error processclose",on:{click:function(a){t.delIMG(e.file,e.name)}}})])}),0)],1),a("el-form-item",{staticClass:"cline",attrs:{label:"文本"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.form.descarr.length>0,expression:"form.descarr.length > 0"}],staticClass:"descarea"},[a("div",{staticClass:"tag"},t._l(t.form.descarr,function(e){return a("span",{key:e,staticClass:"evtag"},[t._v("\n          "+t._s(e)+"\n          "),a("i",{staticClass:"el-icon-error",on:{click:function(a){t.delDesc(e)}}})])}),0)]),a("el-input",{staticClass:"textarea",attrs:{type:"textarea",placeholder:"请输入文字说明，介绍推广内容",maxlength:"1024",autosize:{minRows:3.5,maxRows:3.5}},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}}),a("el-button",{staticClass:"moreInfo",attrs:{type:"primary",size:"small",disabled:t.form.descarr.length>=5},on:{click:t.addDesc}},[t._v("新增文本")]),a("span",{staticClass:"fonttip"},[t._v(t._s(t.form.descarr.length)+"/5个文本")])],1),a("el-form-item",{staticClass:"cartitle",attrs:{label:"标题"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.form.titlearr.length>0,expression:"form.titlearr.length > 0"}],staticClass:"descarea"},[a("div",{staticClass:"tag"},t._l(t.form.titlearr,function(e){return a("span",{key:e,staticClass:"evtag"},[t._v("\n          "+t._s(e)+"\n          "),a("i",{staticClass:"el-icon-error",on:{click:function(a){t.delTitle(e)}}})])}),0)]),a("el-input",{attrs:{placeholder:"请输入标题",maxlength:"255"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),a("el-button",{staticClass:"moreInfo",attrs:{type:"primary",size:"small",disabled:t.form.titlearr.length>=5},on:{click:t.addTitle}},[t._v("新增标题")]),a("span",{staticClass:"fonttip"},[t._v(t._s(t.form.titlearr.length)+"/5个标题")])],1),a("el-form-item",{staticClass:"cline",attrs:{label:"行动号召"}},[a("el-select",{attrs:{multiple:"",filterable:"",remote:"",placeholder:"行动号召"},on:{change:t.actionChange},model:{value:t.form.actionArr,callback:function(e){t.$set(t.form,"actionArr",e)},expression:"form.actionArr"}},t._l(t.allactions,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.name,disabled:t.form.actionArr.length>=5}})}),1),a("span",{staticClass:"fonttip"},[t._v(t._s(t.form.actionArr.length)+"/5个行动号召")])],1),a("el-form-item",{staticClass:"cline",attrs:{label:"deeplink"}},[a("el-input",{attrs:{placeholder:"可跳转到APP指定页面，选填，为空则仅下载APP"},model:{value:t.form.deeplink,callback:function(e){t.$set(t.form,"deeplink",e)},expression:"form.deeplink"}})],1)],1)},Mu=[],Pu=new lo.a,Lu={props:["createType","createObject"],components:{VueFileUpload:ro.a},data:function(){return{form:{homepage:"",descarr:[],desc:"",titlearr:[],title:"",actionArr:[],deeplink:""},msg:{homepage:"请选择主页",imgvideo:"请上传图片",videoUrl:"请上传视频",imginfo:"请上传至少2张图片",matterinfo:"请上传图片或视频",desc:"请输入文本",title:"请输入标题",actions:"请选择行动号召"},otherpageid:"",otherpagename:"",disfile:null,fileOption:{headers:{"X-Token":localStorage.getItem("atom_token")}},matterfilters:[{name:"imageFilter",fn:function(t){var e="|"+t.type.slice(t.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|vob|ifo|mpg|mpeg|dat|mp4|3gp|mov|rm|ram|rmvb|wmv|asf|avi|asx|".indexOf(e)}}],imgfilters:[{name:"imageFilter",fn:function(t){var e="|"+t.type.slice(t.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(e)}}],uploadsize:0,dom:"",processIMG:[],processVIO:[],eventsIMG:{onProgressUpload:function(t,e){console.log(t.name),this.vm.$emit("uploadPic",t,e)},onSuccessUpload:function(t,e,a,i){if(0!=e.code)return Object(H["a"])(e.msg),void this.vm.$emit("uploadError",e,t);this.vm.$emit("uploadRes",e,t),console.log("%cremove","color: red"),t.remove()},onAddFileSuccess:function(t){console.log("%cwaiting","color: red"),this.vm.$emit("checkUploadPic",t)}}}},computed:Object(M["a"])({},Object(P["d"])(["allpagelist","allactions","wantupload","withcreatead","edittype"]),{uploadFileUrl:function(){return"".concat(uo["a"]["production"].UPLOAD_URL,"/file/")}}),watch:{createObject:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$barrageTime(100);case 2:this.reset(),e&&e.assetFeedSpec&&(this.allpagelist.find(function(t){return t.pageId==e.pageId})||(this.otherpageid=e.pageId?e.pageId:"",this.otherpagename=e.pageName?e.pageName:""),this.SETSTATE({k:"edittype",v:this.createType}),this.dataSet(e));case 4:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),createType:function(t,e){this.reset(),this.edittype==t&&this.createObject&&this.dataSet(this.createObject)},wantupload:function(t,e){console.log("wantupload:",t),0!=t&&t==this.uploadsize&&(console.log("%call ready","color: red"),this.$refs[this.dom].uploadAll())}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{dataSet:function(t){var e=this,a=JSON.parse(t.assetFeedSpec);this.form.homepage=t.pageId?t.pageId:"",this.form.deeplink=a.link_urls[0].deeplink_url,this.form.descarr=a.bodies.map(function(t){return t.text}),this.form.titlearr=a.titles.map(function(t){return t.text}),this.form.actionArr=a.call_to_action_types,a.images&&a.images.forEach(function(t){e.processIMG.push({name:t.hash,process:100,size:0,file:null,imageUrl:"",imageHash:t.hash})}),0==this.createType&&a.videos&&a.videos.forEach(function(t){e.processVIO.push({name:t.video_id,process:100,file:null,size:0,videoUrl:"",videoHash:"",videoId:t.video_id})})},reset:function(){!this.disfile||this.disfile.isSuccess||this.disfile.isCancel||this.disfile.cancel(),this.processIMG=[],this.processVIO=[],this.form={homepage:"",descarr:[],desc:"",titlearr:[],title:"",actionArr:[],deeplink:""},this.SETSTATE({k:"withcreatead",v:!0})},selectHomepage:function(){var t=this,e=this.allpagelist.filter(function(e){return e.pageId==t.form.homepage})[0];e.insId||(this.form.homepage="",Object(H["g"])("此主页无PBIA，请先同步"))},actionChange:function(){},getCheckData:function(){var t=this,e=this.form;if(!this.withcreatead)return[!1,"图片/视频正在上传中..."];if(""==e["homepage"])return[!1,this.msg["homepage"]];if(1==this.createType&&this.processIMG.length<2)return[!1,this.msg["imginfo"]];if(0==this.createType&&0==this.processIMG.length&&0==this.processVIO.length)return[!1,this.msg["matterinfo"]];if(0==e["descarr"].length)return[!1,this.msg["desc"]];if(0==e["titlearr"].length)return[!1,this.msg["title"]];if(0==e["actionArr"].length)return[!1,this.msg["actions"]];var a=this.processIMG.length+this.processVIO.length+this.form.descarr.length+this.form.titlearr.length+this.form.actionArr.length+(this.form.deeplink?1:0);if(0==this.createType&&a>28)return[!1,"图片+视频+文本+标题+行动号召+deeplink总数不能超过28"];var i=this.createObject?this.createObject:{actionCallOn:0,actionCallOnName:"",card:"",cards:"",classify:"",countryId:"",countryName:"",createTime:"",creater:"",creativityName:"",creativityText:"",creativityTitle:"",creativityType:0,deeplink:"",fbAccountId:"",fbAdId:"",fbCreativeId:"",id:0,image:"",imageHash:"",imageName:"",imageUrl:"",pageId:"",pageLogo:"",pageName:"",platFromUrl:"",projectId:0,sex:"",status:0,token:"",videoId:"",videoName:"",videoUrl:"",images:"",videos:"",bodies:"",callToActionTypes:"",titles:"",adFormats:""},s=this.allpagelist.filter(function(e){return e.pageId==t.form.homepage})[0];i.callToActionTypes=this.form.actionArr.map(function(t){return t.replace(/\s/g,"_").toLocaleUpperCase()}).join(","),i.deeplink=this.form.deeplink,i.pageId=s?s.pageId:this.otherpageid,i.pageLogo=s?s.picture:"",i.pageName=s?s.name:this.otherpagename,i.bodies=this.form.descarr.join("/"),i.titles=this.form.titlearr.join("/"),i.adFormats=0==this.createType?"AUTOMATIC_FORMAT":"CAROUSEL_IMAGE",i.token=this.xtoken;var n=this.processIMG.filter(function(t){return t.imageUrl}),o=this.processIMG.filter(function(t){return!t.imageUrl&&t.imageHash});if(i.images=n.length>0?n.map(function(t){return t.imageUrl}).join(","):"",i.imageHashs=o.length>0?o.map(function(t){return t.imageHash}).join(","):"",0==this.createType){var r=this.processVIO.filter(function(t){return t.videoUrl}),c=this.processVIO.filter(function(t){return!t.videoUrl&&t.videoId});i.videos=r.length>0?r.map(function(t){return t.videoUrl}).join(","):"",i.videoIds=c.length>0?c.map(function(t){return t.videoId}).join(","):""}else i.videos="",i.videoIds="";return[!0,i]},delTitle:function(t){this.form.titlearr=this.form.titlearr.filter(function(e){return e!=t})},addTitle:function(){if(""!=this.form.title.trim())if(this.form.title.trim().length>255)Object(H["g"])("文本不超过 255 个字符");else{var t=this.form.title.trim();this.form.titlearr=this.form.titlearr.filter(function(e){return e!=t}),this.form.titlearr.push(t),this.form.title=""}else Object(H["g"])("请在文本框内输入想要添加的标题名称")},delDesc:function(t){this.form.descarr=this.form.descarr.filter(function(e){return e!=t})},addDesc:function(){if(""!=this.form.desc.trim())if(this.form.desc.trim().length>1024)Object(H["g"])("文本不超过 1024 个字符");else{var t=this.form.desc.trim();this.form.descarr=this.form.descarr.filter(function(e){return e!=t}),this.form.descarr.push(t),this.form.desc=""}else Object(H["g"])("请在文本框内输入想要添加的文本")},matchMD5:function(t,e,a){this.dom="vueFileUploader","1"==this.createType&&(this.dom+="LB"),this.$store.dispatch("matchMutiFileMD5",{md5:[t],file:e,list:"img"==a?this.processIMG:this.processVIO,type:a,on:"withcreatead",vdname:this.fmvideoname,maxcount:"fm"==a?0:10,callback:function(){}})},onAddItem:function(t){console.log(t),this.SETSTATE({k:"wantupload",v:0}),this.SETSTATE({k:"imgspwant",v:0}),this.SETSTATE({k:"viospwant",v:0}),this.uploadsize=t.length,console.log("this.uploadsize:",this.uploadsize)},changeFocusaccount:function(){},showUploading:function(t){this.fmvideoname=t},uploadError:function(t,e){this.SETSTATE({k:"withcreatead",v:!0}),this.processIMG=this.processIMG.filter(function(t){return t.name!=e.name}),this.processVIO=this.processVIO.filter(function(t){return t.name!=e.name})},uploadRes:function(t,e){this.SETSTATE({k:"withcreatead",v:!0}),/jpg|png|jpeg|bmp|gif/.test(e.type)?this.processIMG.forEach(function(e){e.name==t.data[0].originName&&(e.imageUrl=t.data[0].targetName,e.imageHash=t.data[0].md5)}):this.processVIO.forEach(function(e){e.name==t.data[0].originName&&(e.videoUrl=t.data[0].targetName,e.videoHash=t.data[0].md5)})},checkUploadPic:function(t){var e=this,a=this.processIMG.find(function(e){return e.name==t.name&&(!e.size||e.size&&e.size==t.size)}),i=this.processVIO.find(function(e){return e.name==t.name&&(!e.size||e.size&&e.size==t.size)}),s=!1,n=/jpg|png|jpeg|bmp|gif/;switch(!0){case Boolean(a):Object(H["g"])("相同图片不可重复上传"),s=!0;break;case Boolean(i):Object(H["g"])("相同视频不可重复上传"),s=!0;break}if(s)t.remove();else{var o=t.file;Pu.md5(o,function(a,i){e.matchMD5(i,t,n.test(o.type)?"img":"video")},function(t){})}},uploadPic:function(t,e){this.disfile=t,this.SETSTATE({k:"withcreatead",v:!1});var a={};a.name=t.name,a.process=e,a.size=t.size,a.file=t,/jpg|png|jpeg|bmp|gif/.test(t.type)?(this.processIMG.forEach(function(a){a.name==t.name&&(a.process=e)}),this.processIMG.find(function(e){return e.name==t.name})||this.processIMG.push(a)):(a.fmname="",a.fmprocess=0,this.processVIO.forEach(function(a){a.name==t.name&&(a.process=e)}),this.processVIO.find(function(e){return e.name==t.name})||this.processVIO.push(a))},delIMG:function(t,e){console.log(t),t&&t.isUploading&&(t.cancel(),t.remove()),this.processIMG=this.processIMG.filter(function(t){return t.name!=e}),this.processVIO=this.processVIO.filter(function(t){return t.name!=e}),this.SETSTATE({k:"withcreatead",v:!0})}})},Ru=Lu,Nu=(a("30148"),Object(C["a"])(Ru,Du,Mu,!1,null,"1fdc5d18",null)),$u=Nu.exports,Uu={props:["editId"],components:{CreateList:vu,CreativityNormal:Ou,CreativityCarousel:ju,ActiveCreate:$u},data:function(){return{editArray:[],createObject:null,fbAccountId:"",isactive:!1,activespecial:!1,form:{adset:"",name:"",type:0,activeName:"first",checkcreate:null},mutilstatus:{},mutil:{adset:!1,name:!1,type:!1}}},computed:Object(M["a"])({},Object(P["d"])(["createadsetlist","setsortlist","editadlist","adsetlistload","hascreatead"])),mounted:function(){this.$textCopy("#copyButtonAd"),this.$store.dispatch("getAllpages"),this.$store.dispatch("getAllactions")},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{selectCreate:function(t){this.form.checkcreate=t?t.id:null},remoteMethod:function(t){""!==t?(this.SETSTATE({k:"adsetlistload",v:!0}),this.$store.dispatch("getCreateAdsetlist",{keyword:t,projectId:this.$route.params.id})):this.SETSTATE({k:"createadsetlist",v:[]})},reset:function(){this.SETSTATE({k:"createadsetlist",v:[]}),this.SETSTATE({k:"hascreatead",v:!1}),this.isactive?0==this.form.type&&this.$refs.activeCreate.reset():(0==this.form.type&&this.$refs.createNormal.reset(),this.$refs.createList.reset()),this.editArray=[],this.fbAccountId="",this.form={adset:"",name:"",type:0,activeName:"first",checkcreate:null},this.createObject=null,this.mutilstatus={},this.mutil={adset:!1,name:!1,type:!1},this.isactive=!1,this.activespecial=!1},dataChecked:function(){return this.form.adset||this.mutilstatus.adset?this.form.name.trim()||this.mutilstatus.name?[!0]:[!1,"请输入广告名称"]:[!1,"请选择广告组"]},createChecked:function(){return this.mutilstatus.type?[!0]:this.isactive?this.$refs.activeCreate.getCheckData():"first"==this.form.activeName?2==this.form.type?this.$refs.createCarousel.getCheckData():this.$refs.createNormal.getCheckData():this.form.checkcreate?[!0]:[!1,"请选择创意"]},setFbAccountId:function(){this.fbAccountId=this.form.adset.split("|")[1],this.adsetIfdynamicCreative(),this.form.type=0},adsetIfdynamicCreative:function(){var t=this,e=this.createadsetlist.find(function(e){return e.adSetId==t.form.adset.split("|")[0]});this.isactive=e.isDynamicCreative,this.SETSTATE({k:"hascreatead",v:!1}),e.isDynamicCreative&&this.$store.dispatch("isActiveAd",e.adSetId)},extractInfo:function(){var t=this,e=this.dataChecked();if(e[0]){var a,i=this.createChecked();if(i[0]){if(a=i[1],a){a.fbAccountId=this.fbAccountId;var s={adName:this.mutilstatus.name?null:this.form.name,creativeVO:a,creativeType:this.isactive?"3":this.form.type,projectId:this.$route.params.id};return this.editArray.length>0?(s.adIds=this.editArray.map(function(t){return t.adId}),s.adSetId=null):(s.adIds=[],s.adSetId=this.form.adset.split("|")[0]),[s,"create"]}if(this.editArray.length>0){var n=[];return this.editArray.forEach(function(e){var a={};a.adId=e.adId,a.fbCreativeId=t.mutilstatus.type?e.creativeId:null,a.adName=t.mutilstatus.name?e.name:t.form.name,a.creativeId=t.mutilstatus.type?null:t.form.checkcreate,a.adSetId=t.mutilstatus.adset?e.adsetId:t.form.adset.split("|")[0],n.push(a)}),[n,"select"]}var o={adId:null,fbCreativeId:null,adName:this.form.name,creativeId:this.form.checkcreate,adSetId:this.form.adset.split("|")[0]};return[[o],"select"]}Object(H["g"])(i[1])}else Object(H["g"])(e[1])},initData:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.setsortlist.length>1?this.form.adset="":this.form.adset=0==this.setsortlist.length?"":this.setsortlist[0].adsetId+"|act_"+this.setsortlist[0].accountId,!this.form.adset){t.next=6;break}return this.fbAccountId=this.form.adset.split("|")[1],t.next=5,this.$store.dispatch("getCreateAdsetlist",{keyword:this.setsortlist[0].adsetId,projectId:this.$route.params.id});case 5:this.adsetIfdynamicCreative();case 6:this.$refs.createNormal.initData(),setTimeout(function(){e.$emit("changeEdit",!1)},100);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),changeEdit:function(t){this.$emit("changeEdit",t)},handleClick:function(){}}),watch:{editadlist:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(e,a){var i,s,n,o,r,c,l,u,d=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.length>0)){t.next=45;break}return this.editArray=e,this.fbAccountId="act_"+e[0].accountId,i=Object(Ml["a"])(new Dl.a(e.map(function(t){return t.adsetId}))),this.form.adset=i.length>1?"":e[0].adsetId+"|act_"+e[0].accountId,this.form.name=Object(Ml["a"])(new Dl.a(e.map(function(t){return t.name}))).length>1?"":e[0].name,this.mutil={adset:!this.form.adset,name:!this.form.name,type:e.length>1},this.mutilstatus=ue()({},this.mutil),1==e.length&&this.$store.dispatch("getCreateAdsetlist",{keyword:e[0].adsetId,projectId:this.$route.params.id}),s=e.map(function(t){return t.creativeId}),n=Object(Ml["a"])(new Dl.a(s)).join(","),o=Cc["Loading"].service({fullscreen:!0}),t.next=14,this.$store.dispatch("creativeDetail",{creativeId:n});case 14:r=t.sent,o.close(),c=r.data.find(function(t){return t.assetFeedSpec&&"null"!=t.assetFeedSpec}),l=r.data.find(function(t){return!t.assetFeedSpec||"null"==t.assetFeedSpec}),t.t0=!0,t.next=t.t0===(Boolean(c)&&Boolean(l))?21:t.t0===Boolean(c)?24:26;break;case 21:return this.isactive=!0,this.activespecial=!0,t.abrupt("break",28);case 24:return this.isactive=!0,t.abrupt("break",28);case 26:return this.isactive=!1,t.abrupt("break",28);case 28:return t.next=30,this.$barrageTime(100);case 30:if(1!=s.length){t.next=44;break}if(this.createObject=r.data[0],!this.createObject.assetFeedSpec||"null"==this.createObject.assetFeedSpec){t.next=43;break}u=JSON.parse(this.createObject.assetFeedSpec),t.t1=u.ad_formats[0],t.next="AUTOMATIC_FORMAT"===t.t1?37:"CAROUSEL_IMAGE"===t.t1?39:41;break;case 37:return this.form.type=0,t.abrupt("break",41);case 39:return this.form.type=1,t.abrupt("break",41);case 41:t.next=44;break;case 43:this.createObject.cards?this.form.type=2:this.createObject.videoId?this.form.type=1:this.form.type=0;case 44:setTimeout(function(){d.$emit("changeEdit",!1)},200);case 45:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),"form.adset":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.name":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.type":{handler:function(t,e){this.$emit("changeEdit",!0)}},"form.checkcreate":{handler:function(t,e){this.$emit("changeEdit",!0)}}}},Fu=Uu,Bu=(a("783d"),a("280f"),Object(C["a"])(Fu,uu,du,!1,null,"127a38a4",null)),Ku=Bu.exports,Vu={components:{CreateAdset:lu,CreateCampaign:iu,CreateAd:Ku},data:function(){return{typeName:"",status:!1,breadcrumb:[],type:"",editId:[],editName:[],ifEdit:!1}},mounted:function(){},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{saveInfo:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e,a,i,s,n,o,r,c,l=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:t.t0=this.type,t.next="campaignName"===t.t0?3:"adSetName"===t.t0?18:"adName"===t.t0?34:58;break;case 3:if(e=this.$refs.createCampaign.extractInfo(),e){t.next=6;break}return t.abrupt("return");case 6:if(!(this.editId&&this.editId.length>0)){t.next=13;break}return t.next=9,this.$store.dispatch("editCampaign",e);case 9:a=t.sent,i="编辑成功",t.next=17;break;case 13:return t.next=15,this.$store.dispatch("createCampaign",e);case 15:a=t.sent,i="创建成功";case 17:return t.abrupt("break",58);case 18:if(s=this.$refs.createAdset.extractInfo(),s){t.next=21;break}return t.abrupt("return");case 21:if(!(this.editId&&this.editId.length>0)){t.next=28;break}return t.next=24,this.$store.dispatch("editAdset",s);case 24:a=t.sent,i="编辑成功",t.next=33;break;case 28:return e={adAccount:s.campaign.split("|")[1],adSetName:s.name,applicationId:s.applicationid,bidAmount:""===s.maxbid?null:Ns()(100*s.maxbid),billingType:s.bid,budgetType:s.moneytype,campaignList:[s.campaign.split("|")[0]],country:s.country,dayBudget:Ns()(100*s.money),days:s.rdate,device:"itunes"==s.platform?s.equip.filter(function(t){return"iPhone"==t||"iPad"==t}):s.equip.filter(function(t){return"Android_Smartphone"==t}),endMinute:this.$timeFormat(s.rtime[1],"HH")+":00",dynamicCreative:s.activecreate,endTime:new Date(s.date[1]).getTime(),filteAttentionUser:s.filtrapage,filteInstalledUser:-1!=s.filtra.indexOf("1")?"yes":"",gender:s.sex,interest:s.interest,locales:s.language,maxAge:s.age[1],minAge:s.age[0],platform:s.platform,position:"1"==s.auto[0]?[]:s.verpla,scheduleType:s.timerange,startMinute:this.$timeFormat(s.rtime[0],"HH")+":00",startTime:new Date(s.date[0]).getTime(),totalBudget:Ns()(100*s.money),minVersion:s.lowversion,maxVersion:s.highversion,includeAudience:s.target,excludeAudience:"1"==s.iftarget[0]?[]:s.notarget},t.next=31,this.$store.dispatch("createAdset",e);case 31:a=t.sent,i="创建成功";case 33:return t.abrupt("break",58);case 34:if(n=this.$refs.createAd.extractInfo(),n){t.next=37;break}return t.abrupt("return");case 37:if("select"!=n[1]){t.next=51;break}if(!(this.editId&&this.editId.length>0)){t.next=45;break}return t.next=41,this.$store.dispatch("editAd",n[0]);case 41:a=t.sent,i="编辑成功",t.next=49;break;case 45:return t.next=47,this.$store.dispatch("createAd",n[0]);case 47:a=t.sent,i="创建成功";case 49:t.next=57;break;case 51:return o=Cc["Loading"].service({fullscreen:!0}),t.next=54,this.$store.dispatch("createEditAdAsync",n[0]);case 54:r=t.sent,o.close(),r&&(this.ifEdit=!1,this.hideBox());case 57:return t.abrupt("break",58);case 58:if(a){t.next=60;break}return t.abrupt("return");case 60:c=a.data.filter(function(t){return"failed"==t.status}),0==c.length?(Object(H["f"])(i),this.ifEdit=!1,this.hideBox()):this.editId&&this.editId.length>0?this.$alert("".concat(c.map(function(t){return'<b style="color: #409eff">'.concat(t[l.typeName],"</b> ").concat(t.errMsg)}).join("<br/>")),"错误信息",{confirmButtonText:"重新编辑",dangerouslyUseHTMLString:!0,callback:function(){}}):Object(H["a"])("创建失败：".concat(c[0].errMsg));case 62:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),hideBox:function(){var t=this;this.ifEdit?this.$confirm("是否确定离开当前页面","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.status=!1,t.reset()}).catch(function(){}):(this.status=!1,this.reset())},reset:function(){this.breadcrumb=[],this.editId=[],this.editName=[],this.SETSTATE({k:"editcampaignlist",v:[]}),this.SETSTATE({k:"editadsetlist",v:[]}),this.SETSTATE({k:"editadlist",v:[]}),this.SETSTATE({k:"campaigncount",v:[]}),this.$refs.createCampaign.reset(),this.$refs.createAdset.reset(),this.$refs.createAd.reset()},showBox:function(t){var e=t.type,a=t.id,i=t.name;switch(this.status=!0,this.type=e,this.editId=a||[],i&&(this.editName=i),this.type){case"campaignName":this.typeName="campaignId",this.editId&&this.editId.length>0?(this.$store.dispatch("getCampaignInfo",{campaignId:this.editId}),this.$store.dispatch("calcuCount",{id:this.editId,type:"campaign"})):(this.breadcrumb=[{name:"创建广告系列",important:!0}],this.$refs.createCampaign.initData());break;case"adSetName":this.typeName="adSetId",this.editId&&this.editId.length>0?(this.$store.dispatch("getAdsetInfo",{adsetId:this.editId,applicationid:this.actions}),this.$store.dispatch("calcuCount",{id:this.editId,type:"adset"})):(this.breadcrumb=[{name:"创建广告组",important:!0}],this.$refs.createAdset.initData()),this.$store.dispatch("otherCountries"),this.$store.dispatch("getLanguage"),this.$store.dispatch("getInterests"),this.$store.dispatch("getAdsetCreateApplist"),this.$store.dispatch("getAdsetCreateAllpages");break;case"adName":this.typeName="adId",this.editId&&this.editId.length>0?(this.$store.dispatch("getAdInfo",{adId:this.editId}),this.$store.dispatch("calcuCount",{id:this.editId,type:"ad"})):(this.breadcrumb=[{name:"创建广告",important:!0}],this.$refs.createAd.initData()),this.$store.dispatch("getSelectCreateList",{creativityType:0,creativityName:"",classify:"",pageIndex:1,projectId:this.$route.params.id}),this.$store.dispatch("getClassify",this.$route.params.id);break}},changeEdit:function(t){this.ifEdit=t}}),computed:Object(M["a"])({},Object(P["d"])(["adcount","adsetcount","campaigncount","editcampaignlist","itemlist","hascreatead"]),{actions:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).applicationId}}),watch:{campaigncount:function(t,e){t>0&&(this.breadcrumb=[{name:this.campaigncount>1?"".concat(this.campaigncount,"个广告系列"):this.editName[0],important:"campaignName"==this.type},{name:"adSetName"!=this.type&&"adName"!=this.type||1!=this.adsetcount?"".concat(this.adsetcount,"个广告组"):this.editName[1],important:"adSetName"==this.type},{name:"adName"==this.type&&1==this.adcount?this.editName[2]:"".concat(this.adcount,"个广告"),important:"adName"==this.type}])}}},Wu=Vu,Gu=(a("0cef"),a("5ec6"),a("7eb3"),Object(C["a"])(Wu,Yl,Xl,!1,null,"7e697024",null)),zu=Gu.exports,Hu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"复制"+t.typeData.name,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.hideCopy}},["campaignName"==t.type?a("el-form",{attrs:{"label-position":"left"}},[a("el-form-item",{attrs:{label:"目标广告账户","label-width":"170px"}},[a("el-select",{staticClass:"accountselect",attrs:{filterable:"",placeholder:"选择广告账户，可搜索"},on:{change:t.selectAccount},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}},t._l(t.adaccountOption,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.fbId,attrs:{label:t.name+(-1!=t.fbId?"("+t.fbId+")":""),value:t.fbId}})}),1)}),1)],1),a("el-form-item",{attrs:{label:"每个广告系列副本数量","label-width":"170px"}},[a("el-input-number",{attrs:{min:1,step:1,disabled:t.ifstride,label:"描述文字"},model:{value:t.everyCount,callback:function(e){t.everyCount=e},expression:"everyCount"}}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.ifstride,expression:"ifstride"}]},[t._v("跨广告账户复制暂只支持1个副本")])],1)],1):t._e(),"adSetName"==t.type?a("el-form",{attrs:{"label-position":"left"}},[a("el-form-item",{attrs:{label:"复制到","label-width":"80px"}},[a("div",{staticClass:"target"},[a("el-radio",{attrs:{label:1},model:{value:t.targetArea,callback:function(e){t.targetArea=e},expression:"targetArea"}},[t._v("原广告系列")]),a("p",{directives:[{name:"show",rawName:"v-show",value:1==t.targetArea,expression:"targetArea == 1"}]},[t._v(t._s(t.originName))]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.originId&&1==t.targetArea,expression:"originId && targetArea == 1"}]},[t._v("ID:"+t._s(t.originId))])],1),a("div",{staticClass:"target"},[a("el-radio",{attrs:{label:2},model:{value:t.targetArea,callback:function(e){t.targetArea=e},expression:"targetArea"}},[t._v("其他已有广告系列")]),a("p",{directives:[{name:"show",rawName:"v-show",value:2==t.targetArea,expression:"targetArea == 2"}]},[a("el-select",{staticClass:"alreadyHas",attrs:{filterable:"",placeholder:"请输入广告系列名称/编号搜索，包含所有广告账户内的",remote:"","remote-method":t.searchCampaign},on:{change:t.selectCampaignAdset},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},t._l(t.copyCampaign,function(t){return a("el-option",{key:t.campaignId,attrs:{label:t.campaiggName+"("+t.campaignId+")",value:t.campaignId+"|"+t.fbAccount.replace("act_","")}})}),1)],1)],1),a("div",{staticClass:"target"},[a("el-radio",{attrs:{label:3},model:{value:t.targetArea,callback:function(e){t.targetArea=e},expression:"targetArea"}},[t._v("新广告系列")]),a("p",{directives:[{name:"show",rawName:"v-show",value:3==t.targetArea,expression:"targetArea == 3"}]},[a("el-input",{staticClass:"alreadyHas",attrs:{placeholder:"请输入内容"},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}}),a("el-form-item",{attrs:{label:"目标广告账户","label-width":"100px"}},[a("el-select",{staticClass:"accountselect",attrs:{filterable:"",placeholder:"选择广告账户，可搜索"},on:{change:t.selectAccount},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}},t._l(t.adaccountOption,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.fbId,attrs:{label:t.name+(-1!=t.fbId?"("+t.fbId+")":""),value:t.fbId}})}),1)}),1)],1)],1)],1)]),a("el-form-item",{attrs:{label:"每个广告组副本数量","label-width":"155px"}},[a("el-input-number",{attrs:{min:1,step:1,disabled:t.ifstride,label:"描述文字"},model:{value:t.everyCount,callback:function(e){t.everyCount=e},expression:"everyCount"}}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.ifstride,expression:"ifstride"}]},[t._v("跨广告账户复制暂只支持1个副本")])],1)],1):t._e(),"adName"==t.type?a("el-form",{attrs:{"label-position":"left"}},[a("el-form-item",{attrs:{label:"复制到","label-width":"80px"}},[a("div",{staticClass:"target"},[a("el-radio",{attrs:{label:1},model:{value:t.targetArea,callback:function(e){t.targetArea=e},expression:"targetArea"}},[t._v("原广告组")]),a("p",{directives:[{name:"show",rawName:"v-show",value:1==t.targetArea,expression:"targetArea == 1"}]},[t._v(t._s(t.originName))]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.originId&&1==t.targetArea,expression:"originId && targetArea == 1"}]},[t._v("ID:"+t._s(t.originId))])],1),a("div",{staticClass:"target"},[a("el-radio",{attrs:{label:2},model:{value:t.targetArea,callback:function(e){t.targetArea=e},expression:"targetArea"}},[t._v("其他已有广告组")]),a("p",{directives:[{name:"show",rawName:"v-show",value:2==t.targetArea,expression:"targetArea == 2"}]},[a("el-select",{staticClass:"alreadyHas",attrs:{filterable:"",placeholder:"请输入广告组名称/编号搜索，包含所有广告账户内的",remote:"","remote-method":t.searchAdset},on:{change:t.selectCampaignAdset},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},t._l(t.copyAdset,function(t){return a("el-option",{key:t.adsetId,attrs:{label:t.adSetName+"("+t.adSetId+")",value:t.adSetId+"|"+t.fbAccountId.replace("act_","")}})}),1)],1)],1)]),a("el-form-item",{attrs:{label:"每个广告副本数量","label-width":"140px"}},[a("el-input-number",{attrs:{min:1,step:1,disabled:t.ifstride,label:"描述文字"},model:{value:t.everyCount,callback:function(e){t.everyCount=e},expression:"everyCount"}}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.ifstride,expression:"ifstride"}]},[t._v("跨广告账户复制暂只支持1个副本")])],1)],1):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.hideCopy}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveCopy}},[t._v("确 定")])],1)],1)},qu=[],Ju={data:function(){return{dialogFormVisible:!1,targetArea:1,state:"",newName:"",account:"",everyCount:1,originId:"",originName:"",type:"",accountId:"",orgId:[],distId:[],adaccountOption:[],ifstride:!1,disAccount:""}},watch:{targetArea:function(t,e){this.ifstride=!1,this.disAccount="",this.account="",this.state=""}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{hideCopy:function(){this.dialogFormVisible=!1,this.reset()},reset:function(){this.state="",this.newName="",this.originId="",this.originName="",this.everyCount=1,this.orgId=[],this.distId=[],this.account="",this.ifstride=!1,this.disAccount="",this.targetArea=1,this.SETSTATE({k:"copycampaignlist",v:[]}),this.SETSTATE({k:"copyAdset",v:[]})},showBox:function(t,e,a){var i=this;this.type=t,this.accountId=a,1==e.length?(this.originId=e[0].orgid,this.originName=e[0].orgname,this.orgId=[e[0].id],this.distId=[e[0].orgid]):(this.originId="",this.originName="多项内容",this.orgId=e.map(function(t){return t.id}),this.distId=e.map(function(t){return t.orgid})),this.adaccountOption=[];var s=[{label:"所在广告账户",options:this.adaccountlist.filter(function(t){return t.fbId==i.accountId})}],n=[{label:"其他",options:this.adaccountlist.filter(function(t){return t.fbId!=i.accountId})}];this.adaccountOption=s.concat(n),this.dialogFormVisible=!0},searchCampaign:function(t){var e=this;console.log(t),t?(Object(Gs["clearTimeout"])(d),d=Object(Gs["setTimeout"])(function(){e.$store.dispatch("adGetCampaignlist",{projectId:e.$route.params.id,keyword:t})},300)):this.SETSTATE({k:"copycampaignlist",v:[]})},selectCampaignAdset:function(){this.disAccount=this.state.split("|")[1],this.setStride()},setStride:function(){this.disAccount!=this.accountId?(this.ifstride=!0,this.everyCount=1):this.ifstride=!1},searchAdset:function(t){var e=this;console.log(t),t?(Object(Gs["clearTimeout"])(d),d=Object(Gs["setTimeout"])(function(){e.$store.dispatch("adGetAdsetList",{projectId:e.$route.params.id,keyword:t})},300)):this.SETSTATE({k:"copyAdset",v:[]})},selectAccount:function(){this.disAccount=this.account,this.setStride()},saveCopy:function(){if(this.everyCount)if(console.log(this.disAccount),"campaignName"!=this.type||this.account){if(2==this.targetArea){if(!this.state)return void Object(H["g"])("请先选择需要复制到的广告系列/广告组");this.distId=[this.state.split("|")[0]]}else if(3==this.targetArea)return this.newName.trim()?this.account?(this.$store.dispatch("copyCreateCampaign",{name:this.newName,accountId:this.disAccount,orgId:this.orgId,count:this.everyCount,identify:this.typeData["identify"],type:this.type,projectId:this.$route.params.id,ifstride:this.ifstride}),void this.hideCopy()):void Object(H["g"])("请选择广告账户"):void Object(H["g"])("请输入新广告系列名称");this.$store.dispatch("adCopy",{orgId:this.orgId,distId:this.distId,count:this.everyCount,identify:this.typeData["identify"],type:this.type,projectId:this.$route.params.id,fbAccountId:this.ifstride?this.disAccount:null}),this.hideCopy()}else Object(H["g"])("请选择广告账户");else Object(H["g"])("请输入需要复制的数量")}}),computed:Object(M["a"])({},Object(P["d"])(["copycampaignlist","copyadsetlist","adaccountlist"]),{copyCampaign:function(){var t=this;return this.copycampaignlist.filter(function(e){return e.campaignId!=t.originId})},copyAdset:function(){var t=this;return this.copyadsetlist.filter(function(e){return e.adSetId!=t.originId})},typeData:function(){var t={name:"",effect:"",effectIds:""};switch(this.type){case"campaignName":t.name="广告系列",t.identify="campaign";break;case"adSetName":t.name="广告组",t.identify="adSet";break;case"adName":t.name="广告",t.identify="ad";break}return t}})},Yu=Ju,Xu=(a("1969"),Object(C["a"])(Yu,Hu,qu,!1,null,"0f813775",null)),Zu=Xu.exports,Qu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"查找替换"+t.oldInfoList.length+"个"+t.typeData.name,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.hideReplace}},[a("div",{staticClass:"replaceline"},[a("p",{staticClass:"font"},[t._v("将")]),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入内容"},on:{input:t.filterOld},model:{value:t.oldStr,callback:function(e){t.oldStr=e},expression:"oldStr"}}),a("p",{staticClass:"font"},[t._v("改为")]),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入内容"},on:{input:t.filterNew},model:{value:t.newStr,callback:function(e){t.newStr=e},expression:"newStr"}})],1),a("div",{staticClass:"replacecont"},[a("el-radio-group",{on:{change:t.typeChange},model:{value:t.replaceType,callback:function(e){t.replaceType=e},expression:"replaceType"}},[a("el-radio",{attrs:{label:"Text"}},[t._v("名称")]),a("el-radio",{directives:[{name:"show",rawName:"v-show",value:"adName"==t.type,expression:"type == 'adName'"}],attrs:{label:"Name",disabled:t.tablock}},[t._v("标题")]),a("el-radio",{directives:[{name:"show",rawName:"v-show",value:"adName"==t.type,expression:"type == 'adName'"}],attrs:{label:"Desc",disabled:t.tablock}},[t._v("文本")]),a("el-radio",{directives:[{name:"show",rawName:"v-show",value:"adName"==t.type,expression:"type == 'adName'"}],attrs:{label:"Link",disabled:t.tablock}},[t._v("“查看更多”网址")])],1)],1),a("div",{staticClass:"articleList"},[a("div",{staticClass:"left"},[a("p",{staticClass:"title"},[t._v("当前文本")]),a("div",{staticClass:"artlist"},t._l(t.oldInfoList,function(e){return a("p",{key:e.update,attrs:{title:e.key},domProps:{innerHTML:t._s(e.name)}})}),0),a("p",{directives:[{name:"show",rawName:"v-show",value:t.oldStr.trim(),expression:"oldStr.trim()"}],staticClass:"count"},[t._v("“"+t._s(t.oldStr)+"”出现在"+t._s(t.appearCount)+"/"+t._s(t.oldInfoList.length)+"个对象中")])]),a("div",{staticClass:"left"},[a("p",{staticClass:"title"},[t._v("新文本")]),a("div",{staticClass:"artlist"},t._l(t.newInfoList,function(e){return a("p",{key:e.update,attrs:{title:e.key},domProps:{innerHTML:t._s(e.name)}})}),0),a("p",{staticClass:"count"},[t._v("将被“"+t._s(t.newStr)+"”替换")])])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.hideReplace}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveReplace}},[t._v("确 定")])],1)])},td=[],ed={data:function(){return{type:"",dialogFormVisible:!1,oldStr:"",newStr:"",replaceType:"Text",tablock:!0,appearCount:0,oldInfoList:[],newInfoList:[],oldTextList:[],newTextList:[],oldNameList:[],newNameList:[],oldDescList:[],newDescList:[],oldLinkList:[],newLinkList:[],creativeList:[]}},methods:{typeChange:function(){this.oldStr="",this.newStr="";var t=this["old".concat(this.replaceType,"List")],e=this["new".concat(this.replaceType,"List")];t.forEach(function(t,e){t.key=t.old,t.name=t.old,t.update=e+t.old}),e.forEach(function(t,e){t.key=t.old,t.name=t.old,t.update=e+t.old}),this.oldInfoList=t,this.newInfoList=e,console.log(this.oldInfoList)},hideReplace:function(){this.dialogFormVisible=!1,this.reset(),console.log("reset")},reset:function(){this.replaceType="Text",this.oldInfoList=[],this.newInfoList=[],this.oldTextList=[],this.newTextList=[],this.oldNameList=[],this.newNameList=[],this.oldDescList=[],this.newDescList=[],this.oldLinkList=[],this.newLinkList=[],this.creativeList=[],this.oldStr="",this.newStr=""},saveReplace:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e,a,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.oldStr.trim()){t.next=3;break}return Object(H["g"])("请输入需要替换的内容"),t.abrupt("return");case 3:if(0!=this.appearCount){t.next=6;break}return Object(H["g"])("当前输入内容未匹配到相关文本"),t.abrupt("return");case 6:"Text"==this.replaceType?(e=[],this.newInfoList.forEach(function(t){var a={name:t.key,id:t.id};e.push(a)}),this.$store.dispatch("seekReplace",{data:encodeURIComponent(ce()(e)),type:this.type})):(a=[],this.creativeList.forEach(function(t){if(t.assetFeedSpec&&"null"!=t.assetFeedSpec){var e=JSON.parse(t.assetFeedSpec);switch(i.replaceType){case"Name":a=i.newNameList.filter(function(e){return e.id==t.fbAdId}),e["titles"]=a.map(function(t){return{text:t.key}});break;case"Desc":a=i.newDescList.filter(function(e){return e.id==t.fbAdId}),e["bodies"]=a.map(function(t){return{text:t.key}});break;case"Link":a=i.newLinkList.filter(function(e){return e.id==t.fbAdId}),e["link_urls"][0]["deeplink_url"]=a[0].key;break}t.assetFeedSpec=ce()(e),t.creativityType=3}else switch(i.replaceType){case"Name":if(a=i.newNameList.filter(function(e){return e.id==t.fbAdId}),t.cards){var s=JSON.parse(t.cards);s.forEach(function(t,e){t.title=a[e].key}),t.cards=ce()(s)}else t.creativityTitle=a[0].key;break;case"Desc":a=i.newDescList.filter(function(e){return e.id==t.fbAdId}),t.creativityText=a[0].key;break;case"Link":a=i.newLinkList.filter(function(e){return e.id==t.fbAdId}),t.platFromUrl=a[0].key;break}t.projectId=i.$route.params.id}),this.$store.dispatch("seekReplaceCreate",{option:this.creativeList})),this.dialogFormVisible=!1,this.hideReplace();case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),showBox:function(t,e){var a=this;this.type=t,this.dialogFormVisible=!0;var i=0,s=[];e.forEach(function(t){var e={id:t.seekid,name:t[a.typeData.namekey],key:t[a.typeData.namekey],old:t[a.typeData.namekey],update:i+t[a.typeData.namekey]};if(a.oldTextList.push(ue()({},e)),a.newTextList.push(ue()({},e)),"adName"==a.type){var n={adId:t.seekid,creativeId:t.creativeId,fbAccountId:t.accountId};s.push(n)}i++}),this.oldInfoList=this.oldTextList,this.newInfoList=this.newTextList,"adName"==this.type&&this.creativeDeal(s)},creativeDeal:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(e){var a,i,s,n,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.map(function(t){return t.creativeId}).join(","),i=e.map(function(t){return t.adId}),s=e.map(function(t){return t.fbAccountId}),this.tablock=!0,t.next=6,this.$store.dispatch("creativeDetail",{creativeId:a});case 6:n=t.sent,this.tablock=!1,this.creativeList=n.data,this.creativeList.forEach(function(t,e){if(t.fbAdId=i[e],t.fbAccountId=s[e],t.assetFeedSpec&&"null"!=t.assetFeedSpec){var a=JSON.parse(t["assetFeedSpec"]);a.titles.forEach(function(t){var a={id:i[e],name:t["text"],key:t["text"],old:t["text"],update:t["text"]};o.oldNameList.push(ue()({},a)),o.newNameList.push(ue()({},a))}),a.bodies.forEach(function(t){var a={id:i[e],name:t["text"],key:t["text"],old:t["text"],update:t["text"]};o.oldDescList.push(ue()({},a)),o.newDescList.push(ue()({},a))});var n={id:i[e],name:a["link_urls"][0]["deeplink_url"],key:a["link_urls"][0]["deeplink_url"],old:a["link_urls"][0]["deeplink_url"],update:a["link_urls"][0]["deeplink_url"]};o.oldLinkList.push(ue()({},n)),o.newLinkList.push(ue()({},n))}else{var r={id:i[e]};if(t.cards){var c=JSON.parse(t.cards);c.forEach(function(t){r.name=t.title,r.key=t.title,r.old=t.title,r.update=t.title,o.oldNameList.push(ue()({},r)),o.newNameList.push(ue()({},r))})}else r.name=t.creativityTitle,r.key=t.creativityTitle,r.old=t.creativityTitle,r.update=t.creativityTitle,o.oldNameList.push(ue()({},r)),o.newNameList.push(ue()({},r));var l={id:i[e],name:t.creativityText,key:t.creativityText,old:t.creativityText,update:t.creativityText};o.oldDescList.push(ue()({},l)),o.newDescList.push(ue()({},l));var u={id:i[e],name:t.platFromUrl,key:t.platFromUrl,old:t.platFromUrl,update:t.platFromUrl};o.oldLinkList.push(ue()({},u)),o.newLinkList.push(ue()({},u))}});case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),filterOld:function(){var t=this,e=this.oldStr.replace(/\?/g,"\\?"),a=new RegExp(e,"g");this.oldInfoList.forEach(function(e,i){e.old&&(e.name=e.old.replace(a,'<span style="color: red;">'+t.oldStr+"</span>"),e.update=i+e.name)}),this.appearCount=this.oldInfoList.filter(function(e){return e.old&&-1!=e.old.indexOf(t.oldStr)}).length,this.oldStr?this.filterNew():this.newInfoList.forEach(function(t,e){t.name=t.old,t.key=t.old,t.update=e+t.name})},filterNew:function(){var t=this;if(this.oldStr){var e=this.oldStr.replace(/\?/g,"\\?"),a=new RegExp(e,"g");this.newInfoList.forEach(function(e,i){e.old&&(e.name=e.old.replace(a,'<span style="color: red;">'+t.newStr+"</span>"),e.key=e.old.replace(a,t.newStr),e.update=i+e.name)})}}},computed:{typeData:function(){var t={name:"",effect:"",effectIds:""};switch(this.type){case"campaignName":t.name="广告系列",t.namekey="campaignName";break;case"adSetName":t.name="广告组",t.namekey="adSetName";break;case"adName":t.name="广告",t.namekey="adName";break}return t}}},ad=ed,id=(a("be9b"),Object(C["a"])(ad,Qu,td,!1,null,"a24a9d5e",null)),sd=id.exports,nd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"保存筛选条件",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"条件名称","label-width":"120px"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.conditionName,callback:function(e){t.conditionName=e},expression:"conditionName"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveCondtion}},[t._v("确 定")])],1)],1)},od=[],rd={data:function(){return{dialogFormVisible:!1,conditionName:""}},methods:{showBox:function(){this.dialogFormVisible=!0},saveCondtion:function(){""!=this.conditionName.trim()?(this.$emit("save",this.conditionName),this.dialogFormVisible=!1,this.conditionName=""):Object(H["g"])("请输入条件名称")}}},cd=rd,ld=Object(C["a"])(cd,nd,od,!1,null,null,null),ud=ld.exports,dd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog pandectdialog",attrs:{title:"自定义列",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("div",{staticClass:"cont"},[a("div",{staticClass:"leftnav"},t._l(t.leftOption,function(e,i){return a("div",{key:i,staticClass:"line"},[a("p",{staticClass:"title",on:{click:function(a){t.goAnchor(t.type+"option_"+e.key)}}},[t._v(t._s(e.title))]),t._l(e.child,function(e,i){return a("div",{key:i},["常用"!=e.name?a("p",{staticClass:"child",on:{click:function(a){t.goAnchor(t.type+"option_"+e.key)}}},[t._v(t._s(e.name))]):t._e()])})],2)}),0),a("div",{staticClass:"midnav"},[a("div",{staticClass:"search"},[a("el-input",{attrs:{placeholder:"请输入搜索内容","prefix-icon":"el-icon-search"},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1),a("div",{staticClass:"midlist",attrs:{id:t.type+"midList"}},t._l(t.leftOption,function(e,i){return a("div",{key:i,staticClass:"mbox"},[a("p",{staticClass:"title",attrs:{id:t.type+"option_"+e.key}},[t._v(t._s(e.title))]),t._l(e.child,function(e,i){return a("div",{key:i,staticClass:"child"},["常用"!=e.name?a("p",{staticClass:"ntitle",attrs:{id:t.type+"option_"+e.key}},[a("span",[t._v(t._s(e.name))]),a("i",{staticClass:"line"})]):t._e(),"应用内事件"==e.name?a("div",{staticClass:"event"},[a("p",{directives:[{name:"show",rawName:"v-show",value:!t.specialOption||0==t.specialOption.length,expression:"!specialOption || specialOption.length == 0"}],staticStyle:{color:"#999","text-align":"center","line-height":"30px"}},[t._v("暂无")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.specialOption&&t.specialOption.length>0,expression:"specialOption && specialOption.length > 0"}],staticClass:"eline"},[a("p",{staticClass:"tl"}),a("p",{staticClass:"nm"},[t._v("独立用户数")]),a("p",{staticClass:"nm"},[t._v("事件发生数")]),a("p",{staticClass:"nm"},[t._v("事件收益("+t._s(t.customUnit)+")")])]),t._l(t.specialOption,function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.name&&-1!=e.name.toLowerCase().indexOf(t.state.trim().toLowerCase()),expression:"p.name && p.name.toLowerCase().indexOf(state.trim().toLowerCase()) != -1"}],key:e.name,staticClass:"eline"},[a("p",{staticClass:"tl"},[t._v(t._s(e.name))]),a("p",{staticClass:"nm"},[a("el-checkbox",{staticClass:"ck",on:{change:t.toSelectOption},model:{value:e.checked1,callback:function(a){t.$set(e,"checked1",a)},expression:"p.checked1"}})],1),a("p",{staticClass:"nm"},[a("el-checkbox",{staticClass:"ck",on:{change:t.toSelectOption},model:{value:e.checked2,callback:function(a){t.$set(e,"checked2",a)},expression:"p.checked2"}})],1),a("p",{staticClass:"nm"},[a("el-checkbox",{staticClass:"ck",on:{change:t.toSelectOption},model:{value:e.checked3,callback:function(a){t.$set(e,"checked3",a)},expression:"p.checked3"}})],1)])})],2):a("div",{staticClass:"nchild"},t._l(t.middleOption[e.name],function(e,i){return a("p",{key:i},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",disabled:!e.tip,content:e.tip,placement:"right"}},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.name&&-1!=e.name.toLowerCase().indexOf(t.state.trim().toLowerCase()),expression:"l.name && l.name.toLowerCase().indexOf(state.trim().toLowerCase()) != -1"}],staticClass:"ckbox",attrs:{disabled:"campaignName"==t.type&&"广告系列名称"==e.name||"adSetName"==t.type&&"广告组名称"==e.name||"adName"==t.type&&"广告名称"==e.name},on:{change:t.toSelectOption},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"l.checked"}},[t._v(t._s(e.name))])],1)],1)}),0)])})],2)}),0)]),a("div",{staticClass:"rightnav"},[a("p",{staticClass:"tagtotal"},[t._v("已选择"+t._s(this.cantDeleteOption.length+this.selectOption.length)+"项")]),a("div",{staticClass:"tagall"},[t._l(t.cantDeleteOption,function(e){return a("p",{key:e.key},[a("el-tag",{staticClass:"tagline",attrs:{type:"info"}},[t._v(t._s(e.name))])],1)}),t._l(t.selectOption,function(e){return a("p",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:e,list:t.selectOption,group:"tag"},expression:"{ item: tag, list: selectOption, group: 'tag' }"}],key:e.name},["campaignName"==t.type&&"广告系列名称"!=e.name||"adSetName"==t.type&&"广告组名称"!=e.name||"adName"==t.type&&"广告名称"!=e.name?a("span",[a("el-tag",{staticClass:"tagline",attrs:{closable:"",type:"info"},on:{close:function(a){t.deleteTag(e.key)}}},[t._v(t._s(e.name))])],1):t._e()])})],2)])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveList}},[t._v("确 定")])],1)])},md=[],pd={props:["status","opDefault","setDefaultOption","customEvent","customUnit","type"],data:function(){return{state:"",specialStatus:!1,dialogFormVisible:!1,cantDeleteOption:[],selectOption:[],eventOption:[],localEvent:[],leftOption:[{title:"常用",key:"cy",child:[{name:"常用",key:"cy"}]},{title:"设置",key:"sz",child:[{name:"Atom",key:"atom"},{name:"对象名称和编号",key:"dxmchbh"}]},{title:"监测平台",key:"jcpt",child:[{name:"表现",key:"bx"},{name:"留存",key:"lc"},{name:"应用内事件",key:"yynsj"}]}],specialOption:this.customEvent,middleOption:{}}},mounted:function(){this.$dragging.$on("dragged",function(t){t.value}),this.$dragging.$on("dragend",function(){})},methods:{showBox:function(){var t=this;this.middleOption={"常用":[{name:"投放状态",key:"effectiveStatusName",isevent:!0,checked:!!this.setDefaultOption.find(function(t){return"投放状态"==t.name})},{name:"触达",key:"reachNum",checked:!!this.setDefaultOption.find(function(t){return"触达"==t.name})},{name:"展示",key:"showNum",checked:!!this.setDefaultOption.find(function(t){return"展示"==t.name})},{name:"点击",key:"clicksNum",checked:!!this.setDefaultOption.find(function(t){return"点击"==t.name})},{name:"CTR",key:"ctr",checked:!!this.setDefaultOption.find(function(t){return"CTR"==t.name})},{name:"CVR",key:"cvr",checked:!!this.setDefaultOption.find(function(t){return"CVR"==t.name})},{name:"CPM",key:"cpm",checked:!!this.setDefaultOption.find(function(t){return"CPM"==t.name})},{name:"CPC",key:"cpc",checked:!!this.setDefaultOption.find(function(t){return"CPC"==t.name})},{name:"安装",key:"installNum",checked:!!this.setDefaultOption.find(function(t){return"安装"==t.name})},{name:"花费",key:"spend",checked:!!this.setDefaultOption.find(function(t){return"花费"==t.name})},{name:"CPI",key:"cpi",checked:!!this.setDefaultOption.find(function(t){return"CPI"==t.name})},{name:"相关度",key:"relevanceScore",checked:!!this.setDefaultOption.find(function(t){return"相关度"==t.name})}],Atom:[{name:"推广计划编号",key:"planId",isevent:!0,checked:!!this.setDefaultOption.find(function(t){return"推广计划编号"==t.name})},{name:"推广计划名称",key:"planName",isevent:!0,checked:!!this.setDefaultOption.find(function(t){return"推广计划名称"==t.name})},{name:"创建人",key:"creator",isevent:!0,checked:!!this.setDefaultOption.find(function(t){return"创建人"==t.name})}],"对象名称和编号":[{name:"账户编号",key:"accountId",isevent:!0,checked:!!this.setDefaultOption.find(function(t){return"账户编号"==t.name})},{name:"账户名称",key:"accountName",isevent:!0,checked:!!this.setDefaultOption.find(function(t){return"账户名称"==t.name})},{name:"广告系列名称",key:"campaignName",isevent:!0,checked:!!this.setDefaultOption.find(function(t){return"广告系列名称"==t.name})},{name:"广告系列编号",key:"campaignId",isevent:!0,checked:!!this.setDefaultOption.find(function(t){return"广告系列编号"==t.name})},{name:"广告组名称",key:"adSetName",isevent:!0,checked:!!this.setDefaultOption.find(function(t){return"广告组名称"==t.name})},{name:"广告组编号",key:"adsetId",isevent:!0,checked:!!this.setDefaultOption.find(function(t){return"广告组编号"==t.name})},{name:"广告名称",key:"adName",isevent:!0,checked:!!this.setDefaultOption.find(function(t){return"广告名称"==t.name})},{name:"广告编号",key:"adId",isevent:!0,checked:!!this.setDefaultOption.find(function(t){return"广告编号"==t.name})}],"表现":[{name:"AF_展示数",key:"afShowsNum",checked:!!this.setDefaultOption.find(function(t){return"AF_展示数"==t.name})},{name:"AF_点击数",key:"afClicksNum",checked:!!this.setDefaultOption.find(function(t){return"AF_点击数"==t.name})},{name:"AF_点击率",key:"afCtr",checked:!!this.setDefaultOption.find(function(t){return"AF_点击率"==t.name})},{name:"AF_安装数",key:"afInstallsNum",tip:"安装后有效激活的数量",checked:!!this.setDefaultOption.find(function(t){return"AF_安装数"==t.name})},{name:"AF_安装数差异率",key:"afMinsRate",tip:"（监测平台安装数-Facebook安装数）/Facebook安装数",checked:!!this.setDefaultOption.find(function(t){return"AF_安装数差异率"==t.name})},{name:"AF_CPI",key:"afCpi",tip:"花费/AF_安装量",checked:!!this.setDefaultOption.find(function(t){return"AF_CPI"==t.name})},{name:"AF_转化率",key:"afConversionRate",tip:"安装数/点击数",checked:!!this.setDefaultOption.find(function(t){return"AF_转化率"==t.name})},{name:"AF_次日留存率",key:"afRetentionRate",tip:"AF_2d_rr_user_独立用户数/AF_安装量，仅tiktok显示",checked:!!this.setDefaultOption.find(function(t){return"AF_次日留存率"==t.name})},{name:"AF_会话次数",key:"afSessionsNum",tip:"APP打开次数",checked:!!this.setDefaultOption.find(function(t){return"AF_会话次数"==t.name})},{name:"AF_忠实用户",key:"afLoyalUsersNum",tip:"默认为打开app超过三次以上的用户，可重新定义",checked:!!this.setDefaultOption.find(function(t){return"AF_忠实用户"==t.name})},{name:"AF_忠实用户比率",key:"afLoyalUsersRate",tip:"忠实用户数／安装数",checked:!!this.setDefaultOption.find(function(t){return"AF_忠实用户比率"==t.name})},{name:"AF_收益",key:"afTotalReveue",tip:"源自应用内购买事件的收益",checked:!!this.setDefaultOption.find(function(t){return"AF_收益"==t.name})},{name:"AF_花费",key:"afTotalCost",tip:"渠道上报的总花费",checked:!!this.setDefaultOption.find(function(t){return"AF_花费"==t.name})},{name:"AF_投资回报率",key:"afROI",tip:"ROI，收益/花费",checked:!!this.setDefaultOption.find(function(t){return"AF_投资回报率"==t.name})},{name:"AF_单用户平均收益",key:"afUserReveue",tip:"平均每位用户带来的收益，收益/安装数",checked:!!this.setDefaultOption.find(function(t){return"AF_单用户平均收益"==t.name})},{name:"AF_平均eCPI",key:"afEcpi",tip:"每次安装的平均有效成本",checked:!!this.setDefaultOption.find(function(t){return"AF_平均eCPI"==t.name})}],"留存":[{name:"Day 1留存量",key:"retentionNum1",checked:!!this.setDefaultOption.find(function(t){return"Day 1留存量"==t.name})},{name:"Day 1留存率",key:"afReRate1",checked:!!this.setDefaultOption.find(function(t){return"Day 1留存率"==t.name})},{name:"Day 2留存量",key:"retentionNum2",checked:!!this.setDefaultOption.find(function(t){return"Day 2留存量"==t.name})},{name:"Day 2留存率",key:"afReRate2",checked:!!this.setDefaultOption.find(function(t){return"Day 2留存率"==t.name})},{name:"Day 3留存量",key:"retentionNum3",checked:!!this.setDefaultOption.find(function(t){return"Day 3留存量"==t.name})},{name:"Day 3留存率",key:"afReRate3",checked:!!this.setDefaultOption.find(function(t){return"Day 3留存率"==t.name})},{name:"Day 4留存量",key:"retentionNum4",checked:!!this.setDefaultOption.find(function(t){return"Day 4留存量"==t.name})},{name:"Day 4留存率",key:"afReRate4",checked:!!this.setDefaultOption.find(function(t){return"Day 4留存率"==t.name})},{name:"Day 5留存量",key:"retentionNum5",checked:!!this.setDefaultOption.find(function(t){return"Day 5留存量"==t.name})},{name:"Day 5留存率",key:"afReRate5",checked:!!this.setDefaultOption.find(function(t){return"Day 5留存率"==t.name})},{name:"Day 6留存量",key:"retentionNum6",checked:!!this.setDefaultOption.find(function(t){return"Day 6留存量"==t.name})},{name:"Day 6留存率",key:"afReRate6",checked:!!this.setDefaultOption.find(function(t){return"Day 6留存率"==t.name})},{name:"Day 7留存量",key:"retentionNum7",checked:!!this.setDefaultOption.find(function(t){return"Day 7留存量"==t.name})},{name:"Day 7留存率",key:"afReRate7",checked:!!this.setDefaultOption.find(function(t){return"Day 7留存率"==t.name})}]},this.selectOption=this.setDefaultOption,this.customEvent.forEach(function(e){e.checked1=!!t.setDefaultOption.find(function(t){return t.name=="".concat(e.name,"独立用户数")}),e.checked2=!!t.setDefaultOption.find(function(t){return t.name=="".concat(e.name,"事件发生数")}),e.checked3=!!t.setDefaultOption.find(function(t){return-1!=t.name.indexOf("".concat(e.name,"事件收益"))})})},goAnchor:function(t){document.getElementById(this.type+"midList").scrollTop=document.getElementById(t).offsetTop-134},saveList:function(){var t=this.cantDeleteOption.concat(this.selectOption);this.$emit("outOption",t,this.selectOption,this.localEvent),this.dialogFormVisible=!1},toCancel:function(){this.$emit("hideOptionbox")},deleteTag:function(t){for(var e in this.selectOption=this.selectOption.filter(function(e){return e.key!=t}),this.middleOption)this.middleOption[e].forEach(function(e){t==e.key&&(e.checked=!1)})},toSelectOption:function(t){var e=this;this.selectOption=[];var a=function(t){var a=e.middleOption[t],i=[],s="";switch(e.type){case"campaignName":s="广告系列名称";break;case"adSetName":s="广告组名称";break;case"adName":s="广告名称";break}i=e.setDefaultOption.find(function(t){return t.name==s})?a.filter(function(t){return t.checked}):a.filter(function(t){return t.checked&&t.name!=s}),e.selectOption=e.selectOption.concat(i)};for(var i in this.middleOption)a(i);this.eventOption=[],this.localEvent=[],this.specialOption.forEach(function(t){if((t.checked1||t.checked2||t.checked3)&&e.localEvent.push(t.name),t.checked1){var a={name:t.name+"独立用户数",key:t.name+"|uniqueUsers",checked:!0,isevent:!0};e.eventOption.push(a)}if(t.checked2){var i={name:t.name+"事件发生数",key:t.name+"|eventCounter",checked:!0,isevent:!0};e.eventOption.push(i)}if(t.checked3){var s={name:t.name+"事件收益(".concat(e.customUnit,")"),key:t.name+"|salesIn",checked:!0,isevent:!0};e.eventOption.push(s)}}),this.selectOption=this.selectOption.concat(this.eventOption)}},watch:{status:function(t,e){this.dialogFormVisible=t;var a=null,i="";if(t){switch(this.cantDeleteOption=this.opDefault[this.type],this.type){case"campaignName":i="campaignName";break;case"adSetName":i="adSetName";break;case"adName":i="adName";break}a=this.middleOption["对象名称和编号"].find(function(t){return t.key==i}),this.specialStatus=a.checked,a.checked=!0}else{switch(this.cantDeleteOption=[],this.type){case"campaignName":i="campaignName";break;case"adSetName":i="adSetName";break;case"adName":i="adName";break}a=this.middleOption["对象名称和编号"].find(function(t){return t.key==i}),a.checked=this.specialStatus}},setDefaultOption:function(t,e){for(var a in this.selectOption=t,this.middleOption)this.middleOption[a].forEach(function(e){t.find(function(t){return t.name==e.name})?e.checked=!0:e.checked=!1})},customEvent:function(t,e){this.specialOption=t}}},fd=pd,hd=(a("8013"),a("5782"),Object(C["a"])(fd,dd,md,!1,null,"be9f3200",null)),_d=hd.exports,vd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"导入AppsFlyer留存数据",visible:t.status},on:{close:t.hideBox}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.submitresult,expression:"!submitresult"}]},[a("el-form",{attrs:{"label-width":"90px","label-position":"left"}},[a("el-form-item",{attrs:{label:"系统"}},[a("el-radio-group",{on:{change:t.systemChange},model:{value:t.system,callback:function(e){t.system=e},expression:"system"}},[a("el-radio",{attrs:{label:"Android"}}),a("el-radio",{attrs:{label:"iOS"}})],1)],1),a("el-form-item",{staticClass:"relativeform",attrs:{label:"数据日历"}},[a("um-calendar",{ref:"umCalendar",attrs:{dayOn:t.calendardate,disabledDate:t.disabledDate},on:{"update:dayOn":function(e){t.calendardate=e},monthChange:t.monthChange}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"亮起日期有数据，建议上传无数据的日期。上传亮起日期的留存，旧数据会被覆盖",placement:"top-start"}},[a("i",{staticClass:"el-icon-question elnotice"})])],1),a("el-form-item",{staticClass:"relativeform",attrs:{label:"上传文件"}},[t._l(t.processCSV,function(e,i){return a("div",{key:i,staticClass:"csvline"},[a("p",{staticClass:"file",attrs:{title:e.name}},[t._v(t._s(e.name))]),a("i",{staticClass:"el-icon-error close",on:{click:function(e){t.deleteCSV(i)}}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.resultMsg,placement:"top-start"}},[a("i",{directives:[{name:"show",rawName:"v-show",value:e.resultMsg,expression:"csv.resultMsg"}],staticClass:"el-icon-warning warn"})]),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.resultMsg,expression:"!csv.resultMsg"}],staticClass:"el-icon-success successcsv"})],1)}),a("el-button",{attrs:{type:"primary",size:"small",loading:t.fileload}},[t._v("上传文件")]),a("vue-file-upload",{directives:[{name:"show",rawName:"v-show",value:!t.fileload,expression:"!fileload"}],ref:"vueFileUploader",staticClass:"fileinput",attrs:{name:"files",autoUpload:!0,url:t.uploadFileUrl,events:t.eventsCSV,requestOptions:t.fileOption,filters:t.imgfilters},on:{uploadPic:t.uploadPic,uploadRes:t.uploadRes}},[a("span",{attrs:{slot:"label"},slot:"label"})]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("·请上传按照以下条件在AF【留存报告】页面导出的CSV文件。筛选条件：媒体平台 选择 Facebook Ads，分组维度 选择 ad、广告组、国家和日期，最低安装数量 为 0，日期范围请自行确定。\n            "),a("br"),t._v("·请不要修改下载的文件名和文件内容。\n          ")]),a("i",{staticClass:"el-icon-question elnotice"})])],2)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.hideBox}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:Boolean(t.processCSV.find(function(t){return t.resultMsg}))},on:{click:t.submitAfdata}},[t._v("确 定")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"success"==t.submitresult,expression:"submitresult == 'success'"}]},[a("div",{staticClass:"successline"},[a("i",{staticClass:"el-icon-success successicon"}),a("p",{staticClass:"font"},[t._v("匹配成功")])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.hideBox}},[t._v("关闭")])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"fail"==t.submitresult,expression:"submitresult == 'fail'"}]},[a("div",{staticClass:"successline"},[a("i",{staticClass:"el-icon-warning successicon"}),a("p",{staticClass:"fail"},[t._v("匹配部分成功，请下载结果并检查数据是否合规，合规后重新上传")]),t._l(t.resultarray,function(e,i){return a("p",{key:i,staticClass:"failresult"},[a("span",{staticClass:"name"},[t._v(t._s(e.fileName))]),e.isSuccess?a("span",{staticClass:"result"},[t._v("匹配成功")]):a("span",{staticClass:"result"},[t._v("\n          部分成功，\n          "),a("span",{on:{click:function(a){t.downFailResult(e.fileName)}}},[t._v("下载结果")])])])})],2),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.hideBox}},[t._v("关闭")])],1)])])},gd=[],bd=a("795b"),yd=a.n(bd),kd=a("5d73"),Ed=a.n(kd),Cd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calendar"},[a("div",{staticClass:"nowdate"},[a("span",{staticClass:"leftctrl"},[a("i",{staticClass:"el-icon-d-arrow-left",on:{click:function(e){t.setYear(-1)}}}),a("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){t.setMonth(-1)}}})]),t._v("\n    "+t._s(t.year)+"年"+t._s(t.month)+"月\n    "),a("span",{staticClass:"rightctrl"},[a("i",{staticClass:"el-icon-arrow-right",on:{click:function(e){t.setMonth(1)}}}),a("i",{staticClass:"el-icon-d-arrow-right",on:{click:function(e){t.setYear(1)}}})])]),a("div",{staticClass:"week"},t._l(t.week,function(e,i){return a("p",{key:i},[t._v(t._s(e))])}),0),a("div",{staticClass:"day"},t._l(t.day,function(e,i){return a("ul",{key:i},t._l(e,function(e,i){return a("li",{key:i,class:{"prev-day":"prev"==e.key,"next-day":"next"==e.key,"day-on":"on"==e.key}},[a("span",[t._v(t._s(e.name))])])}),0)}),0)])},Od=[],wd=a("a745"),Id=a.n(wd),Td={props:["dayOn","disabledDate"],data:function(){return{monthday:[],year:(new Date).getFullYear(),month:(new Date).getMonth()+1,week:["日","一","二","三","四","五","六"],day:[]}},mounted:function(){},watch:{dayOn:function(t,e){this.setDay()}},methods:{setYear:function(t){this.year+=t,this.monthChange(),this.setDay()},setMonth:function(t){this.month+=t,13==this.month&&(this.month=1,this.year++),0==this.month&&(this.month=12,this.year--),this.monthChange(),this.setDay()},monthChange:function(){this.$emit("monthChange",this.year,this.month)},reset:function(){this.year=(new Date).getFullYear(),this.month=(new Date).getMonth()+1},setDay:function(){var t=[],e=this.getMonthDaycount(this.year,this.month),a=e[0],i=this.getMonthDaycount(this.year,this.month-1),s=i[0],n=this.getMonthDaycount(this.year,this.month+1),o=[],r=[],c=[];Id()(this.dayOn)&&this.dayOn.forEach(function(t){var a=t.split("-");a[0]==e[1]&&a[1]==e[2]&&o.push(t),a[0]==i[1]&&a[1]==i[2]&&r.push(t),a[0]==n[1]&&a[1]==n[2]&&c.push(t)});var l=[];this.disabledDate&&(l=this.disabledDate.split("-"));while(a>0){var u={name:a,key:"",year:e[1],month:e[2]};switch(!0){case e[1]>l[0]:case e[1]==l[0]&&e[2]>l[1]:case e[1]==l[0]&&e[2]==l[1]&&a>=l[2]:u.key="next";break;default:u.key="now";break}u.key=o.find(function(t){return t.split("-")[2]==a})?"on":u.key,t.unshift(u),a--}this.monthday=t.slice(0);var d=this.getDayWeek(this.year,this.month,1);while(d>0)t.unshift({name:s,key:r.find(function(t){return t.split("-")[2]==s})?"on":"prev",year:i[1],month:i[2]}),s--,d--;var m=1;while(t.length%7>0)t.push({name:m,key:c.find(function(t){return t.split("-")[2]==m})?"on":"next",year:n[1],month:n[2]}),m++;this.day=[];for(var p=0;p<t.length;p+=7)this.day.push(t.slice(p,p+7))},getMonthDaycount:function(t,e){var a=new Date(t,e,0);return[a.getDate(),a.getFullYear(),a.getMonth()+1]},getDayWeek:function(t,e,a){var i=new Date(t,e-1,a);return i.getDay()}}},Ad=Td,xd=(a("89db"),Object(C["a"])(Ad,Cd,Od,!1,null,"8564e632",null)),Sd=xd.exports,jd=a("dd46"),Dd={props:["status","type"],components:{UmCalendar:Sd,VueFileUpload:ro.a},data:function(){return{system:"Android",submitresult:"",resultarray:[],date:"",dayOn:[],fileload:!1,fileArray:[],year:(new Date).getFullYear(),month:(new Date).getMonth()+1,disabledDate:"".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate()-1),fileOption:{formData:{check:!0},headers:{"X-Token":localStorage.getItem("atom_token")}},imgfilters:[{name:"csvFilter",fn:function(t){var e="|"+t.name.slice(t.name.lastIndexOf(".")+1)+"|";return-1!=="|csv|".indexOf(e)||(Object(H["g"])("只能上传csv格式的文件"),!1)}}],processCSV:[],eventsCSV:{onProgressUpload:function(t,e){console.log(t.name),this.vm.$emit("uploadPic",t,e)},onSuccessUpload:function(t,e,a,i){0!=e.code&&Object(H["a"])(e.msg),this.vm.$emit("uploadRes",e,t),console.log("%cremove","color: red")},onAddFileSuccess:function(t){console.log("%cwaiting","color: red"),this.vm.$emit("checkUploadPic",t)}}}},computed:Object(M["a"])({},Object(P["d"])(["calendardate"]),{uploadFileUrl:function(){return jd["a"].addatacsv}}),mounted:function(){},watch:{status:function(t,e){t&&(this.monthChange(),this.fileOption.formData["userOs"]=this.system,this.fileOption.formData["projectId"]=this.$route.params.id)}},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{downFailResult:function(t){console.log(t),this.$store.dispatch("affileDownload",t)},submitAfdata:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e,a,i,s,n,o,r,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0!=this.fileArray.length){t.next=3;break}return Object(H["g"])("请上传af留存数据文件"),t.abrupt("return");case 3:e=Cc["Loading"].service({fullscreen:!0}),a=!0,i=!1,s=void 0,t.prev=7,n=Ed()(this.fileArray);case 9:if(a=(o=n.next()).done){t.next=23;break}return r=o.value,c=new FormData,c.append("files",r.file),c.append("userOs",this.system),c.append("projectId",this.$route.params.id),c.append("check",!1),t.next=18,this.$store.dispatch("submitAfdata",c);case 18:l=t.sent,this.resultarray.push(l.data);case 20:a=!0,t.next=9;break;case 23:t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](7),i=!0,s=t.t0;case 29:t.prev=29,t.prev=30,a||null==n.return||n.return();case 32:if(t.prev=32,!i){t.next=35;break}throw s;case 35:return t.finish(32);case 36:return t.finish(29);case 37:e.close(),this.resultarray.find(function(t){return 0===t.isSuccess})?this.submitresult="fail":this.submitresult="success";case 39:case"end":return t.stop()}},t,this,[[7,25,29,37],[30,,32,36]])}));function e(){return t.apply(this,arguments)}return e}(),submitAsync:function(){var t=this;return new yd.a(function(e,a){t.fileArray.forEach(function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:l;case 1:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}())})},systemChange:function(){this.fileOption.formData["userOs"]=this.system,this.monthChange(),this.fileArray=[],this.processCSV=[]},deleteCSV:function(t){this.fileArray.splice(t,1),this.processCSV.splice(t,1)},uploadRes:function(t,e){this.SETSTATE({k:"withcreate",v:!0});var a={};a.name=e.name,a.size=e.size,a.resultMsg=t.msg,this.processCSV=this.processCSV.filter(function(t){return t.name!=e.name}),this.fileArray=this.fileArray.filter(function(t){return t.name!=e.name}),this.fileArray.push(e),this.processCSV.push(a),this.fileload=!1},uploadPic:function(t,e){this.SETSTATE({k:"withcreate",v:!1}),this.fileload=!0},getMonthDaycount:function(t,e){var a=new Date(t,e,0);return[a.getDate(),a.getFullYear(),a.getMonth()+1]},hideBox:function(){this.$emit("hideRemainBox"),this.SETSTATE({k:"calendardate",v:[]}),this.reset()},reset:function(){this.system="Android",this.processCSV=[],this.fileArray=[],this.submitresult="",this.resultarray=[],this.year=(new Date).getFullYear(),this.month=(new Date).getMonth()+1,this.fileload=!1,this.$refs.umCalendar.reset()},monthChange:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(e,a){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e&&(this.year=e),a&&(this.month=a),i=this.getMonthDaycount(this.year,this.month),this.$store.dispatch("getCalendarData",{projectId:this.$route.params.id,startDate:"".concat(this.year,"-").concat(this.month,"-01"),endDate:"".concat(this.year,"-").concat(this.month,"-").concat(i[0]),userOs:this.system});case 4:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}()})},Md=Dd,Pd=(a("1ff4"),Object(C["a"])(Md,vd,gd,!1,null,"430fc5ee",null)),Ld=Pd.exports,Rd={components:{AdSetbox:Jl,SaveCondition:ud,AdCreate:zu,SeekReplace:sd,AdCopy:Zu,ListOption:_d,ImportRemain:Ld,RuleSelect:Al,RuleRemove:El,RuleAdd:Js},beforeRouteLeave:function(t,e,a){switch(this.tabname){case"first":this.$refs["campaignName"].resetCare();break;case"second":this.$refs["adSetName"].resetCare();break;case"third":this.$refs["adName"].resetCare();break}clearInterval(jobProcess),a()},data:function(){return{optionstatus:!1,remainstatus:!1,ruleselectstatus:!1,ruleremovestatus:!1,ruleaddstatus:!1,defaultOption:[],defaultListOption:[],sortDown:!1,tabtype:"campaignName",prevEdit:null,applicationid:"",opDefault:{campaignName:[{name:"广告系列名称",key:"campaignName"}],adSetName:[{name:"广告组名称",key:"adSetName"}],adName:[{name:"广告名称",key:"adName"}]},opListDefault:[],searchList:[{name:"广告系列投放",key:"adCampaignStatusStr",list:[{checked:!1,cname:"投放中",key:"ACTIVE"},{checked:!1,cname:"已暂停",key:"PAUSED"},{checked:!1,cname:"已归档",key:"ARCHIVED"},{checked:!1,cname:"已删除",key:"DELETED"}]},{name:"广告组投放",key:"adSetStatusStr",list:[{checked:!1,cname:"投放中",key:"ACTIVE"},{checked:!1,cname:"已暂停",key:"PAUSED"},{checked:!1,cname:"已归档",key:"ARCHIVED"},{checked:!1,cname:"已删除",key:"DELETED"}]},{name:"广告投放",key:"adStatusStr",list:[{checked:!1,cname:"投放中",key:"ACTIVE"},{checked:!1,cname:"已暂停",key:"PAUSED"},{checked:!1,cname:"已归档",key:"ARCHIVED"},{checked:!1,cname:"已删除",key:"DELETED"}]},{name:"版位",key:"publisherPlatformStrs",list:[{checked:!1,cname:"Facebook",key:"facebook"},{checked:!1,cname:"Instagram",key:"instagram"},{checked:!1,cname:"Audience Network",key:"audience_network"},{checked:!1,cname:"Messenger",key:"messenger"}]},{name:"广告系列指标",key:"adCampaignTargetVo",list:[{cname:"触达",checked:!1,key:"reachNum"},{cname:"展示",checked:!1,key:"showNum"},{cname:"点击",checked:!1,key:"clicksNum"},{cname:"CTR",checked:!1,key:"ctr"},{cname:"CVR",checked:!1,key:"cvr"},{cname:"CPM",checked:!1,key:"cpm"},{cname:"CPC",checked:!1,key:"cpc"},{cname:"安装",checked:!1,key:"installNum"},{cname:"花费",checked:!1,key:"spend"},{cname:"CPI",checked:!1,key:"cpi"},{cname:"AF_展示数",checked:!1,key:"afShowsNum"},{cname:"AF_点击数",checked:!1,key:"afClicksNum"},{cname:"AF_点击率",checked:!1,key:"afCtr"},{cname:"AF_安装数",checked:!1,key:"afInstallsNum"},{cname:"AF_安装数差异率",checked:!1,key:"afMinsRate"},{cname:"AF_CPI",checked:!1,key:"afCpi"},{cname:"AF_转化率",checked:!1,key:"afCvr"},{cname:"AF_次日留存率",checked:!1,key:"afRetentionRate"},{cname:"AF_会话次数",checked:!1,key:"afSessionsNum"},{cname:"AF_忠实用户",checked:!1,key:"afLoyalUsersNum"},{cname:"AF_忠实用户比率",checked:!1,key:"afLoyalUsersRate"},{cname:"AF_收益",checked:!1,key:"afTotalReveue"},{cname:"AF_花费",checked:!1,key:"afTotalCost"},{cname:"AF_投资回报率",checked:!1,key:"afROI"},{cname:"AF_单用户平均收益",checked:!1,key:"afUserReveue"},{cname:"AF_平均eCPI",checked:!1,key:"ecpi"},{cname:"Day 1留存量",checked:!1,key:"retentionNum1"},{cname:"Day 1留存率",checked:!1,key:"afReRate1"},{cname:"Day 2留存量",checked:!1,key:"retentionNum2"},{cname:"Day 2留存率",checked:!1,key:"afReRate2"},{cname:"Day 3留存量",checked:!1,key:"retentionNum3"},{cname:"Day 3留存率",checked:!1,key:"afReRate3"},{cname:"Day 4留存量",checked:!1,key:"retentionNum4"},{cname:"Day 4留存率",checked:!1,key:"afReRate4"},{cname:"Day 5留存量",checked:!1,key:"retentionNum5"},{cname:"Day 5留存率",checked:!1,key:"afReRate5"},{cname:"Day 6留存量",checked:!1,key:"retentionNum6"},{cname:"Day 6留存率",checked:!1,key:"afReRate6"},{cname:"Day 7留存量",checked:!1,key:"retentionNum7"},{cname:"Day 7留存率",checked:!1,key:"afReRate7"}]},{name:"广告组指标",key:"adSetTargetVo",list:[{cname:"触达",checked:!1,key:"reachNum"},{cname:"展示",checked:!1,key:"showNum"},{cname:"点击",checked:!1,key:"clicksNum"},{cname:"CTR",checked:!1,key:"ctr"},{cname:"CVR",checked:!1,key:"cvr"},{cname:"CPM",checked:!1,key:"cpm"},{cname:"CPC",checked:!1,key:"cpc"},{cname:"安装",checked:!1,key:"installNum"},{cname:"花费",checked:!1,key:"spend"},{cname:"CPI",checked:!1,key:"cpi"},{cname:"AF_展示数",checked:!1,key:"afShowsNum"},{cname:"AF_点击数",checked:!1,key:"afClicksNum"},{cname:"AF_点击率",checked:!1,key:"afCtr"},{cname:"AF_安装数",checked:!1,key:"afInstallsNum"},{cname:"AF_安装数差异率",checked:!1,key:"afMinsRate"},{cname:"AF_CPI",checked:!1,key:"afCpi"},{cname:"AF_转化率",checked:!1,key:"afCvr"},{cname:"AF_次日留存率",checked:!1,key:"afRetentionRate"},{cname:"AF_会话次数",checked:!1,key:"afSessionsNum"},{cname:"AF_忠实用户",checked:!1,key:"afLoyalUsersNum"},{cname:"AF_忠实用户比率",checked:!1,key:"afLoyalUsersRate"},{cname:"AF_收益",checked:!1,key:"afTotalReveue"},{cname:"AF_花费",checked:!1,key:"afTotalCost"},{cname:"AF_投资回报率",checked:!1,key:"afROI"},{cname:"AF_单用户平均收益",checked:!1,key:"afUserReveue"},{cname:"AF_平均eCPI",checked:!1,key:"ecpi"},{cname:"Day 1留存量",checked:!1,key:"retentionNum1"},{cname:"Day 1留存率",checked:!1,key:"afReRate1"},{cname:"Day 2留存量",checked:!1,key:"retentionNum2"},{cname:"Day 2留存率",checked:!1,key:"afReRate2"},{cname:"Day 3留存量",checked:!1,key:"retentionNum3"},{cname:"Day 3留存率",checked:!1,key:"afReRate3"},{cname:"Day 4留存量",checked:!1,key:"retentionNum4"},{cname:"Day 4留存率",checked:!1,key:"afReRate4"},{cname:"Day 5留存量",checked:!1,key:"retentionNum5"},{cname:"Day 5留存率",checked:!1,key:"afReRate5"},{cname:"Day 6留存量",checked:!1,key:"retentionNum6"},{cname:"Day 6留存率",checked:!1,key:"afReRate6"},{cname:"Day 7留存量",checked:!1,key:"retentionNum7"},{cname:"Day 7留存率",checked:!1,key:"afReRate7"}]},{name:"广告指标",key:"adTargetVo",list:[{cname:"触达",checked:!1,key:"reachNum"},{cname:"展示",checked:!1,key:"showNum"},{cname:"点击",checked:!1,key:"clicksNum"},{cname:"CTR",checked:!1,key:"ctr"},{cname:"CVR",checked:!1,key:"cvr"},{cname:"CPM",checked:!1,key:"cpm"},{cname:"CPC",checked:!1,key:"cpc"},{cname:"相关度",checked:!1,key:"relevanceScore"},{cname:"安装",checked:!1,key:"installNum"},{cname:"花费",checked:!1,key:"spend"},{cname:"CPI",checked:!1,key:"cpi"},{cname:"AF_展示数",checked:!1,key:"afShowsNum"},{cname:"AF_点击数",checked:!1,key:"afClicksNum"},{cname:"AF_点击率",checked:!1,key:"afCtr"},{cname:"AF_安装数",checked:!1,key:"afInstallsNum"},{cname:"AF_安装数差异率",checked:!1,key:"afMinsRate"},{cname:"AF_CPI",checked:!1,key:"afCpi"},{cname:"AF_转化率",checked:!1,key:"afCvr"},{cname:"AF_次日留存率",checked:!1,key:"afRetentionRate"},{cname:"AF_会话次数",checked:!1,key:"afSessionsNum"},{cname:"AF_忠实用户",checked:!1,key:"afLoyalUsersNum"},{cname:"AF_忠实用户比率",checked:!1,key:"afLoyalUsersRate"},{cname:"AF_收益",checked:!1,key:"afTotalReveue"},{cname:"AF_花费",checked:!1,key:"afTotalCost"},{cname:"AF_投资回报率",checked:!1,key:"afROI"},{cname:"AF_单用户平均收益",checked:!1,key:"afUserReveue"},{cname:"AF_平均eCPI",checked:!1,key:"ecpi"},{cname:"Day 1留存量",checked:!1,key:"retentionNum1"},{cname:"Day 1留存率",checked:!1,key:"afReRate1"},{cname:"Day 2留存量",checked:!1,key:"retentionNum2"},{cname:"Day 2留存率",checked:!1,key:"afReRate2"},{cname:"Day 3留存量",checked:!1,key:"retentionNum3"},{cname:"Day 3留存率",checked:!1,key:"afReRate3"},{cname:"Day 4留存量",checked:!1,key:"retentionNum4"},{cname:"Day 4留存率",checked:!1,key:"afReRate4"},{cname:"Day 5留存量",checked:!1,key:"retentionNum5"},{cname:"Day 5留存率",checked:!1,key:"afReRate5"},{cname:"Day 6留存量",checked:!1,key:"retentionNum6"},{cname:"Day 6留存率",checked:!1,key:"afReRate6"},{cname:"Day 7留存量",checked:!1,key:"retentionNum7"},{cname:"Day 7留存率",checked:!1,key:"afReRate7"}]},{name:"受众年龄",key:"ageStrs",list:[{checked:!1,cname:"13-17",key:"13-17"},{checked:!1,cname:"18-24",key:"18-24"},{checked:!1,cname:"25-34",key:"25-34"},{checked:!1,cname:"35-44",key:"35-44"},{checked:!1,cname:"45-54",key:"45-54"},{checked:!1,cname:"55-64",key:"55-64"},{checked:!1,cname:">64",key:"65+"}]},{name:"受众性别",key:"genderStrs",list:[{checked:!1,cname:"未分类",key:"unknown"},{checked:!1,cname:"女性",key:"female"},{checked:!1,cname:"男性",key:"male"}]}],prevFirstSearch:"",prevFirstKey:"",firstSearch:"",firstKey:"",secondSearchList:[],secondDownList:[],conditionSel:"",conditionSelArr:[],conditionSelkey:"",conditiondeal:1,conditionState:0,conditionState2:0,specilkey100:["ctr","cvr","afCtr","afConversionRate","afLoyalUsersRate","afROI","afMinsRate","afRetentionRate","afReRate1","afReRate2","afReRate3","afReRate4","afReRate5","afReRate6","afReRate7"],conditionInput:"",allCondition:{},disCondition:[],conditionName:"",state:"",value:"",value2:"",value3:[],value4:[],accountStorage:[],status:!1,mutilselect:[],mutilsetselect:[],mutiladselect:[],date:[(new Date).setDate((new Date).getDate()-6),new Date],sort:"",tabname:"first",projectId:this.$route.params.id,userId:localStorage.getItem("atom_id")}},created:function(){},mounted:function(){adFilterLS.old&&localStorage.getItem(adFilterLS.old)&&localStorage.removeItem(adFilterLS.old),adOptionLS.old&&localStorage.getItem(adOptionLS.old)&&localStorage.removeItem(adOptionLS.old),adEventLS.old&&localStorage.getItem(adEventLS.old)&&localStorage.removeItem(adEventLS.old);var t=this.date;this.allCondition=localStorage.getItem(adFilterLS.new)?JSON.parse(localStorage.getItem(adFilterLS.new)):{},this.disCondition=this.allCondition[this.$route.params.id]?this.allCondition[this.$route.params.id]:[];var e=this.$route.params.kid,a="first",i="campaignName";if(e){var s=e.split("_"),n=s[0],o=s[1];switch(o){case"CAMPAIGN":this.prevFirstKey="fbCampaignId",this.conditionSel="广告系列编号",a="first",i="campaignName";break;case"ADSET":this.prevFirstKey="fbAdSetId",this.conditionSel="广告组编号",a="second",i="adSetName";break;case"AD":this.prevFirstKey="fbAdId",this.conditionSel="广告编号",a="third",i="adName";break}this.conditionInput=n,this.prevFirstSearch="allsearch",this.determineSearch("init")}this.tabname=a,this.SETSTATE({k:"adtab",v:i}),this.accountStorage=localStorage.getItem("ad-account")?JSON.parse(localStorage.getItem("ad-account")):{},this.value3=this.accountStorage[this.$route.params.id]?this.accountStorage[this.$route.params.id].split("|"):[],this.SETSTATE({k:"adaccountid",v:this.value3}),this.SETSTATE({k:"adstarttime",v:this.$timeFormat(t[0],"yyyy-MM-dd")}),this.SETSTATE({k:"adendtime",v:this.$timeFormat(t[1],"yyyy-MM-dd")}),this.SETSTATE({k:"adplanid",v:""});var r=this.$route.params.id;this.SETSTATE({k:"adlist",v:[]}),this.$store.dispatch("getAdaccount",r),this.itemlist.length>0&&(this.applicationid=this.itemlist.find(function(t){return t.id==r}).applicationId,this.SETSTATE({k:"adapplicationid",v:this.applicationid}),this.initData(this.applicationid)),this.$store.dispatch("getSearchCondition",{projectId:this.projectId,userId:this.userId}),this.$store.dispatch("getUpdateTime")},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{ruleAdd:function(t,e){this.ruleaddstatus=!0,this.$refs.ruleAdd.adInit(t,e)},ruleCreate:function(t,e){this.ruleselectstatus=!0,this.$refs.ruleSelect.adInit(t,e)},ruleRemove:function(t,e){this.ruleremovestatus=!0,this.$refs.ruleRemove.initData(t,e)},tabJump:function(t,e,a){this.tabname=t,"campaignName"==a?this.selectSort([e]):this.selectSetSort([e]),this.resetPageData()},showOptionbox:function(t){this.optionstatus=!0,this.tabtype=t,this.$refs.listOption.showBox()},hideOptionbox:function(){this.optionstatus=!1},showRemainBox:function(t){this.remainstatus=!0,this.tabtype=t},hideRemainBox:function(){this.remainstatus=!1},outOption:function(t,e,a){var i=this;this.defaultOption=e,this.defaultListOption=[],e.forEach(function(t){i.defaultListOption.push(ue()({},t))});var s=this.itemlist.find(function(t){return t.id==i.$route.params.id}).applicationId,n=localStorage.getItem(adOptionLS.new);n=n?JSON.parse(n):{},n[s]=e,localStorage.setItem(adOptionLS.new,ce()(n));var o=localStorage.getItem(adEventLS.new);o=o?JSON.parse(o):{},o[s]=a,localStorage.setItem(adEventLS.new,ce()(o)),this.resetPageData()},wantCopy:function(t,e,a){this.$refs.adCopy.showBox(t,e,a)},changeReplace:function(t,e){this.$refs.seekReplace.showBox(t,e)},toCreateAd:function(t,e,a){this.$refs.adCreate.showBox({type:t,id:e||[],name:a||[]})},clearLocalCondition:function(){var t=JSON.parse(localStorage.getItem(adFilterLS.new));t[this.$route.params.id]=[],localStorage.setItem(adFilterLS.new,ce()(t)),this.disCondition=[],this.prevEdit=null,this.resetPageData()},saveCondtion:function(t){var e={url:encodeURIComponent(ce()(this.disCondition)),projectId:this.$route.params.id,userId:localStorage.getItem("atom_id"),tagName:t};this.$store.dispatch("saveSearchCondition",e)},setCondition:function(){this.$refs.saveCondtion.showBox()},deleteCondtion:function(t){this.disCondition=this.disCondition.filter(function(e){return e.regkey!=t}),this.searchLocalstorage(),this.resetPageData()},editCondition:function(t){this.prevEdit&&this.disCondition.push(this.prevEdit),this.prevEdit=t,this.disCondition=this.disCondition.filter(function(e){return e.regkey!=t.regkey}),this.prevFirstSearch=t.prevFirstSearch,this.prevFirstKey=t.prevFirstKey,this.conditiondeal=t.conditionDeal,this.conditionState=t.conditionState,this.conditionState2=t.conditionState2,this.conditionSel=t.conditionSel,this.conditionSelArr=t.conditionSel.split("、"),this.conditionSelkey=t.conditionSelkey,this.conditionInput=t.conditionInput,this.changeConditionArr()},seachDeal:function(){var t="";if(1==this.searchType)switch(this.conditiondeal){case 1:t="是";break;case 2:t="不是";break}if(2==this.searchType)switch(this.conditiondeal){case 1:t="大于";break;case 2:t="小于";break;case 3:t="介于";break;case 4:t="不介于";break}if(3==this.searchType)switch(this.conditiondeal){case 1:t="包含";break;case 2:t="不包含";break}return t},searchLocalstorage:function(){this.allCondition[this.$route.params.id]=this.disCondition,localStorage.setItem(adFilterLS.new,ce()(this.allCondition))},determineSearch:function(t){var e=this,a={},i=this.seachDeal(),s=["cpm"],n=["ACTIVE","PAUSED","ARCHIVED","DELETED"];switch(this.searchType){case 1:a={name:"".concat(this.prevFirstSearch,"：").concat(i," ").concat(this.conditionSel),option:"".concat("1"==this.conditiondeal?this.conditionSelkey:n.filter(function(t){return-1==e.conditionSelkey.indexOf(t)}).join(",")),key:this.prevFirstKey,regkey:this.prevFirstKey};break;case 2:if(void 0==this.conditionState)return void Object(H["g"])("请输入内容");if((3==this.conditiondeal||4==this.conditiondeal)&&void 0==this.conditionState2)return void Object(H["g"])("请输入内容");a={name:"".concat(this.conditionSel,"：").concat(i," ").concat(this.conditionState).concat(-1!=this.specilkey100.indexOf(this.conditionSelkey)?"%":""," ").concat(3==this.conditiondeal||4==this.conditiondeal?"和".concat(this.conditionState2).concat(-1!=this.specilkey100.indexOf(this.conditionSelkey)?"%":""):""),option:"",key:"",regkey:"".concat(this.prevFirstKey,".").concat(this.conditionSelkey)},"adCampaignTargetVo"==this.prevFirstKey?a.key="campaignOptions":"adSetTargetVo"==this.prevFirstKey?a.key="adSetOptions":a.key="adOptions",-1!=s.indexOf(this.conditionSelkey)&&(this.conditionState*=1e3,this.conditionState2*=1e3),3==this.conditiondeal?a.option="".concat(this.prevFirstKey,".").concat(this.conditionSelkey,">=").concat(this.conditionState>this.conditionState2?this.conditionState2:this.conditionState," and ").concat(this.prevFirstKey,".").concat(this.conditionSelkey,"<=").concat(this.conditionState>this.conditionState2?this.conditionState:this.conditionState2):4==this.conditiondeal?a.option="(".concat(this.prevFirstKey,".").concat(this.conditionSelkey,">").concat(this.conditionState>this.conditionState2?this.conditionState:this.conditionState2," or ").concat(this.prevFirstKey,".").concat(this.conditionSelkey,"<").concat(this.conditionState>this.conditionState2?this.conditionState2:this.conditionState,")"):1==this.conditiondeal?a.option="".concat(this.prevFirstKey,".").concat(this.conditionSelkey,">").concat(this.conditionState):a.option="".concat(this.prevFirstKey,".").concat(this.conditionSelkey,"<").concat(this.conditionState);break;case 3:if(""===this.conditionInput.trim())return void Object(H["g"])("请输入内容");var o=this.conditionInput.trim().split(" ");o=o.filter(function(t){return t}),o=o.map(function(t){return t.replace(/&/g,"")}),a={name:"".concat(this.conditionSel,"：").concat(i," ").concat(o.join(" ")),option:"".concat(o.join("&")),key:"".concat(this.prevFirstKey).concat(1==this.conditiondeal?"":"No"),regkey:this.prevFirstKey};break}a.prevFirstSearch=this.prevFirstSearch,a.prevFirstKey=this.prevFirstKey,a.conditionDeal=this.conditiondeal,a.conditionSel=this.conditionSel,a.conditionSelkey=this.conditionSelkey,a.conditionInput=this.conditionInput,a.conditionState=-1!=s.indexOf(this.conditionSelkey)?this.conditionState/1e3:this.conditionState,a.conditionState2=-1!=s.indexOf(this.conditionSelkey)?this.conditionState2/1e3:this.conditionState2,this.disCondition=this.disCondition.filter(function(t){return t.regkey!=a.regkey}),this.disCondition.push(a),this.searchLocalstorage(),this.cancelSearch("select"),"init"!=t&&this.resetPageData()},cancelSearch:function(t){switch(this.searchType){case 1:break;case 2:this.conditionState=0,this.conditionState2=0;break}this.prevFirstSearch="",this.prevFirstKey="",this.firstSearch="",this.firstKey="",this.conditionSel="",this.conditionSelArr=[],this.conditionSelkey="",this.conditiondeal=1,this.conditionState=0,this.conditionState2=0,this.conditionInput="",this.secondSearchList=[],this.prevEdit&&"select"!=t&&this.disCondition.push(this.prevEdit),this.prevEdit=null,this.searchList.forEach(function(t){t.list.forEach(function(t){t.checked=!1})})},downselectChange:function(){this.changeConditionArr();var t=this.secondDownList.filter(function(t){return t.checked});this.conditionSel=t.map(function(t){return t.cname}).join("、"),this.conditionSelArr=this.conditionSel.split("、"),this.conditionSelkey=t.map(function(t){return t.key}).join(",")},changeConditionArr:function(t){var e=this;switch(this.searchType){case 1:this.searchList.forEach(function(t){t.list.forEach(function(t){t.checked=!1})}),this.secondDownList=this.searchList.find(function(t){return t.name==e.prevFirstSearch}).list,this.searchList.forEach(function(t){t.name==e.prevFirstSearch&&t.list.forEach(function(t){-1!=e.conditionSelArr.indexOf(t.cname)&&(t.checked=!0)})});break;case 3:break}},selectSearch:function(t,e,a){var i=this;this.prevEdit&&this.disCondition.push(this.prevEdit),this.prevFirstSearch!=this.firstSearch&&(this.prevFirstSearch=this.firstSearch,this.prevFirstKey=this.firstKey,this.searchList.forEach(function(t){t.name!=i.firstSearch&&t.list.forEach(function(t){t.checked=!1})})),"广告系列指标"!=this.firstSearch&&"广告组指标"!=this.firstSearch&&"广告指标"!=this.firstSearch||this.searchList.forEach(function(t){t.list.forEach(function(t){t.checked=!1})}),this.secondSearchList.forEach(function(e){e.cname==t&&(e.checked=!e.checked)});var s=this.secondSearchList.filter(function(t){return t.checked});this.conditionSel=s.map(function(t){return t.cname}).join("、"),this.conditionSelArr=this.conditionSel.split("、"),this.conditionSelkey=s.map(function(t){return t.key}).join(","),1==this.searchType&&(this.secondDownList=this.searchList.find(function(t){return t.name==i.prevFirstSearch}).list)},searchStatus:function(){this.secondSearchList=[],this.firstSearch="",this.firstKey=""},selectSaveSearch:function(t){this.disCondition=JSON.parse(this.conditionlist.find(function(e){return e.id==t}).url),this.searchLocalstorage(),this.resetPageData()},deleteSaveSearch:function(t){var e=this;this.$confirm("确定删除此已保存条件？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$store.dispatch("deleteSearchCondition",{id:t,userId:e.userId,projectId:e.projectId})}).catch(function(){})},getSaveSearch:function(){this.firstSearch="已保存条件",this.firstKey="savecondition"},searchClick:function(t,e){var a=this;this.firstSearch=t,this.firstKey=e,this.secondSearchList=this.searchList.find(function(t){return a.firstSearch==t.name}).list},sortConditionLogic:function(t){var e="ACTIVE,PAUSED",a=t["adSetStatusStr"]?"adSetStatusStr":"adCampaignStatusStr";t[a]&&(e="",-1==t[a].indexOf("ACTIVE")&&-1==t[a].indexOf("PAUSED")||(e="ACTIVE,PAUSED"),-1!=t[a].indexOf("ARCHIVED")&&(e+=",ARCHIVED"),-1!=t[a].indexOf("DELETED")&&(e+=",DELETED")),this.SETSTATE({k:"sortdefault",v:e.replace(/^,/,"")})},initData:function(t){var e=this,a=this.$route.params.bid,i=this.$route.params.id,s={pageNo:1,pageSize:20,batchId:a,projectId:i};s.adCampaignStatusStr=this.sortdefault,console.log(this.disCondition),this.disCondition.forEach(function(t){s[t.key]&&"adCampaignStatusStr"!=t.key?s[t.key]+=" and "+t.option:s[t.key]=t.option}),this.sortConditionLogic(s);var n="";switch(this.tabname){case"first":n="campain_option";break;case"second":n="set_option";break;case"third":n="ad_option";break}this.SETSTATE({k:n,v:s}),this.$store.dispatch("jobList"),this.defaultOption=localStorage.getItem(adOptionLS.new)&&JSON.parse(localStorage.getItem(adOptionLS.new))[t]?JSON.parse(localStorage.getItem(adOptionLS.new))[t]:[{name:"投放状态",key:"effectiveStatusName",checked:!0,isevent:!0},{name:"触达",key:"reachNum",checked:!0},{name:"展示",key:"showNum",checked:!0},{name:"点击",key:"clicksNum",checked:!0},{name:"CTR",key:"ctr",checked:!0},{name:"CVR",key:"cvr",checked:!0},{name:"CPM",key:"cpm",checked:!0},{name:"CPC",key:"cpc",checked:!0},{name:"相关度",key:"relevanceScore",checked:!0},{name:"安装",key:"installNum",checked:!0},{name:"花费",key:"spend",checked:!0},{name:"CPI",key:"cpi",checked:!0}],this.defaultListOption=[],this.defaultOption.forEach(function(t){e.defaultListOption.push(ue()({},t))}),this.$store.dispatch("getCustomEventAd",t)},selectSort:function(t){this.mutilselect=t,this.SETSTATE({k:"campainsortlist",v:t})},selectSetSort:function(t){this.mutilsetselect=t,this.SETSTATE({k:"setsortlist",v:t})},selectAdSort:function(t){this.mutiladselect=t,this.SETSTATE({k:"adsortlist",v:t})},tableSort:function(t){this.sort=t,this.toGetdata()},dateSort:function(){var t=this.date;this.SETSTATE({k:"adstarttime",v:this.$timeFormat(t[0],"yyyy-MM-dd")}),this.SETSTATE({k:"adendtime",v:this.$timeFormat(t[1],"yyyy-MM-dd")}),this.resetPageData()},resetPageData:function(){var t="";switch(this.tabname){case"first":t="campaignName",this.$refs["campaignName"].toGetdata(!0);break;case"second":t="adSetName",this.$refs["adSetName"].toGetdata(!0);break;case"third":t="adName",this.$refs["adName"].toGetdata(!0);break}this.SETSTATE({k:"adtab",v:t})},toSortAccount:function(){var t=this.value3;this.SETSTATE({k:"adaccountid",v:t}),this.accountStorage[this.$route.params.id]=t.join("|"),localStorage.setItem("ad-account",ce()(this.accountStorage)),this.resetPageData()},handleCommand:function(t){this.prevEdit&&this.disCondition.push(this.prevEdit),this.prevFirstSearch="allsearch",this.prevFirstKey=t.split("_")[0],this.conditionSel=t.split("_")[1]}}),watch:{itemlist:function(t,e){var a=this;if(0!=t.length){var i=t.find(function(t){return t.id==a.$route.params.id}).applicationId;this.SETSTATE({k:"adapplicationid",v:i}),this.initData(i)}},projectid:function(t,e){if(""!=t){var a="pl_project_id",i=t;this.projectId=this.$route.params.id,this.SETSTATE({k:a,v:i}),this.disCondition=this.allCondition[t]?this.allCondition[t]:[],this.$store.dispatch("getAdaccount",t),this.value3=this.accountStorage[t]?this.accountStorage[t].split("|"):[],this.tabname="first",this.SETSTATE({k:"adtab",v:"campaignName"});var s=this.itemlist.find(function(e){return e.id==t}).applicationId;this.SETSTATE({k:"adapplicationid",v:s}),this.initData(s),this.$store.dispatch("getSearchCondition",{projectId:t,userId:this.userId})}}},computed:Object(M["a"])({},Object(P["d"])(["itemlist","adaccountlist","adalllist","adcustomevent","customunit","adplanlist","conditionlist","datestatus","jobtotal","jobcomplete","copyjoblistdetail","sortdefault"]),{projectid:function(){return this.$route.params.id},searchType:function(){var t="";switch(this.prevFirstSearch){case"广告系列投放":case"广告组投放":case"广告投放":case"版位":case"受众年龄":case"受众性别":t=1;break;case"广告系列指标":case"广告组指标":case"广告指标":t=2;break;case"allsearch":t=3;break}return t},documentHeight:function(){return document.documentElement.clientHeight-60},projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName}})},Nd=Rd,$d=(a("d676"),a("87c2"),Object(C["a"])(Nd,hl,_l,!1,null,"024f8230",null)),Ud=$d.exports,Fd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ad"},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("素材报表")])],1),a("div",{staticClass:"ctrlbutton"},[a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"广告账户","no-data-text":"无数据，请输入或者改变关键字"},on:{change:t.toSort},model:{value:t.form.value1,callback:function(e){t.$set(t.form,"value1",e)},expression:"form.value1"}},t._l(t.adaccountlist,function(t){return a("el-option",{key:t.fbId,attrs:{label:t.name+(-1!=t.fbId?"("+t.fbId+")":""),value:t.fbId}})}),1),a("p",{staticClass:"download"},[a("span",{on:{click:t.outTable}},[t._v("导出全部\n        "),a("svg-icon",{attrs:{svgname:"save",svgclass:"save"}})],1)]),a("el-date-picker",{staticClass:"datar",attrs:{type:"daterange","range-separator":"至",clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.toSort},model:{value:t.form.value8,callback:function(e){t.$set(t.form,"value8",e)},expression:"form.value8"}})],1),a("div",{staticClass:"advanceCtr"},[a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"年龄"},on:{change:t.toSort},model:{value:t.form.value4,callback:function(e){t.$set(t.form,"value4",e)},expression:"form.value4"}},t._l(t.dataage,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1),a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"性别"},on:{change:t.toSort},model:{value:t.form.value5,callback:function(e){t.$set(t.form,"value5",e)},expression:"form.value5"}},t._l(t.datasex,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}),1)],1),a("div",{staticClass:"tablist"},[a("span",{staticClass:"downmatter",on:{click:t.downMatter}},[t._v("下载当页素材")]),a("el-tabs",{staticClass:"activeName",attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"图片",name:"first"}},[a("div",{staticClass:"list"},[a("image-list",{ref:"imageList",on:{tableSort:t.tableSort}})],1),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper","current-page":t.pageindex,total:t.imagemattertotal,"page-size":t.pagesize},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)]),a("el-tab-pane",{attrs:{label:"视频",name:"second"}},[a("div",{staticClass:"list"},[a("video-list",{ref:"videoList",on:{tableSort:t.tableSort}})],1),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper","current-page":t.pageindex,total:t.videomattertotal,"page-size":t.pagesize},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)])],1)],1)],1)},Bd=[],Kd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{ref:"dataForm",staticStyle:{width:"960px"},attrs:{id:"dataTable",data:t.imagematterlist,"show-summary":"","summary-method":t.getSummaries},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"materialId",fixed:"",label:"FB图片编号",width:"160"}}),a("el-table-column",{attrs:{prop:"materialUrl",label:"图片",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"imageline"},[a("span",{staticClass:"headpic"},[a("img",{attrs:{src:e.row.materialUrl,alt:""},on:{click:function(a){t.showBig(e.row.materialUrl)}}})]),a("i",{directives:[{name:"show",rawName:"v-show",value:e.row.materialUrl,expression:"scope.row.materialUrl"}],staticClass:"el-icon-download download",on:{click:function(a){t.downloadFile(e.row.materialUrl)}}})])]}}])}),a("el-table-column",{attrs:{prop:"reachNum",label:"触达",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"showNum",label:"展示",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"clicksNum",label:"点击",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"ctr",label:"CTR",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"cvr",label:"CVR",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"cpm",label:"CPM",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"cpc",label:"CPC",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"relevanceScore",label:"相关度",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"installsNum",label:"安装",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"spend",label:"花费",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"cpi",label:"CPI",sortable:"custom",width:"90"}})],1)},Vd=[],Wd={data:function(){return{}},mounted:function(){},methods:{downMatter:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this.imagematterlist.map(function(t){return t.materialUrl}),a=0;case 2:if(!(a<e.length)){t.next=10;break}if(i=e[a],!i){t.next=7;break}return t.next=7,this.$fileDownload(i);case 7:a++,t.next=2;break;case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),showBig:function(t){window.open(t)},downloadFile:function(t){this.$fileDownload(t)},sortChange:function(t){t.column;var e=t.prop,a=t.order,i="";switch(e){case"reachNum":i="ascending"==a?"reach_num asc":"reach_num desc";break;case"showNum":i="ascending"==a?"show_num asc":"show_num desc";break;case"clicksNum":i="ascending"==a?"clicks_num asc":"clicks_num desc";break;case"ctr":i="ascending"==a?"ctr asc":"ctr desc";break;case"cvr":i="ascending"==a?"cvr asc":"cvr desc";break;case"cpm":i="ascending"==a?"cpm asc":"cpm desc";break;case"cpc":i="ascending"==a?"cpc asc":"cpc desc";break;case"relevanceScore":i="ascending"==a?"relevance_score asc":"relevance_score desc";break;case"installsNum":i="ascending"==a?"installs_num asc":"installs_num desc";break;case"spend":i="ascending"==a?"spend asc":"spend desc";break;case"cpi":i="ascending"==a?"cpi asc":"cpi desc";break}this.$emit("tableSort",i)},getSummaries:function(t){var e=this,a=t.columns,i=(t.data,[]),s=["reachNum","showNum","clicksNum","ctr","cvr","cpm","cpc","relevanceScore","installsNum","spend","cpi"];return a.forEach(function(t,a){switch(a){case 0:i[a]="合计";break;case 1:i[a]="";break;default:i[a]=e.imagemattersum[s[a-2]];break}}),i}},computed:Object(M["a"])({},Object(P["d"])(["imagematterlist","imagemattersum"]))},Gd=Wd,zd=(a("22bb"),Object(C["a"])(Gd,Kd,Vd,!1,null,"45b9b14c",null)),Hd=zd.exports,qd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{ref:"dataCard",staticStyle:{width:"960px"},attrs:{id:"dataTable",data:t.videomatterlist,"show-summary":"","summary-method":t.getSummaries},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"materialId",fixed:"",label:"FB视频编号",width:"160"}}),a("el-table-column",{attrs:{prop:"materialUrl",label:"视频",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"imageline"},[a("span",{staticClass:"headpic"},[a("img",{attrs:{src:e.row.materialUrl,alt:""},on:{click:function(a){t.showBig(e.row.materialId)}}})]),a("i",{directives:[{name:"show",rawName:"v-show",value:e.row.materialId,expression:"scope.row.materialId"}],staticClass:"el-icon-download download",on:{click:function(a){t.downloadFile(e.row.materialId)}}})])]}}])}),a("el-table-column",{attrs:{prop:"reachNum",label:"触达",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"showNum",label:"展示",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"clicksNum",label:"点击",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"ctr",label:"CTR",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"cvr",label:"CVR",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"cpm",label:"CPM",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"cpc",label:"CPC",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"relevanceScore",label:"相关度",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"installsNum",label:"安装",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"spend",label:"花费",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"cpi",label:"CPI",sortable:"custom",width:"90"}})],1)},Jd=[],Yd={data:function(){return{}},mounted:function(){},methods:{downMatter:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e,a,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this.videomatterlist.map(function(t){return t.materialId}),a=0;case 2:if(!(a<e.length)){t.next=14;break}if(i=e[a],!i){t.next=11;break}return t.next=7,this.$store.dispatch("getVideoLink",i);case 7:if(s=t.sent,!s.data){t.next=11;break}return t.next=11,this.$fileDownload(s.data);case 11:a++,t.next=2;break;case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),showBig:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getVideoLink",e);case 2:a=t.sent,a.data?window.open(a.data):Object(H["g"])("无视频");case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),downloadFile:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return Object(H["g"])("视频素材正在下载中..."),t.next=3,this.$store.dispatch("getVideoLink",e);case 3:if(a=t.sent,!a.data){t.next=9;break}return t.next=7,this.$fileDownload(a.data);case 7:t.next=10;break;case 9:Object(H["g"])("无视频");case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),sortChange:function(t){t.column;var e=t.prop,a=t.order,i="";switch(e){case"reachNum":i="ascending"==a?"reach_num asc":"reach_num desc";break;case"showNum":i="ascending"==a?"show_num asc":"show_num desc";break;case"clicksNum":i="ascending"==a?"clicks_num asc":"clicks_num desc";break;case"ctr":i="ascending"==a?"ctr asc":"ctr desc";break;case"cvr":i="ascending"==a?"cvr asc":"cvr desc";break;case"cpm":i="ascending"==a?"cpm asc":"cpm desc";break;case"cpc":i="ascending"==a?"cpc asc":"cpc desc";break;case"relevanceScore":i="ascending"==a?"relevance_score asc":"relevance_score desc";break;case"installsNum":i="ascending"==a?"installs_num asc":"installs_num desc";break;case"spend":i="ascending"==a?"spend asc":"spend desc";break;case"cpi":i="ascending"==a?"cpi asc":"cpi desc";break}this.$emit("tableSort",i)},getSummaries:function(t){var e=this,a=t.columns,i=(t.data,[]),s=["reachNum","showNum","clicksNum","ctr","cvr","cpm","cpc","relevanceScore","installsNum","spend","cpi"];return a.forEach(function(t,a){switch(a){case 0:i[a]="合计";break;case 1:i[a]="";break;default:i[a]=e.videomattersum[s[a-2]];break}}),i}},computed:Object(M["a"])({},Object(P["d"])(["videomatterlist","videomattersum"]))},Xd=Yd,Zd=(a("4d7d"),Object(C["a"])(Xd,qd,Jd,!1,null,"55b6e4cc",null)),Qd=Zd.exports,tm={data:function(){return{state:"",sort:"",cardname:"first",activeName:"first",form:{value1:[],value2:[],value4:[],value5:[],value8:[(new Date).setDate((new Date).getDate()-1),(new Date).setDate((new Date).getDate()-1)]},pageindex:1,pagesize:20,datasex:[{name:"全部",code:"0"},{name:"男",code:"1"},{name:"女",code:"2"}]}},components:{ImageList:Hd,VideoList:Qd},mounted:function(){var t=this.$route.params.id;this.$store.dispatch("getCondition",{projectId:t});var e={pageNo:1,pageSize:20,projectId:this.$route.params.id,endDate:this.$timeFormat(this.form.value8[1],"yyyy-MM-dd"),startDate:this.$timeFormat(this.form.value8[0],"yyyy-MM-dd"),materialType:0};this.$store.dispatch("getMatterList",{option:e}),this.$store.dispatch("getAdaccount",t)},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{downMatter:function(){"first"==this.activeName?this.$refs.imageList.downMatter():this.$refs.videoList.downMatter()},handleClick:function(t){console.log(t.name),this.cardname=t.name,this.sort="","first"==this.cardname?(this.SETSTATE({k:"videomatterlist",v:[]}),this.$refs.imageList.$refs.dataForm.clearSort()):(this.SETSTATE({k:"imagematterlist",v:[]}),this.$refs.videoList.$refs.dataCard.clearSort()),this.toGetdata()},clearArr:function(t){var e=[];this.SETSTATE({k:t,v:e})},tableSort:function(t){this.sort=t,this.toGetdata()},pageSizeChange:function(t){this.pagesize=t,this.toGetdata()},outTable:function(){var t={ageList:this.form.value4.join(","),endDate:this.$timeFormat(this.form.value8[1],"yyyy-MM-dd"),fbAdAccountIdList:this.form.value1.join(","),fbAdCreativeIdList:"",fbAppId:"",flag:"",genderList:this.form.value5.join(","),insightDate:"",orderByClause:this.sort,pageNo:1,startDate:this.$timeFormat(this.form.value8[0],"yyyy-MM-dd"),accountKeyword:"",campainKeyword:"",creativeKeyword:this.state,projectId:this.$route.params.id},e="";"first"==this.cardname?(t.materialType=0,t.pageSize=this.imagemattertotal,e="".concat(this.projectname,"图片素材报表").concat(this.$timeFormat(new Date,"yyyyMMddHHmmss"))):(t.materialType=1,t.pageSize=this.videomattertotal,e="".concat(this.projectname,"视频素材卡片").concat(this.$timeFormat(new Date,"yyyyMMddHHmmss"))),this.$store.dispatch("getMatterList",{option:t,name:e})},toSort:function(){this.pageindex=1,this.toGetdata()},toGetdata:function(){console.log(this.form);var t={ageList:this.form.value4.join(","),endDate:this.$timeFormat(this.form.value8[1],"yyyy-MM-dd"),fbAdAccountIdList:this.form.value1.join(","),fbAdCreativeIdList:"",fbAppId:"",flag:"",genderList:this.form.value5.join(","),insightDate:"",orderByClause:this.sort,pageNo:this.pageindex,pageSize:this.pagesize,startDate:this.$timeFormat(this.form.value8[0],"yyyy-MM-dd"),accountKeyword:"",campainKeyword:"",creativeKeyword:this.state,projectId:this.$route.params.id};"first"==this.cardname?t.materialType=0:t.materialType=1,this.$store.dispatch("getMatterList",{option:t})},dataSearch:function(){var t=this;this.pageindex=1,clearTimeout(m),m=setTimeout(function(){t.toGetdata()},300)},pageSwitch:function(t){this.pageindex=t,this.toGetdata()}}),computed:Object(M["a"])({},Object(P["d"])(["itemlist","adaccountlist","adcampaign","dataage","imagemattertotal","videomattertotal"]),{projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName}})},em=tm,am=(a("41088"),a("4f6b"),Object(C["a"])(em,Fd,Bd,!1,null,"88fcb014",null)),im=am.exports,sm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ad"},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("账户报表")])],1),a("div",{staticClass:"ctrlbutton"},[a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"",remote:"","collapse-tags":"","no-data-text":"无数据，请输入或者改变关键字",placeholder:"创意","remote-method":t.searchCreate},on:{blur:function(e){t.clearArr("adcreate")},change:t.toSort},model:{value:t.form.value2,callback:function(e){t.$set(t.form,"value2",e)},expression:"form.value2"}},[t._l(t.adcreate,function(t,e){return a("el-option",{key:e,attrs:{label:t.creativityName+"("+t.fbAdcreativeId+")",value:t.fbAdcreativeId}})}),a("p",{staticClass:"maxcount"},[t._v("最多显示20条")])],2),a("el-button",{staticClass:"advanceSelect",attrs:{type:"text"},on:{click:t.advanceFilter}},[t._v("高级筛选")]),a("p",{staticClass:"download"},[a("span",{on:{click:t.outTable}},[t._v("导出全部\n        "),a("svg-icon",{attrs:{svgname:"save",svgclass:"save"}})],1)]),a("el-input",{staticClass:"search",attrs:{placeholder:"搜索广告账户ID/名称","suffix-icon":"el-icon-search"},on:{input:t.dataSearch},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}}),a("el-date-picker",{staticClass:"datar",attrs:{type:"daterange","range-separator":"至",clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.toSort},model:{value:t.form.value8,callback:function(e){t.$set(t.form,"value8",e)},expression:"form.value8"}})],1),a("div",{staticClass:"advanceCtr"},[t.ifadvance?a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"国家",disabled:!t.filter3},on:{change:t.toSort},model:{value:t.form.value3,callback:function(e){t.$set(t.form,"value3",e)},expression:"form.value3"}},t._l(t.datacountry,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1):t._e(),t.ifadvance?a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"年龄",disabled:!t.filter1},on:{change:t.toSort},model:{value:t.form.value4,callback:function(e){t.$set(t.form,"value4",e)},expression:"form.value4"}},t._l(t.dataage,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1):t._e(),t.ifadvance?a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"性别",disabled:!t.filter1},on:{change:t.toSort},model:{value:t.form.value5,callback:function(e){t.$set(t.form,"value5",e)},expression:"form.value5"}},t._l(t.datasex,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}),1):t._e()],1),t.ifadvance?a("div",{staticClass:"advanceCtr"},[a("el-select",{staticClass:"selectmul",attrs:{filterable:"","collapse-tags":"",multiple:"",placeholder:"请选择版位",disabled:!t.filter2},on:{change:t.toSort},model:{value:t.form.value6,callback:function(e){t.$set(t.form,"value6",e)},expression:"form.value6"}},t._l(t.dataplatform,function(t){return a("el-option",{key:t,attrs:{label:t,value:"Audience Network"==t?"Audience_Network":t}})}),1),a("el-select",{staticClass:"selectmul",attrs:{filterable:"","collapse-tags":"",multiple:"",placeholder:"请选择设备",disabled:!t.filter2},on:{change:t.toSort},model:{value:t.form.value7,callback:function(e){t.$set(t.form,"value7",e)},expression:"form.value7"}},t._l(t.dataimpression,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1):t._e(),a("div",{staticClass:"list"},[a("data-list",{on:{tableSort:t.tableSort}})],1),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper","current-page":t.pageindex,total:t.datatotal,"page-size":20},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)],1)},nm=[],om=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"960px"},attrs:{id:"dataTable",data:t.datalist,"show-summary":"","summary-method":t.getSummaries},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"fbAccountId",fixed:"",label:"广告账户ID",width:"100"}}),a("el-table-column",{attrs:{prop:"adAccountName",fixed:"",label:"广告账户名称",width:"160"}}),a("el-table-column",{attrs:{prop:"reachNum",label:"触达",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"showNum",label:"展示",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"clicksNum",label:"点击",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"ctr",label:"CTR",sortable:"custom",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.ctr))])]}}])}),a("el-table-column",{attrs:{prop:"cvr",label:"CVR",sortable:"custom",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.cvr?e.row.cvr:"--"))])]}}])}),a("el-table-column",{attrs:{prop:"cpm",label:"CPM",sortable:"custom",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.cpm?e.row.cpm:"--"))])]}}])}),a("el-table-column",{attrs:{prop:"cpc",label:"CPC",sortable:"custom",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.cpc?e.row.cpc:"--"))])]}}])}),a("el-table-column",{attrs:{prop:"relevanceScore",label:"相关度",sortable:"custom",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.relevanceScore?e.row.relevanceScore:"--"))])]}}])}),a("el-table-column",{attrs:{prop:"installsNum",label:"安装",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"spend",label:"花费",sortable:"custom",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.spend?e.row.spend:"--"))])]}}])}),a("el-table-column",{attrs:{prop:"cpi",label:"CPI",sortable:"custom",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.cpi?e.row.cpi:"--"))])]}}])})],1)},rm=[],cm={data:function(){return{}},methods:{sortChange:function(t){t.column;var e=t.prop,a=t.order,i="";switch(e){case"reachNum":i="ascending"==a?"reach_num asc":"reach_num desc";break;case"showNum":i="ascending"==a?"show_num asc":"show_num desc";break;case"clicksNum":i="ascending"==a?"clicks_num asc":"clicks_num desc";break;case"ctr":i="ascending"==a?"ctr asc":"ctr desc";break;case"cvr":i="ascending"==a?"cvr asc":"cvr desc";break;case"cpm":i="ascending"==a?"cpm asc":"cpm desc";break;case"cpc":i="ascending"==a?"cpc asc":"cpc desc";break;case"relevanceScore":i="ascending"==a?"relevance_score asc":"relevance_score desc";break;case"installsNum":i="ascending"==a?"installs_num asc":"installs_num desc";break;case"spend":i="ascending"==a?"spend asc":"spend desc";break;case"cpi":i="ascending"==a?"cpi asc":"cpi desc";break}this.$emit("tableSort",i)},getSummaries:function(t){var e=this,a=t.columns,i=(t.data,[]),s=["reachNum","showNum","clicksNum","ctr","cvr","cpm","cpc","relevanceScore","installsNum","spend","cpi"];return a.forEach(function(t,a){switch(a){case 0:i[a]="合计";break;case 1:i[a]="";break;default:i[a]=e.datasum[s[a-2]];break}}),i}},computed:Object(M["a"])({},Object(P["d"])(["datalist","datasum"]))},lm=cm,um=(a("e78e"),Object(C["a"])(lm,om,rm,!1,null,null,null)),dm=um.exports,mm={data:function(){return{state:"",ifadvance:!1,filter1:!0,filter2:!0,filter3:!0,sort:"",form:{value1:[],value2:[],value3:[],value4:[],value5:[],value6:[],value7:[],value8:[(new Date).setDate((new Date).getDate()-1),(new Date).setDate((new Date).getDate()-1)]},pageindex:1,pagesize:20,datasex:[{name:"全部",code:"0"},{name:"男",code:"1"},{name:"女",code:"2"}]}},components:{DataList:dm},mounted:function(){var t=this.$route.params.id;this.$store.dispatch("getCondition",{projectId:t});var e={pageNo:1,pageSize:20,projectId:this.$route.params.id,endDate:this.$timeFormat(this.form.value8[1],"yyyy-MM-dd"),startDate:this.$timeFormat(this.form.value8[0],"yyyy-MM-dd")};this.$store.dispatch("getDataList",{option:e})},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{clearArr:function(t){var e=[];this.SETSTATE({k:t,v:e})},searchCreate:function(t){var e=this,a=t;clearTimeout(f),f=setTimeout(function(){e.$store.dispatch("getOptionMore",{projectId:e.$route.params.id,creativeKeyword:a})},300)},tableSort:function(t){this.sort=t,this.toGetdata()},pageSizeChange:function(t){this.pagesize=t,this.toGetdata()},advanceFilter:function(){this.ifadvance=!this.ifadvance,(this.form.value3.length>0||this.form.value4.length>0||this.form.value5.length>0||this.form.value6.length>0||this.form.value7.length>0)&&(this.form.value3=[],this.form.value4=[],this.form.value5=[],this.form.value6=[],this.form.value7=[],this.filter1=!0,this.filter2=!0,this.pageindex=1,this.toGetdata())},outTable:function(){var t="".concat(this.projectname,"账户报表").concat(this.$timeFormat(new Date,"yyyyMMddHHmmss")),e={ageList:this.form.value4.join(","),countryList:this.form.value3.join(","),endDate:this.$timeFormat(this.form.value8[1],"yyyy-MM-dd"),fbAdAccountIdList:"",fbAdCreativeIdList:this.form.value2.join(","),fbAppId:"",flag:"",genderList:this.form.value5.join(","),impressionDeviceList:this.form.value7.join(","),insightDate:"",orderByClause:this.sort,pageNo:1,pageSize:this.datatotal,platformPositionList:this.form.value6.join(","),startDate:this.$timeFormat(this.form.value8[0],"yyyy-MM-dd"),accountKeyword:this.state,campainKeyword:"",creativeKeyword:"",projectId:this.$route.params.id};this.$store.dispatch("getDataListout",{option:e,name:t})},toSort:function(){this.pageindex=1,this.filter2=!(this.form.value3.length>0||this.form.value4.length>0||this.form.value5.length>0),this.filter3=!(this.form.value4.length>0||this.form.value5.length>0||this.form.value6.length>0||this.form.value7.length>0),this.filter1=!(this.form.value3.length>0||this.form.value6.length>0||this.form.value7.length>0),this.toGetdata()},toGetdata:function(){console.log(this);var t={ageList:this.form.value4.join(","),countryList:this.form.value3.join(","),endDate:this.$timeFormat(this.form.value8[1],"yyyy-MM-dd"),fbAdAccountIdList:"",fbAdCreativeIdList:this.form.value2.join(","),fbAppId:"",flag:"",genderList:this.form.value5.join(","),impressionDeviceList:this.form.value7.join(","),insightDate:"",orderByClause:this.sort,pageNo:this.pageindex,pageSize:this.pagesize,platformPositionList:this.form.value6.join(","),startDate:this.$timeFormat(this.form.value8[0],"yyyy-MM-dd"),accountKeyword:this.state,campainKeyword:"",creativeKeyword:"",projectId:this.$route.params.id};this.$store.dispatch("getDataList",{option:t})},dataSearch:function(){var t=this;this.pageindex=1,clearTimeout(p),p=setTimeout(function(){t.toGetdata()},300)},pageSwitch:function(t){this.pageindex=t,this.toGetdata()}}),computed:Object(M["a"])({},Object(P["d"])(["itemlist","adcreate","datacountry","dataage","dataplatform","dataimpression","datatotal"]),{projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName}})},pm=mm,fm=(a("49c8"),a("647a"),Object(C["a"])(pm,sm,nm,!1,null,"523234e2",null)),hm=fm.exports,_m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ad"},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("创意报表")])],1),a("div",{staticClass:"ctrlbutton"},[a("el-select",{staticClass:"select",attrs:{filterable:"",remote:"",multiple:"","collapse-tags":"",placeholder:"广告账户","no-data-text":"无数据，请输入或者改变关键字","remote-method":t.searchAccount},on:{blur:function(e){t.clearArr("adaccount")},change:t.toSort},model:{value:t.form.value1,callback:function(e){t.$set(t.form,"value1",e)},expression:"form.value1"}},t._l(t.adaccount,function(t,e){return a("el-option",{key:e,attrs:{label:t.accountName+(t.fbAccountId?"("+t.fbAccountId+")":""),value:t.fbAccountId}})}),1),a("el-button",{staticClass:"advanceSelect",attrs:{type:"text"},on:{click:t.advanceFilter}},[t._v("高级筛选")]),a("p",{staticClass:"download"},[a("span",{on:{click:t.outTable}},[t._v("导出全部\n        "),a("svg-icon",{attrs:{svgname:"save",svgclass:"save"}})],1)]),a("el-input",{staticClass:"search",attrs:{placeholder:"搜索创意ID/名称","suffix-icon":"el-icon-search"},on:{input:t.dataSearch},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}}),a("el-date-picker",{staticClass:"datar",attrs:{type:"daterange","range-separator":"至",clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.toSort},model:{value:t.form.value8,callback:function(e){t.$set(t.form,"value8",e)},expression:"form.value8"}})],1),a("div",{staticClass:"advanceCtr"},[t.ifadvance?a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"国家",disabled:!t.filter1},on:{change:t.toSort},model:{value:t.form.value3,callback:function(e){t.$set(t.form,"value3",e)},expression:"form.value3"}},t._l(t.datacountry,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1):t._e(),t.ifadvance?a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"年龄",disabled:!t.filter1},on:{change:t.toSort},model:{value:t.form.value4,callback:function(e){t.$set(t.form,"value4",e)},expression:"form.value4"}},t._l(t.dataage,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1):t._e(),t.ifadvance?a("el-select",{staticClass:"select",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"性别",disabled:!t.filter1},on:{change:t.toSort},model:{value:t.form.value5,callback:function(e){t.$set(t.form,"value5",e)},expression:"form.value5"}},t._l(t.datasex,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}),1):t._e()],1),t.ifadvance?a("div",{staticClass:"advanceCtr"},[a("el-select",{staticClass:"selectmul",attrs:{filterable:"","collapse-tags":"",multiple:"",placeholder:"请选择版位",disabled:!t.filter2},on:{change:t.toSort},model:{value:t.form.value6,callback:function(e){t.$set(t.form,"value6",e)},expression:"form.value6"}},t._l(t.dataplatform,function(t){return a("el-option",{key:t,attrs:{label:t,value:"Audience Network"==t?"Audience_Network":t}})}),1),a("el-select",{staticClass:"selectmul",attrs:{filterable:"","collapse-tags":"",multiple:"",placeholder:"请选择设备",disabled:!t.filter2},on:{change:t.toSort},model:{value:t.form.value7,callback:function(e){t.$set(t.form,"value7",e)},expression:"form.value7"}},t._l(t.dataimpression,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1):t._e(),a("el-tabs",{staticClass:"activeName",attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"创意",name:"first"}},[a("div",{staticClass:"list"},[a("createform-list",{ref:"dataTable",on:{tableSort:t.tableSort}})],1),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper","current-page":t.pageindex,total:t.createformtotal,"page-size":t.pagesize},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)]),a("el-tab-pane",{attrs:{label:"轮播卡片",name:"second"}},[a("div",{staticClass:"list"},[a("createform-card",{ref:"dataTableCard",on:{tableSort:t.tableSort}})],1),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper","current-page":t.pageindex,total:t.createcardtotal,"page-size":t.pagesize},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)])],1)],1)},vm=[],gm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{ref:"dataForm",staticStyle:{width:"960px"},attrs:{id:"dataTable",data:t.createformlist,"show-summary":"","summary-method":t.getSummaries},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"creativeId",fixed:"",label:"创意ID",width:"100"}}),a("el-table-column",{attrs:{prop:"adCreativeName",fixed:"",label:"创意名称",width:"160"}}),a("el-table-column",{attrs:{prop:"imageUrl",label:"缩略图",width:"90"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("span",{staticClass:"headpic"},[a("img",{attrs:{src:t.row.img,alt:""}})])]}}])}),a("el-table-column",{attrs:{prop:"country",label:"国家",width:"90"}}),a("el-table-column",{attrs:{prop:"reachNum",label:"触达",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"showNum",label:"展示",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"clicksNum",label:"点击",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"ctr",label:"CTR",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"cvr",label:"CVR",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"cpm",label:"CPM",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"cpc",label:"CPC",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"relevanceScore",label:"相关度",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"installsNum",label:"安装",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"spend",label:"花费",sortable:"custom",width:"90"}}),a("el-table-column",{attrs:{prop:"cpi",label:"CPI",sortable:"custom",width:"90"}})],1)},bm=[],ym={data:function(){return{}},mounted:function(){console.log(this.$refs)},methods:{sortChange:function(t){t.column;var e=t.prop,a=t.order,i="";switch(e){case"reachNum":i="ascending"==a?"reach_num asc":"reach_num desc";break;case"showNum":i="ascending"==a?"show_num asc":"show_num desc";break;case"clicksNum":i="ascending"==a?"clicks_num asc":"clicks_num desc";break;case"ctr":i="ascending"==a?"ctr asc":"ctr desc";break;case"cvr":i="ascending"==a?"cvr asc":"cvr desc";break;case"cpm":i="ascending"==a?"cpm asc":"cpm desc";break;case"cpc":i="ascending"==a?"cpc asc":"cpc desc";break;case"relevanceScore":i="ascending"==a?"relevance_score asc":"relevance_score desc";break;case"installsNum":i="ascending"==a?"installs_num asc":"installs_num desc";break;case"spend":i="ascending"==a?"spend asc":"spend desc";break;case"cpi":i="ascending"==a?"cpi asc":"cpi desc";break}this.$emit("tableSort",i)},getSummaries:function(t){var e=this,a=t.columns,i=(t.data,[]),s=["reachNum","showNum","clicksNum","ctr","cvr","cpm","cpc","relevanceScore","installsNum","spend","cpi"];return a.forEach(function(t,a){switch(a){case 0:i[a]="合计";break;case 1:case 2:case 3:i[a]="";break;default:i[a]=e.createformsum[s[a-4]];break}}),i}},computed:Object(M["a"])({},Object(P["d"])(["createformlist","createformsum"]))},km=ym,Em=(a("970b"),Object(C["a"])(km,gm,bm,!1,null,"b718595c",null)),Cm=Em.exports,Om=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cardtable"},[a("el-table",{ref:"dataCard",staticStyle:{width:"960px"},attrs:{id:"dataTableCard",data:t.createcardlist},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"creativeId",fixed:"",label:"创意ID",width:"100"}}),a("el-table-column",{attrs:{prop:"adCreativeName",fixed:"",label:"创意名称"}}),a("el-table-column",{attrs:{prop:"creativeCardId",fixed:"",label:"卡片ID",width:"100"}}),a("el-table-column",{attrs:{prop:"creativeCardName",fixed:"",label:"卡片名称"}}),a("el-table-column",{attrs:{prop:"country",label:"国家",width:"90"}}),a("el-table-column",{attrs:{prop:"clicksNum",label:"点击",sortable:"custom",width:"90"}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Facebook中轮播卡片只能获取到点击量",placement:"top-start"}},[a("i",{staticClass:"el-icon-warning"})])],1)},wm=[],Im={data:function(){return{}},methods:{sortChange:function(t){t.column,t.prop;var e=t.order,a="";a="ascending"==e?"clicks_num asc":"clicks_num desc",this.$emit("tableSort",a)}},computed:Object(M["a"])({},Object(P["d"])(["createcardlist"]))},Tm=Im,Am=(a("d836"),a("698b"),Object(C["a"])(Tm,Om,wm,!1,null,"7cc26382",null)),xm=Am.exports,Sm={data:function(){return{state:"",ifadvance:!1,filter1:!0,filter2:!0,sort:"",cardname:"first",activeName:"first",form:{value1:[],value2:[],value3:[],value4:[],value5:[],value6:[],value7:[],value8:[(new Date).setDate((new Date).getDate()-1),(new Date).setDate((new Date).getDate()-1)]},pageindex:1,pagesize:20,datasex:[{name:"全部",code:"0"},{name:"男",code:"1"},{name:"女",code:"2"}]}},components:{CreateformList:Cm,CreateformCard:xm},mounted:function(){var t=this.$route.params.id;this.$store.dispatch("getCondition",{projectId:t});var e={pageNo:1,pageSize:20,projectId:this.$route.params.id,endDate:this.$timeFormat(this.form.value8[1],"yyyy-MM-dd"),startDate:this.$timeFormat(this.form.value8[0],"yyyy-MM-dd")};this.$store.dispatch("getCreateformList",{option:e})},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{handleClick:function(t){console.log(t.name),this.cardname=t.name,this.sort="","first"==this.cardname?(this.SETSTATE({k:"createcardlist",v:[]}),this.$refs.dataTable.$refs.dataForm.clearSort()):(this.SETSTATE({k:"createformlist",v:[]}),this.$refs.dataTableCard.$refs.dataCard.clearSort()),this.toGetdata()},clearArr:function(t){var e=[];this.SETSTATE({k:t,v:e})},searchAccount:function(t){var e=this,a=t;clearTimeout(_),_=setTimeout(function(){e.$store.dispatch("getOptionMore",{projectId:e.$route.params.id,accountKeyword:a})},300)},tableSort:function(t){this.sort=t,this.toGetdata()},pageSizeChange:function(t){this.pagesize=t,this.toGetdata()},advanceFilter:function(){this.ifadvance=!this.ifadvance,(this.form.value3.length>0||this.form.value4.length>0||this.form.value5.length>0||this.form.value6.length>0||this.form.value7.length>0)&&(this.form.value3=[],this.form.value4=[],this.form.value5=[],this.form.value6=[],this.form.value7=[],this.filter1=!0,this.filter2=!0,this.pageindex=1,this.toGetdata())},outTable:function(){var t={ageList:this.form.value4.join(","),countryList:this.form.value3.join(","),endDate:this.$timeFormat(this.form.value8[1],"yyyy-MM-dd"),fbAdAccountIdList:this.form.value1.join(","),fbAdCreativeIdList:"",fbAppId:"",flag:"",genderList:this.form.value5.join(","),impressionDeviceList:this.form.value7.join(","),insightDate:"",orderByClause:this.sort,pageNo:1,pageSize:this.createformtotal,platformPositionList:this.form.value6.join(","),startDate:this.$timeFormat(this.form.value8[0],"yyyy-MM-dd"),accountKeyword:"",campainKeyword:"",creativeKeyword:this.state,projectId:this.$route.params.id},e="";"first"==this.cardname?(e="".concat(this.projectname,"创意报表").concat(this.$timeFormat(new Date,"yyyyMMddHHmmss")),this.$store.dispatch("getCreateformListout",{option:t,name:e})):(e="".concat(this.projectname,"轮播卡片").concat(this.$timeFormat(new Date,"yyyyMMddHHmmss")),this.$store.dispatch("getCreatecardListout",{option:t,name:e}))},toSort:function(){this.pageindex=1,this.form.value3.length>0||this.form.value4.length>0||this.form.value5.length>0?this.filter2=!1:this.filter2=!0,this.form.value6.length>0||this.form.value7.length>0?this.filter1=!1:this.filter1=!0,this.toGetdata()},toGetdata:function(){console.log(this.form);var t={ageList:this.form.value4.join(","),countryList:this.form.value3.join(","),endDate:this.$timeFormat(this.form.value8[1],"yyyy-MM-dd"),fbAdAccountIdList:this.form.value1.join(","),fbAdCreativeIdList:"",fbAppId:"",flag:"",genderList:this.form.value5.join(","),impressionDeviceList:this.form.value7.join(","),insightDate:"",orderByClause:this.sort,pageNo:this.pageindex,pageSize:this.pagesize,platformPositionList:this.form.value6.join(","),startDate:this.$timeFormat(this.form.value8[0],"yyyy-MM-dd"),accountKeyword:"",campainKeyword:"",creativeKeyword:this.state,projectId:this.$route.params.id};"first"==this.cardname?this.$store.dispatch("getCreateformList",{option:t}):this.$store.dispatch("getCreatecardList",{option:t})},dataSearch:function(){var t=this;this.pageindex=1,clearTimeout(h),h=setTimeout(function(){t.toGetdata()},300)},pageSwitch:function(t){this.pageindex=t,this.toGetdata()}}),computed:Object(M["a"])({},Object(P["d"])(["itemlist","adaccount","adcampaign","datacountry","dataage","dataplatform","dataimpression","createformtotal","createcardtotal"]),{projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName}})},jm=Sm,Dm=(a("d927"),a("7fe0"),Object(C["a"])(jm,_m,vm,!1,null,"dfc59b46",null)),Mm=Dm.exports,Pm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ad"},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("每日CPI")])],1),a("div",{staticClass:"ctrlbutton"},[a("el-date-picker",{staticClass:"datar",attrs:{type:"daterange","range-separator":"至",clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.toSort},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1),a("div",{staticClass:"chart"},[a("dayapi-chart")],1),a("p",{staticClass:"download"},[a("span",{on:{click:t.outTable}},[t._v(" 导出全部\n      "),a("svg-icon",{attrs:{svgname:"save",svgclass:"save"}})],1)]),t.cpicountry.length>0?a("div",{staticClass:"list"},[a("dayapi-list",{on:{tableSort:t.tableSort,tableFilter:t.tableFilter}})],1):t._e(),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper","current-page":t.pageindex,total:t.daycpitotal,"page-size":20},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1)],1)},Lm=[],Rm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart",attrs:{id:"appChart"}})},Nm=[],$m={data:function(){return{}},computed:{},mounted:function(){myChart4=Rt.init(document.getElementById("appChart"))}},Um=$m,Fm=(a("5563"),Object(C["a"])(Um,Rm,Nm,!1,null,"bc0880de",null)),Bm=Fm.exports,Km=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"960px"},attrs:{id:"daycpiTable",data:t.daycpilist,"show-summary":"","summary-method":t.getSummaries},on:{"filter-change":t.toFilter,"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"insightDate",label:"日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("timeFormat")(e.row.insightDate)))])]}}])}),a("el-table-column",{attrs:{prop:"country",filters:t.cpiCountry,label:"国家","filter-method":t.filterTag,"filter-placement":"bottom-end"}}),a("el-table-column",{attrs:{prop:"userOs",filters:[{text:"Android",value:"platform|Android"},{text:"iOS",value:"platform|iOS"}],label:"平台","filter-method":t.filterTag2,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.userOs?e.row.userOs:"--"))])]}}])}),a("el-table-column",{attrs:{prop:"installsNum",label:"安装",sortable:"custom"}}),a("el-table-column",{attrs:{prop:"spend",label:"花费",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.spend?parseFloat(e.row.spend).toFixed(2):"--"))])]}}])}),a("el-table-column",{attrs:{prop:"cpi",label:"CPI",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.cpi?parseFloat(e.row.cpi).toFixed(2):"--"))])]}}])})],1)},Vm=[],Wm={data:function(){return{filters:{country:[],platform:[]}}},methods:{toFilter:function(t){for(var e in t)this.filters[e]=t[e];var a=[],i=[];for(var s in this.filters)this.filters[s].forEach(function(t){-1!=t.indexOf("country")&&a.push(t.split("_")[1]),-1!=t.indexOf("platform")&&i.push(t.split("|")[1])});this.$emit("tableFilter",a.join(","),i.join(","))},sortChange:function(t){t.column;var e=t.prop,a=t.order,i="";switch(e){case"installsNum":i="ascending"==a?"installs_num asc":"installs_num desc";break;case"spend":i="ascending"==a?"spend asc":"spend desc";break;case"cpi":i="ascending"==a?"cpi asc":"cpi desc";break}this.$emit("tableSort",i)},filterTag:function(t,e){return!0},filterTag2:function(t,e,a){return!0},outTable:function(){var t="应用统计表_".concat(this.$timeFormat(new Date,"yyyyMMddHHmmss"));this.$exportHTML("outTable",t)},getSummaries:function(t){var e=t.columns,a=t.data,i=[];return e.forEach(function(t,e){if(0!==e)if(1!==e&&2!==e)if(5!==e){var s=a.map(function(e){return Number(e[t.property])});s.every(function(t){return isNaN(t)})?i[e]="":(i[e]=s.reduce(function(t,e){var a=Number(e);return isNaN(a)?t:t+e},0),i[e]=-1!=i[e].toString().indexOf(".")?i[e].toFixed(2):i[e])}else i[5]=0==i[3]|isNaN((i[4]/i[3]).toFixed(2))?"":(i[4]/i[3]).toFixed(2);else i[e]="";else i[e]="合计"}),i}},computed:Object(M["a"])({},Object(P["d"])(["daycpilist"]),Object(P["b"])(["cpiCountry","cpiImpression"]))},Gm=Wm,zm=(a("63a4"),Object(C["a"])(Gm,Km,Vm,!1,null,null,null)),Hm=zm.exports,qm={data:function(){return{sort:"",filtercountry:"",filtercompress:"",form:{value:[(new Date).setDate((new Date).getDate()-6),new Date]},pageindex:1,pagesize:20}},components:{DayapiList:Hm,DayapiChart:Bm},created:function(){var t={pageNo:1,pageSize:20,startDate:this.$timeFormat((new Date).getTime()-5184e5,"yyyy-MM-dd"),endDate:this.$timeFormat((new Date).getTime(),"yyyy-MM-dd"),projectId:this.$route.params.id};this.$store.dispatch("getDaycpiList",{option:t})},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{tableFilter:function(t,e){this.pageindex=1,this.filtercountry=t,this.filtercompress=e,this.toGetdata()},tableSort:function(t){this.sort=t,this.toGetdata()},pageSizeChange:function(t){this.pagesize=t,this.toGetdata()},outTable:function(){var t="".concat(this.projectname,"每日CPI").concat(this.$timeFormat(new Date,"yyyyMMddHHmmss")),e={endDate:this.form.value.length>0?this.$timeFormat(this.form.value[1],"yyyy-MM-dd"):this.$timeFormat((new Date).getTime(),"yyyy-MM-dd"),pageNo:1,pageSize:this.daycpitotal,orderByClause:this.sort,countryList:this.filtercountry,userOsList:this.filtercompress,startDate:this.form.value.length>0?this.$timeFormat(this.form.value[0],"yyyy-MM-dd"):this.$timeFormat((new Date).getTime()-5184e5,"yyyy-MM-dd"),projectId:this.$route.params.id};this.$store.dispatch("getDaycpiListout",{option:e,name:t})},toGetdata:function(){console.log(this.form);var t={endDate:this.form.value&&this.form.value.length>0?this.$timeFormat(this.form.value[1],"yyyy-MM-dd"):"",pageNo:this.pageindex,pageSize:this.pagesize,countryList:this.filtercountry,userOsList:this.filtercompress,startDate:this.form.value&&this.form.value.length>0?this.$timeFormat(this.form.value[0],"yyyy-MM-dd"):"",projectId:this.$route.params.id};this.$store.dispatch("getDaycpiList",{option:t,sort:this.sort})},toSort:function(){this.pageindex=1,this.toGetdata()},pageSwitch:function(t){this.pageindex=t,this.toGetdata()}}),computed:Object(M["a"])({},Object(P["d"])(["itemlist","daycpitotal","cpicountry"]),{projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName}})},Jm=qm,Ym=(a("cc3e"),Object(C["a"])(Jm,Pm,Lm,!1,null,"6e1e86da",null)),Xm=Ym.exports,Zm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plan"},[a("el-breadcrumb",{staticClass:"title",attrs:{separator:">"}},[a("el-breadcrumb-item",[t._v("项目"+t._s(t.projectname))]),a("el-breadcrumb-item",[t._v("受众管理")])],1),a("div",{staticClass:"ctrlbutton"},[a("el-select",{staticClass:"selectl",attrs:{"collapse-tags":"",filterable:"",multiple:"",placeholder:"请选择广告账户，支持名称/编号搜索"},on:{change:t.toSetAccount},model:{value:t.adaccounts,callback:function(e){t.adaccounts=e},expression:"adaccounts"}},t._l(t.adaccountlist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name+(t.fbId?"("+t.fbId+")":""),value:t.fbId}})}),1)],1),a("div",{staticClass:"ctrlbutton"},[a("el-dropdown",{staticClass:"select",attrs:{"split-button":"",type:"primary"},on:{command:t.handleCommand}},[t._v("创建\n      "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"a"}},[t._v("自定义受众")]),a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"b"}},[t._v("类似受众")])],1)],1),a("el-dropdown",{staticClass:"select",attrs:{"split-button":"",type:"primary"},on:{command:t.handleCommandMutil}},[t._v("批量\n      "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",disabled:!t.ifdeletetip,content:"一个或多个受众已被用于创建类似受众，请先删除类似受众",placement:"right"}},[a("span",[a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"a",disabled:0==t.selectlist.length||t.ifdeletetip}},[t._v("删除")])],1)]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",disabled:!t.ifsharetip,content:"一个或多个受众是他人与你共享的受众，不可再次共享",placement:"right"}},[a("span",[a("el-dropdown-item",{staticClass:"tocreate",attrs:{command:"b",disabled:0==t.selectlist.length||t.ifsharetip}},[t._v("共享")])],1)])],1)],1),a("el-input",{staticClass:"search",attrs:{placeholder:"搜索受众编号/名称","suffix-icon":"el-icon-search"},on:{input:t.targetSearch},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}}),a("el-select",{staticClass:"selectr",attrs:{placeholder:"类型"},on:{change:t.toSort},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.targettype,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})}),1)],1),a("div",{staticClass:"list",attrs:{id:"PlanList"}},[a("target-list",{on:{targetEdit:t.targetEdit,likeEdit:t.likeEdit,specialEdit:t.specialEdit,toDelete:t.toDelete,toShare:t.toShare,listSelect:t.listSelect}})],1),a("div",{staticClass:"pageswitch"},[a("el-pagination",{attrs:{background:"","page-sizes":[20,200,500],layout:"total, sizes, prev, pager, next, jumper",total:t.targettotal,"page-size":t.pagesize},on:{"size-change":t.pageSizeChange,"current-change":t.pageSwitch}})],1),a("el-dialog",{staticClass:"dialog",attrs:{title:"创建类似受众",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticClass:"likeclassify"},[a("div",{staticClass:"classify",on:{click:function(e){t.selectLike(1)}}},[a("p",{staticClass:"ctitle"},[t._v("根据自定义受众")]),a("p",{staticClass:"ctip"},[t._v("把自定义受众里的用户作为来源")])]),a("div",{staticClass:"classify",on:{click:function(e){t.selectLike(2)}}},[a("p",{staticClass:"ctitle"},[t._v("根据广告")]),a("p",{staticClass:"ctip"},[t._v("广告系列或广告组触达用户作为来源")])]),a("div",{staticClass:"classify",on:{click:function(e){t.selectLike(3)}}},[a("p",{staticClass:"ctitle"},[t._v("根据主页粉丝")]),a("p",{staticClass:"ctip"},[t._v("把关注主页的粉丝作为来源")])])])]),a("el-dialog",{staticClass:"dialog",attrs:{title:"创建自定义受众",visible:t.dialogFormVisible2},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[a("div",{staticClass:"likeclassify"},[a("div",{staticClass:"classify",on:{click:function(e){t.selectCustom(1)}}},[a("p",{staticClass:"ctitle"},[t._v("应用事件")]),a("p",{staticClass:"ctip"},[t._v("来自Facebook，只根据单一应用创建受众")])])])]),a("target-add",{attrs:{status:t.status,editid:t.editid,audienceId:t.audienceId,customtype:t.customtype},on:{showResult:t.showResult,cancelAddbm:t.cancelAddbm}}),a("target-like",{attrs:{status:t.status2,likeeditid:t.likeeditid,audienceId:t.audienceId,liketype:t.liketype},on:{cancelAddbm:t.cancelAddbm,showResult:t.showResult}}),a("target-delete",{attrs:{status:t.deletestatus,deleteids:t.deleteids},on:{"update:status":function(e){t.deletestatus=e},hideBox:t.hideDeletebox}}),a("target-share",{attrs:{status:t.sharestatus,shareids:t.shareids},on:{"update:status":function(e){t.sharestatus=e},hideBox:t.hideSharebox}}),a("target-special",{attrs:{status:t.specialstatus,editid:t.specialeditid,audienceId:t.audienceId},on:{"update:status":function(e){t.specialstatus=e},hideBox:t.hideSpecialbox}})],1)},Qm=[],tp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"deletedialog",attrs:{title:"共享"+t.shareids.length+"个受众",visible:t.status},on:{close:t.toCancel}},[a("p",{staticClass:"fonttip important"},[a("b",[t._v("输入另一帐户，该帐户即可获权使用受众、或查看受众分析。但该帐户不能编辑、共享受众，或以受众为来源创建类似受众。")])]),a("div",{staticClass:"account"},[a("span",{staticClass:"accname"},[t._v("广告账户")]),a("el-select",{staticClass:"selectl",attrs:{"collapse-tags":"",multiple:"",filterable:"",placeholder:"暂只支持同BM下的广告账户，可搜索"},model:{value:t.adaccounts,callback:function(e){t.adaccounts=e},expression:"adaccounts"}},t._l(t.adaccountlist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name+(t.fbId?"("+t.fbId+")":""),value:t.fbId}})}),1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.toCancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitShare}},[t._v("共 享")])],1)])},ep=[],ap={props:["status","shareids"],data:function(){return{adaccounts:[]}},computed:Object(M["a"])({},Object(P["d"])(["adaccountlist"])),methods:{toCancel:function(){this.$emit("hideBox"),this.adaccounts=[]},submitShare:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=Cc["Loading"].service({fullscreen:!0}),t.next=3,this.$store.dispatch("submitShare",{audienceList:this.shareids,adaccountList:this.adaccounts});case 3:a=t.sent,e.close(),a&&(i=a.data.filter(function(t){return"success"!=t.status}),0==i.length?Object(H["f"])("共享成功"):Object(H["a"])("以下受众共享失败，".concat(i.map(function(t){return"".concat(t.audienceId,"原因：").concat(t.errorMsg)}).join(","))),this.toCancel());case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},ip=ap,sp=(a("7f29"),Object(C["a"])(ip,tp,ep,!1,null,"617ec7bc",null)),np=sp.exports,op=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"deletedialog",attrs:{title:"删除"+t.deleteids.length+"个受众",visible:t.status},on:{close:t.toCancel}},[a("p",{staticClass:"fonttip important"},[a("b",[t._v("确定删除这"+t._s(t.deleteids.length)+"个受众吗？")])]),a("p",{staticClass:"fonttip important",staticStyle:{"margin-bottom":"20px"}},[a("b",[t._v("删除这些受众后，这些受众将彻底从关联的所有广告帐户移除。使用受众的所有广告将停止投放。你或其他共享者将无法重启用过这些受众的广告。")])]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.deletesharing.length>0,expression:"deletesharing.length > 0"}],staticClass:"fonttip"},[t._v("共享给其他广告账户的受众：")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.deletesharing.length>0,expression:"deletesharing.length > 0"}],staticClass:"targetlist"},[a("ul",t._l(t.deletesharing,function(e,i){return a("li",{key:i},[a("p",{staticClass:"targetname"},[t._v(t._s(e.name))]),a("p",{staticClass:"targetid"},[t._v(t._s(e.audienceId))])])}),0)]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.deleteusing.length>0,expression:"deleteusing.length > 0"}],staticClass:"fonttip"},[t._v("广告正在使用的受众：")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.deleteusing.length>0,expression:"deleteusing.length > 0"}],staticClass:"targetlist"},[a("ul",t._l(t.deleteusing,function(e,i){return a("li",{key:i},[a("p",{staticClass:"targetname"},[t._v(t._s(e.name))]),a("p",{staticClass:"targetid"},[t._v(t._s(e.audienceId))])])}),0)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.toCancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitDelete}},[t._v("删 除")])],1)])},rp=[],cp={props:["status","deleteids"],methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{toCancel:function(){this.$emit("hideBox"),this.SETSTATE({k:"deleteusing",v:[]}),this.SETSTATE({k:"deletesharing",v:[]})},submitDelete:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=Cc["Loading"].service({fullscreen:!0}),t.next=3,this.$store.dispatch("submitDelete",this.deleteids);case 3:a=t.sent,e.close(),a&&(i=a.data.filter(function(t){return"success"!=t.status}),0==i.length?Object(H["f"])("删除成功"):Object(H["a"])("以下受众删除失败，".concat(i.map(function(t){return"".concat(t.audienceId,"原因：").concat(t.errorMsg)}).join(","))),this.toCancel());case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}),computed:Object(M["a"])({},Object(P["d"])(["deleteusing","deletesharing"])),watch:{status:function(t,e){t&&this.$store.dispatch("deleteDetail",this.deleteids.join(","))}}},lp=cp,up=(a("2279"),Object(C["a"])(lp,op,rp,!1,null,"52692e3e",null)),dp=up.exports,mp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.targetlist},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",fixed:"",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.description,disabled:!e.row.description,placement:"top-start"}},[a("div",[a("p",{staticClass:"targetname"},[t._v(t._s(e.row.name))]),a("p",{staticClass:"childtype"},[t._v(t._s(e.row.audienceId))])])])]}}])}),a("el-table-column",{attrs:{prop:"audienceType",label:"类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s("LOOKALIKE"==e.row.subtype?"类似受众":"自定义受众"))]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.row.childType,expression:"scope.row.childType"}],staticClass:"childtype"},[t._v(t._s(e.row.childType))])]}}])}),a("el-table-column",{attrs:{prop:"audienceType",label:"状态/规模",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("\n        "+t._s(e.row.statusName)+"\n        "),200!=e.row.operationStatusCode?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.deliveryStatusDescription,disabled:!e.row.deliveryStatusDescription,placement:"top-start"}},[a("i",{staticClass:"el-icon-warning"})]):t._e()],1),a("p",{staticClass:"childtype"},[t._v(t._s(e.row.approximateCount))])]}}])}),a("el-table-column",{attrs:{prop:"audienceType",label:"广告账户"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.adaccountName))]),a("p",{staticClass:"childtype"},[t._v(t._s(e.row.ownAccountId.split("_")[1]))])]}}])}),a("el-table-column",{attrs:{prop:"creator",label:"创建时间",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("timeFormat")(e.row.timeCreated+"000","yyyy-MM-dd HH:mm")))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",disabled:e.row.ifedit,content:"他人与你共享的受众不可编辑，所属广告账户编号："+e.row.accountId,placement:"top-start"}},[a("span",{staticClass:"ctrlbutton"},[a("el-button",{attrs:{type:"text",size:"small",disabled:!e.row.ifedit},on:{click:function(a){t.toEdit(e.row.id,e.row.subtype,e.row.childliketype,e.row.audienceId)}}},[t._v("编辑")])],1)]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",disabled:e.row.ifedit,content:"他人与你共享的受众你不可再次共享，所属广告账户编号："+e.row.accountId,placement:"top-start"}},[a("span",{staticClass:"ctrlbutton"},[a("el-button",{attrs:{type:"text",size:"small",disabled:!e.row.ifedit},on:{click:function(a){t.toShare(e.row.id)}}},[t._v("共享")])],1)]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",disabled:e.row.ifdelete,content:"已被用于创建类似受众，请先删除类似受众",placement:"top-start"}},[a("span",{staticClass:"ctrlbutton"},[a("el-button",{attrs:{type:"text",size:"small",disabled:!e.row.ifdelete},on:{click:function(a){t.toDelete(e.row.id)}}},[t._v("删除")])],1)])]}}])})],1)},pp=[],fp={data:function(){return{disAudienceName:""}},computed:Object(M["a"])({},Object(P["d"])(["targetlist","targetdetail"])),methods:{handleSelectionChange:function(t){this.$emit("listSelect",t)},toDelete:function(t){this.$emit("toDelete",[t])},toShare:function(t){this.$emit("toShare",[t])},toEdit:function(t,e,a,i){var s="";switch(s="custom_audience"==a?1:"campaign_conversion"==a?2:3,e){case"LOOKALIKE":this.$emit("likeEdit",t,s,i);break;case"APP":this.$emit("targetEdit",t,i);break;default:this.$emit("specialEdit",t,i);break}}}},hp=fp,_p=(a("e8c2"),Object(C["a"])(hp,mp,pp,!1,null,"67f26f72",null)),vp=_p.exports,gp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog createdialog",attrs:{title:(t.editid?"编辑":"创建")+(1==t.customtype?"应用事件":"客户名单")+"自定义受众",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form,"label-width":"80px"}},[a("div",{staticClass:"leftform forleft"},[a("el-form-item",{attrs:{label:"广告账户"}},[a("el-select",{staticClass:"search",attrs:{"collapse-tags":"",placeholder:"请选择广告账户，可搜索",filterable:"",disabled:Boolean(t.editid)},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}},t._l(t.setapplist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name+"("+t.fbId.split("_")[1]+")",value:t.fbId}})}),1)],1),a("el-form-item",{attrs:{label:"应用"}},[a("el-select",{staticClass:"search",attrs:{disabled:"",placeholder:"请选择应用",filterable:""},on:{change:t.getAccount},model:{value:t.form.app,callback:function(e){t.$set(t.form,"app",e)},expression:"form.app"}},t._l(t.targetapplist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.applicationId}})}),1)],1),2==t.customtype?a("el-form-item",{attrs:{label:"平台"}},[a("el-radio-group",{model:{value:t.form.platform,callback:function(e){t.$set(t.form,"platform",e)},expression:"form.platform"}},[a("el-radio",{attrs:{label:"manual"}},[t._v("\n            google_play\n          ")]),a("el-radio",{attrs:{label:"auto"}},[t._v("\n            itunes\n          ")])],1)],1):t._e(),2==t.customtype?a("el-form-item",{attrs:{label:"媒体平台"}},[a("el-select",{staticClass:"search",attrs:{disabled:"",placeholder:"请选择媒体平台",filterable:""},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-option",{attrs:{label:"应用事件",value:"应用事件"}})],1)],1):t._e(),a("el-form-item",{attrs:{label:"受众名称"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{placeholder:"请输入描述，选填"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1)],1),a("div",{staticClass:"leftform"},[a("div",{staticClass:"el-form-item"},[a("span",{staticClass:"condition"},[t._v("包含符合以下")]),a("el-select",{staticClass:"selectapp",attrs:{disabled:""!=t.editid,placeholder:"请选择",filterable:""},model:{value:t.form.relative,callback:function(e){t.$set(t.form,"relative",e)},expression:"form.relative"}},t._l(t.relativearr,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1),a("span",{staticClass:"condition"},[t._v("条件的用户")]),2==t.customtype?a("span",{staticClass:"scale"},[t._v("规模：123322")]):t._e()],1),a("div",{staticClass:"conditionbox",style:{height:t.conditionHeight+"px"}},t._l(t.form.condition,function(e,i){return a("div",{key:i,staticClass:"conditionline"},[a("div",{staticClass:"conditionlist"},[a("span",{staticClass:"condition"},[t._v("过去")]),a("el-input-number",{staticStyle:{width:"140px"},attrs:{precision:0,disabled:""!=t.editid,min:1,max:180,label:"天数"},model:{value:e.day,callback:function(a){t.$set(e,"day",a)},expression:"item.day"}}),a("span",{staticClass:"condition"},[t._v("天内")]),a("el-select",{staticClass:"selectapp",attrs:{disabled:""!=t.editid,placeholder:"请选择事件",filterable:""},model:{value:e.app,callback:function(a){t.$set(e,"app",a)},expression:"item.app"}},t._l(t.appaccount,function(t,e){return a("el-option",{key:e,attrs:{label:t.display_name,value:t.template?t.event_name+"|"+t.template:t.event_name}})}),1),a("span",{directives:[{name:"show",rawName:"v-show",value:"fb_mobile_activate_app|MACA_MOST_ACTIVE_USERS"==e.app,expression:"item.app == 'fb_mobile_activate_app|MACA_MOST_ACTIVE_USERS'"}],staticClass:"condition"},[t._v("最高")]),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"fb_mobile_activate_app|MACA_MOST_ACTIVE_USERS"==e.app,expression:"item.app == 'fb_mobile_activate_app|MACA_MOST_ACTIVE_USERS'"}],staticClass:"selectpercent",attrs:{disabled:""!=t.editid},model:{value:e.percent,callback:function(a){t.$set(e,"percent",a)},expression:"item.percent"}},t._l(["25%","10%","5%"],function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1),a("i",{directives:[{name:"show",rawName:"v-show",value:t.form.condition.length>1,expression:"form.condition.length > 1"}],staticClass:"el-icon-close",on:{click:function(e){t.delCondition(i)}}})],1),a("p",{staticClass:"conditionrelative"},[t._v(t._s(t.relativekey))])])}),0),a("div",{staticClass:"conditionctrl"},[a("el-checkbox",{staticClass:"ctrlleft",attrs:{disabled:5==t.form.condition.length||""!=t.editid},on:{change:t.checkListten},model:{value:t.form.checked,callback:function(e){t.$set(t.form,"checked",e)},expression:"form.checked"}},[t._v("不排除任何人群")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.ifAdd&&""==t.editid,expression:"ifAdd && editid == ''"}],staticClass:"ctrlright",attrs:{type:"text"},on:{click:t.addCondition}},[t._v("新增条件")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.form.checked,expression:"!form.checked"}],staticClass:"el-form-item"},[a("span",{staticClass:"condition"},[t._v("排除符合以下任意条件的用户")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.form.checked,expression:"!form.checked"}],staticClass:"conditionbox",style:{height:t.noconditionHeight+"px"}},t._l(t.form.nocondition,function(e,i){return a("div",{key:i,staticClass:"conditionline"},[a("div",{staticClass:"conditionlist"},[a("span",{staticClass:"condition"},[t._v("过去")]),a("el-input-number",{staticStyle:{width:"140px"},attrs:{precision:0,disabled:""!=t.editid,min:1,max:180,label:"天数"},model:{value:e.day,callback:function(a){t.$set(e,"day",a)},expression:"item.day"}}),a("span",{staticClass:"condition"},[t._v("天内")]),a("el-select",{staticClass:"selectapp",attrs:{disabled:""!=t.editid,placeholder:"请选择事件",filterable:""},model:{value:e.app,callback:function(a){t.$set(e,"app",a)},expression:"item.app"}},t._l(t.appaccount,function(t,e){return a("el-option",{key:e,attrs:{label:t.display_name,value:t.template?t.event_name+"|"+t.template:t.event_name}})}),1),a("span",{directives:[{name:"show",rawName:"v-show",value:"fb_mobile_activate_app|MACA_MOST_ACTIVE_USERS"==e.app,expression:"item.app == 'fb_mobile_activate_app|MACA_MOST_ACTIVE_USERS'"}],staticClass:"condition"},[t._v("最高")]),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"fb_mobile_activate_app|MACA_MOST_ACTIVE_USERS"==e.app,expression:"item.app == 'fb_mobile_activate_app|MACA_MOST_ACTIVE_USERS'"}],staticClass:"selectpercent",attrs:{disabled:""!=t.editid},model:{value:e.percent,callback:function(a){t.$set(e,"percent",a)},expression:"item.percent"}},t._l(["25%","10%","5%"],function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1),a("i",{staticClass:"el-icon-close",on:{click:function(e){t.delNoCondition(i)}}})],1),a("p",{staticClass:"conditionrelative"},[t._v(t._s(t.relativekey))])])}),0),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.form.checked,expression:"!form.checked"}],staticClass:"conditionctrl"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.ifAdd&&""==t.editid,expression:"ifAdd && editid == ''"}],staticClass:"ctrlright",attrs:{type:"text"},on:{click:t.addNoCondition}},[t._v("新增条件")])],1)]),a("el-form-item",{staticClass:"cbutton"},[a("el-button",{attrs:{type:"primary"},on:{click:t.toSubmit}},[t._v("保存")]),a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")])],1)],1)],1)},bp=[],yp=a("64c2"),kp=yp["a"],Ep=(a("9d1d"),Object(C["a"])(kp,gp,bp,!1,null,"46751dd4",null)),Cp=Ep.exports,Op=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog likedialog",attrs:{title:(t.likeeditid?"编辑":"创建")+"类似受众",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.toCancel}},[a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"广告账户"}},[a("el-select",{staticClass:"search",attrs:{disabled:""!=t.likeeditid,placeholder:"请选择广告账户，可搜索",filterable:""},on:{change:t.selectAccount},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}},t._l(t.setapplist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name+"("+t.fbId.split("_")[1]+")",value:t.fbId}})}),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==t.liketype,expression:"liketype == 1"}],attrs:{label:"自定义受众"}},[a("el-select",{staticClass:"search",attrs:{disabled:""!=t.likeeditid,placeholder:"请选择自定义受众，可搜索",filterable:""},on:{change:t.setName},model:{value:t.form.custom,callback:function(e){t.$set(t.form,"custom",e)},expression:"form.custom"}},t._l(t.liketarget,function(t,e){return a("el-option",{key:e,attrs:{label:t.name+"("+t.audienceId+")",value:t.audienceId}})}),1),a("p",{staticClass:"info"},[t._v("至少拥有100个用户")])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==t.liketype,expression:"liketype == 2"}],attrs:{label:"选择广告组"}},[a("el-select",{staticClass:"search",attrs:{disabled:""!=t.likeeditid,placeholder:"请选择广告组，支持编号搜索",multiple:"",filterable:"","collapse-tags":"",remote:"","remote-method":t.searchAdset},model:{value:t.form.adset,callback:function(e){t.$set(t.form,"adset",e)},expression:"form.adset"}},t._l(t.targetadsetlist,function(t,e){return a("el-option",{key:e,attrs:{label:t.adSetName+"("+t.adsetId+")",value:t.adsetId}})}),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3==t.liketype,expression:"liketype == 3"}],attrs:{label:"主页"}},[a("el-select",{staticClass:"search",attrs:{disabled:""!=t.likeeditid,placeholder:"请选择主页，可搜索",filterable:""},on:{change:t.setName},model:{value:t.form.custom,callback:function(e){t.$set(t.form,"custom",e)},expression:"form.custom"}},t._l(t.allpagelist,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.pageId}})}),1),a("p",{staticClass:"info"},[t._v("至少拥有100个用户")])],1),a("el-form-item",{attrs:{label:"国家"}},[a("el-select",{staticClass:"search",attrs:{disabled:""!=t.likeeditid,multiple:"",placeholder:"请选择国家，可搜索",filterable:"","collapse-tags":""},on:{change:t.setName},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}},t._l(t.othercountries,function(t){return a("el-option",{key:t.code,attrs:{label:t.name+"("+t.code+")",value:t.code}})}),1)],1),a("el-form-item",{attrs:{label:"受众规模"}},[a("el-slider",{staticClass:"slider",attrs:{disabled:""!=t.likeeditid,range:"",min:0,max:20,"format-tooltip":t.formatTooltip},on:{change:t.setName},model:{value:t.form.scale,callback:function(e){t.$set(t.form,"scale",e)},expression:"form.scale"}}),a("p",{staticClass:"info"},[t._v("可以选择国家/地区总人口的 0% 到 20% 作为广告受众规模，1% 代表最接近受众来源的规模")])],1),a("el-form-item",{attrs:{label:"受众名称"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{placeholder:"请输入描述，选填"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),a("el-form-item",{staticClass:"cbutton"},[a("el-button",{attrs:{type:"primary"},on:{click:t.toSubmit}},[t._v("保存")]),a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")])],1)],1)],1)},wp=[],Ip=a("9169"),Tp={props:["status","liketype","likeeditid","audienceId"],directives:{Clickoutside:Ip["a"]},data:function(){return{input:"",filterText:"",props1:{label:"name",children:"zones",isLeaf:"leaf"},dialogFormVisible:!1,relativekey:"或",selectaccount:[],selectid:[],form:{adset:[],custom:"",country:[],scale:[0,20],name:"",desc:"",account:""},customname:"",camppage:1,campkword:""}},created:function(){},methods:Object(M["a"])({},Object(P["c"])(["SETSTATE","TARGETLOGOPENCLOSE","TARGETTREE","TARGETTREECHECK","TARGETPLANLISTCHECK"]),{searchAdset:function(t){this.getCampaignAdset({type:"adset",key:"fbAdSetId",keyword:t})},selectAccount:function(){if(1==this.liketype){var t=this.form.account;this.$store.dispatch("likeTarget",{adaccount:t}),this.form.custom=""}2==this.liketype&&(this.getCampaignAdset({type:"adset"}),this.form.adset=[])},setName:function(){var t=this;switch(this.liketype){case 1:if(!this.form.custom||0==this.form.country.length)return;this.customname=this.liketarget.find(function(e){return e.audienceId==t.form.custom}).name,this.form.name="类似受众（".concat(this.form.country.join(","),",").concat(this.form.scale[0],"%-").concat(this.form.scale[1],"%）- ").concat(this.customname);break;case 2:if(0==this.form.country.length)return;this.form.name="类似受众（".concat(this.form.country.join(","),",").concat(this.form.scale[0],"%-").concat(this.form.scale[1],"%）- 根据广告");break;case 3:if(!this.form.custom||0==this.form.country.length)return;this.customname=this.allpagelist.find(function(e){return e.pageId==t.form.custom}).name,this.form.name="类似受众（".concat(this.form.country.join(","),",").concat(this.form.scale[0],"%-").concat(this.form.scale[1],"%）- ").concat(this.customname);break}},formatTooltip:function(t){return"".concat(t,"%")},toCancel:function(){this.formReset(),this.$emit("cancelAddbm","status2"),this.status2=!1},formCheck:function(){return this.form.account?1==this.liketype&&""==this.form.custom?[!1,"请选择自定义受众"]:3==this.liketype&&""==this.form.custom?[!1,"请选择主页"]:2==this.liketype&&0==this.form.adset.length?[!1,"请选择广告"]:0==this.form.country.length?[!1,"请选择国家"]:this.form.scale[0]==this.form.scale[1]?[!1,"受众规模最小值与最大值不能相同"]:""==this.form.name?[!1,"请输入受众名称"]:this.form.name.replace(/[\u0391-\uFFE5]/g,"aa").length>100?[!1,"受众名称长度不能大于100个字符"]:this.form.desc.replace(/[\u0391-\uFFE5]/g,"aa").length>200?[!1,"描述长度不能大于200个字符"]:[!0]:[!1,"请选择广告账户"]},toSubmit:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e,a,i,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.formCheck(),e[0]){t.next=4;break}return Object(H["g"])(e[1]),t.abrupt("return");case 4:return a="",i={ratio:this.form.scale[1]/100,starting_ratio:this.form.scale[0]/100},this.form.country.length>1?i.location_spec={geo_locations:{countries:this.form.country}}:i.country=this.form.country.join(","),s={adaccountId:this.form.account,description:this.form.desc,fbAudienceId:this.audienceId?this.audienceId:"",name:this.form.name},1==this.liketype&&(a="auto",s["originAudienceId"]=this.form.custom),2==this.liketype&&(a="ad",i["origin_ids"]=this.form.adset,i["conversion_type"]="campaign_conversions"),3==this.liketype&&(a="page",s["pageId"]=this.form.custom,i["page_id"]=this.form.custom,i["conversion_type"]="page_like"),s["lookalikeSpec"]=ce()(i),t.next=14,this.$store.dispatch("addTarget",{option:s,type:a});case 14:n=t.sent,"failed"!=n.data.status&&(this.dialogFormVisible=!1);case 16:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getCampaignAdset:function(t){var e=t.type,a=t.key,i=void 0===a?"":a,s=t.keyword,n=void 0===s?"":s;t.adaccount;if(this.form.account){var o={groupByClause:"campaignName"==e?"campaign_id":"adset_id",pageNo:1,pageSize:1e3,accountIdStr:this.form.account.split("_")[1],projectId:this.$route.params.id,endDate:this.$timeFormat(new Date,"yyyy-MM-dd"),startDate:this.$timeFormat((new Date).getTime()-864e6,"yyyy-MM-dd")};i&&n&&(o[i]=n),this.$store.dispatch("targetAdlist",{option:o,type:e})}else this.SETSTATE({k:"targetadsetlist",v:[]})},formReset:function(){this.form.custom="",this.form.country=[],this.form.scale=[0,20],this.form.desc="",this.form.account="",this.form.name="",this.form.adset=[],this.selectaccount=[],this.filterText="",this.SETSTATE({k:"targetadsetlist",v:[]}),this.SETSTATE({k:"liketarget",v:[]})}}),computed:Object(M["a"])({},Object(P["d"])(["othercountries","liketarget","allpagelist","ifmorecampaigns","itemlist","liketargetinfo","targetadsetlist"]),Object(P["b"])(["setapplist"]),{applicationid:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).applicationId}}),watch:{status:function(t,e){this.dialogFormVisible=t,t&&(this.liketype,this.liketype)},likeeditid:function(t,e){if(t){var a=t;this.$store.dispatch("getTargetInfo",{id:a,type:"lookalike"})}},liketargetinfo:function(t,e){if(t){this.form.name=t.name,this.form.desc=t.description,this.form.account=t.ownAccountId;var a=JSON.parse(t.lookalikeSpec);if(this.form.scale=[a.starting_ratio?100*a.starting_ratio:0,100*a.ratio],this.form.country=a.target_countries?a.target_countries:[a.country],1==this.liketype){this.form.custom=a.origin[0].id;var i=this.form.account;this.$store.dispatch("likeTarget",{adaccount:i})}2==this.liketype&&(this.form.adset=a.origin.map(function(t){return t.id}),this.searchAdset(this.form.custom)),3==this.liketype&&(this.form.custom=a.origin[0].id)}}}},Ap=Tp,xp=(a("1799"),Object(C["a"])(Ap,Op,wp,!1,null,"ff2b9c36",null)),Sp=xp.exports,jp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"dialog",attrs:{title:"编辑受众",visible:t.status},on:{close:t.toCancel}},[a("el-form",{ref:"form",staticClass:"cform",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"受众名称"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{placeholder:"请输入描述，选填"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),a("el-form-item",{staticClass:"cbutton"},[a("el-button",{attrs:{type:"primary"},on:{click:t.toSubmit}},[t._v("保存")]),a("el-button",{on:{click:t.toCancel}},[t._v("取消")])],1)],1)],1)},Dp=[],Mp={props:["status","editid","audienceId"],data:function(){return{form:{name:"",desc:""}}},methods:{toCancel:function(){this.$emit("hideBox")},formReset:function(){this.form.name="",this.form.desc=""},toSubmit:function(){var t=Object($s["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.form.name.trim()){t.next=3;break}return Object(H["g"])("受众名称不能为空"),t.abrupt("return");case 3:return e={description:this.form.desc,fbAudienceId:this.audienceId,name:this.form.name},t.next=6,this.$store.dispatch("addTarget",{option:e,type:"special"});case 6:a=t.sent,"failed"!=a.data.status&&this.toCancel();case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},computed:Object(M["a"])({},Object(P["d"])(["specialtargetinfo"])),watch:{status:function(t,e){if(t){var a=this.editid;this.$store.dispatch("getTargetInfo",{audience_id:a,type:"special"})}},specialtargetinfo:function(t,e){t&&(this.form.name=t.name,this.form.desc=t.description)}}},Pp=Mp,Lp=Object(C["a"])(Pp,jp,Dp,!1,null,null,null),Rp=Lp.exports,Np={components:{TargetList:vp,TargetAdd:Cp,TargetLike:Sp,TargetDelete:dp,TargetShare:np,TargetSpecial:Rp},data:function(){var t;return t={liketype:0,dialogFormVisible:!1,dialogFormVisible2:!1,deletestatus:!1,specialstatus:!1,deleteids:[],ifdeletetip:!1,sharestatus:!1,shareids:[],ifsharetip:!1,selectlist:[],pagesize:20,adaccounts:[],value:"",state:"",status:!1,status2:!1,status3:!1,editid:"",specialeditid:"",likeeditid:"",audienceId:""},Object(Un["a"])(t,"liketype",""),Object(Un["a"])(t,"customtype",""),Object(Un["a"])(t,"newaccount",[]),t},created:function(){var t="tg_keyword",e="";this.SETSTATE({k:t,v:e}),t="tg_type",e="",this.SETSTATE({k:t,v:e}),t="tg_pageSize",e=20,this.SETSTATE({k:t,v:e}),t="tg_pageIndex",e=1,this.SETSTATE({k:t,v:e})},mounted:function(){var t=this.$route.params.id;this.SETSTATE({k:"tg_projectId",v:t}),this.$store.dispatch("getTargetlist"),this.$store.dispatch("otherCountries"),this.$store.dispatch("getAllpages"),this.$store.dispatch("getAdaccount",t)},computed:Object(M["a"])({},Object(P["d"])(["itemlist","targettotal","targettype","adaccountlist"]),{projectname:function(){var t=this;if(0!=this.itemlist.length)return this.itemlist.find(function(e){return e.id==t.$route.params.id}).projectName}}),methods:Object(M["a"])({},Object(P["c"])(["SETSTATE"]),{specialEdit:function(t,e){this.specialeditid=t,this.audienceId=e,this.specialstatus=!0},hideSpecialbox:function(){this.specialstatus=!1},handleCommandMutil:function(t){var e=this.selectlist.map(function(t){return t.id});switch(t){case"a":this.toDelete(e);break;case"b":this.toShare(e);break}},listSelect:function(t){this.selectlist=t,this.ifdeletetip=!!t.find(function(t){return t.lookalikeAudienceIds}),this.ifsharetip=!!t.find(function(t){return t.ownAccountId.split("_")[1]!=t.accountId})},hideSharebox:function(){this.sharestatus=!1},showSharebox:function(){this.sharestatus=!0},toShare:function(t){this.shareids=t.slice(0),this.showSharebox()},toDelete:function(t){this.deleteids=t.slice(0),this.showDeletebox()},hideDeletebox:function(){this.deletestatus=!1},showDeletebox:function(){this.deletestatus=!0},showResult:function(t){this.status3=!0,this.newaccount=t},likeEdit:function(t,e,a){this.likeeditid=t,this.audienceId=a,this.status2=!0,this.liketype=e},targetEdit:function(t,e){this.editid=t,this.audienceId=e,this.status=!0},selectCustom:function(t){var e=this;this.customtype=t,this.dialogFormVisible2=!1,Object(Gs["setTimeout"])(function(){e.status=!0},300)},selectLike:function(t){var e=this;this.liketype=t,this.dialogFormVisible=!1,Object(Gs["setTimeout"])(function(){e.status2=!0},300)},cancelAddbm:function(t){this[t]=!1,"status"==t&&(this.editid=""),"status2"==t&&(this.likeeditid="",this.audienceId="")},handleCommand:function(t){switch(t){case"a":this.dialogFormVisible2=!0;break;case"b":this.dialogFormVisible=!0;break}},pageSwitch:function(t){var e="tg_pageIndex",a=t;this.SETSTATE({k:e,v:a}),this.getData()},targetSearch:function(){var t="tg_keyword",e=encodeURIComponent(this.state),a=this;this.SETSTATE({k:t,v:e}),t="tg_pageIndex",e=1,this.SETSTATE({k:t,v:e}),clearTimeout(v),v=Object(Gs["setTimeout"])(function(){a.getData()},300)},getData:function(){this.$store.dispatch("getTargetlist")},toSetAccount:function(){this.SETSTATE({k:"tg_adaccounts",v:this.adaccounts.map(function(t){return"act_".concat(t)}).join(",")}),this.SETSTATE({k:"tg_pageIndex",v:1}),this.getData()},toSort:function(){this.SETSTATE({k:"tg_type",v:"-1"==this.value?"":this.value}),this.SETSTATE({k:"tg_pageIndex",v:1}),this.getData()},pageSizeChange:function(t){this.pagesize=t;var e="tg_pageSize",a=t;this.SETSTATE({k:e,v:a}),e="tg_pageIndex",a=1,this.SETSTATE({k:e,v:a}),this.getData()}})},$p=Np,Up=(a("04b0"),Object(C["a"])($p,Zm,Qm,!1,null,"463fd6a9",null)),Fp=Up.exports;g["default"].use(I["a"]);var Bp,Kp=new I["a"]({routes:[{path:"/",name:"index",component:Ct,redirect:function(t){return 1==localStorage.getItem("atom_bind")?"/pandect":"/bind"},children:[{path:"bind",name:"bind",component:xt,meta:{title:"绑定facebook"}},{path:"pandect",name:"pandect",component:Oe,meta:{title:"总览"}},{path:"bm",name:"bm",component:oa,meta:{title:"BM同步"}},{path:"app",name:"app",component:qa,meta:{title:"APP同步"}},{path:"manage",name:"manage",component:gi,meta:{title:"管理项目"}},{path:"notmanage",name:"notmanage",component:Ri,meta:{title:"已归档项目"}},{path:"regular",name:"regular",component:Ji,meta:{title:"规则列表"}},{path:"reguform",name:"reguform",component:rs,meta:{title:"规则报表"}},{path:"message",name:"message",component:bs,meta:{title:"消息中心"}}]},{path:"/project/:id",name:"project",component:js,redirect:function(t){return"/project/:id/ad"},children:[{path:"rule",name:"rule",component:gn,meta:{title:"规则引擎"}},{path:"optimize/:ruleId?",name:"optimize",component:Rn,meta:{title:"优化记录"}},{path:"create",name:"create",component:zo,meta:{title:"创意管理"}},{path:"sync",name:"sync",component:sr,meta:{title:"同步记录"}},{path:"gener/:fid",name:"gener",component:Or,meta:{title:"创建推广计划"}},{path:"gener/:fid/:tid",name:"gener",component:Or,meta:{title:"创建推广计划"}},{path:"plan/:planid?",name:"plan",component:Wc,meta:{title:"推广计划管理"}},{path:"edit/:pid",name:"edit",component:al,meta:{title:"编辑推广计划"}},{path:"copy/:pid",name:"copy",component:fl,meta:{title:"复制推广计划"}},{path:"ad/:bid?",name:"ad",component:Ud,meta:{title:"广告管理"}},{path:"matterform",name:"matterform",component:im,meta:{title:"素材报表"}},{path:"data",name:"data",component:hm,meta:{title:"账户报表"}},{path:"createform",name:"createform",component:Mm,meta:{title:"创意报表"}},{path:"daycpi",name:"daycpi",component:Xm,meta:{title:"每日CPI"}},{path:"target",name:"target",component:Fp,meta:{title:"受众管理"}}]}]}),Vp=(Bp={nickname:"",itemlist:[],appInstallsLists:"",appSpendDatasLists:"",todayInstallsNum:"",todaySpend:"",reportAppDataList:[],allReportAppDataList:[],videoerrmsg:[],videoresult:[],ifapp:!1,customevent:[],customunit:"",appdata:[],appcpitotal:{},appcount:0,ifaccount:!1,appdataall:[],appdataid:"",appdataappid:"",appdatastartdate:"",appdataenddate:"",appdatatotal:0,appdataindex:1,appdatapagesize:20,appdatacountry:"",appdataimporession:"",appdatasort:"",paycountlist:[],paycount:0,countryfilter:[],getbmover:!1,bmlist:[],addbmlist:[],bm_pageIndex:1,bm_pageSize:20,disbmid:"",disaccount:[],accounttotal:0,disaddaccount:[],addata:{},adaccount:{},accountkwd:"",dispage:[],pagetotal:0,bmpg_pageIndex:1,bmpg_pageSize:20,disaddpage:[],pagedata:{},pageaccount:{},pagekwd:"",applist:[],appkwd:"",addapplist:[],setapplist:[],cansetapplist:[],setappstatus:"",manageapplist:[],managelist:[],pagesize:20,total:0,projectkwd:"",rulelist:[],ruleapp:[],optotal:0,oppagesize:20,optimizelist:[],optimizeaccount:[],executelist:[],optimizedetail:[],createlist:[],createchecked:[],createcheckstatus:!1,allcheckidstatus:[],classify:[],countries:[],crtotal:0,crpagesize:20,creativityName:"",cr_classify:"",cr_countryId:"",cr_sex:"",cr_status:"",cr_pageIndex:1,cr_pageSize:21,cr_projectId:"",allpagelist:[],allactions:[],synctime:0,addcreate:!0,withcreate:!0,cardcreate:!0,wantupload:0,synclist:[],synctotal:0,sync_status:"",sync_keyWords:"",sync_fbAccountId:"",sync_pageSize:20,sync_pageIndex:1,sync_projectId:"",othercountries:[],language:[],interests:[],platform:[],system:[],selectcreate:[],createstatus:"",createclassify:"",createkeyword:"",pl_project_id:"",bidguide:[],pl_country:"",pl_platform:"",pl_keyword:"",pl_pageIndex:1,pl_pageSize:20,planlist:[],pltotal:0,plpagesize:20,plancountry:[],inusecreate:[],nousecreate:[],inusetotal:0,nousetotal:0,plcreatestatus:"",plcreateclassify:"",plcreatekeyword:"",inuseaccount:[],nouseaccount:[],accountstatus:"",accountkeyword:"",loglist:[],logdetail:[],logdetailid:"",logdetailname:"",logcreatecreative:0,logcreateaccount:0,logcreateset:0,logcreatecampaign:0,createinfo:{},disinfo:[],createplatform:[],genertarget:[],generaccount:[],ifadcreate:!1,classifyforplan:[],classifyfiltercount:0,adplanlist:[],nowtime:"",updatetime:"",datestatus:"",adstarttime:"",adendtime:"",adaccountid:[],adplanid:"",careData:[],searchList:[{name:"按时间",key:"dateOptions",list:[{cname:"无",key:"",checked:!1},{cname:"日",key:"insight_date",checked:!1},{cname:"周",key:"weak",checked:!1},{cname:"2周",key:"twoweaks",checked:!1},{cname:"月",key:"month",checked:!1}]},{name:"按投放",key:"partOptions",list:[{cname:"无",key:"",checked:!1},{cname:"年龄",key:"age",checked:!1},{cname:"性别",key:"gender",checked:!1},{cname:"年龄和性别",key:"gender,age",checked:!1},{cname:"国家",key:"country",checked:!1},{cname:"设备",key:"impression_device",checked:!1},{cname:"版位和设备",key:"publisher_platform,impression_device",checked:!1}]},{name:"按动态创意",key:"partOptions",list:[{cname:"无",key:"",checked:!1},{cname:"图片/视频",key:"agCreativity",checked:!1},{cname:"文本",key:"bagCreativity",checked:!1},{cname:"标题",key:"tagCreativity",checked:!1},{cname:"行动号召",key:"cagCreativity",checked:!1}]},{name:"按轮播卡片",key:"partOptions",importkey:"material_id",list:[]}],adapplicationid:"",adlisttimeout:!1,adcount:0,adsetcount:0,campaigncount:0,editcampaignlist:[],createcampaignlist:[],editadsetlist:[],createadsetlist:[],adcreatelist:[],adcreatetotal:0,editadlist:[],adapplist:[],createallpagelist:[],exportstatus:!0,isdynamic:!1,adwantupload:0,adsetlistload:!1,sortdefault:"ACTIVE,PAUSED",adcreateadd:!0,calendardate:[],hascreatead:!1,withcreatead:!0,imgspwant:0,viospwant:0,edittype:0,adlist:[],adlisttotal:{},adpagesize:20,adcampaignlist:"[]",adcampaigntotal:0,adsetlist:"[]",adsettotal:0,adadlist:"[]",adadtotal:0,campainsortlist:[],setsortlist:[],adsortlist:[],copycampaignlist:[],copyadsetlist:[],copyjoblistdetail:[],jobtotal:0,jobcomplete:0,jobfaildetail:!1,taskname:"",taskfail:0,tasksuccess:0,tasknamedetail:"",taskfaildetail:0,tasksuccessdetail:0,taskresult:[],taskerror:"",adtab:"campaignName",adalllist:[],adaccountlist:[],campain_option:"",set_option:"",ad_option:""},Object(Un["a"])(Bp,"customunit",""),Object(Un["a"])(Bp,"customeventcampain",[]),Object(Un["a"])(Bp,"customeventset",[]),Object(Un["a"])(Bp,"customeventad",[]),Object(Un["a"])(Bp,"adcustomevent",[]),Object(Un["a"])(Bp,"conditionlist",[]),Object(Un["a"])(Bp,"adrulelist",[]),Object(Un["a"])(Bp,"singlerules",[]),Object(Un["a"])(Bp,"adcampaign",[]),Object(Un["a"])(Bp,"adaccount",[]),Object(Un["a"])(Bp,"adcreate",[]),Object(Un["a"])(Bp,"datacountry",[]),Object(Un["a"])(Bp,"dataage",[]),Object(Un["a"])(Bp,"dataplatform",[]),Object(Un["a"])(Bp,"dataimpression",[]),Object(Un["a"])(Bp,"datalist",[]),Object(Un["a"])(Bp,"datatotal",0),Object(Un["a"])(Bp,"datasum",{}),Object(Un["a"])(Bp,"datasort",""),Object(Un["a"])(Bp,"adformlist",[]),Object(Un["a"])(Bp,"adformtotal",0),Object(Un["a"])(Bp,"createformlist",[]),Object(Un["a"])(Bp,"createformtotal",0),Object(Un["a"])(Bp,"createformsum",{}),Object(Un["a"])(Bp,"createcardlist",[]),Object(Un["a"])(Bp,"createcardtotal",0),Object(Un["a"])(Bp,"daycpilist",[]),Object(Un["a"])(Bp,"daycpitotal",0),Object(Un["a"])(Bp,"cpicountry",[]),Object(Un["a"])(Bp,"cpiimpression",[]),Object(Un["a"])(Bp,"imagematterlist",[]),Object(Un["a"])(Bp,"imagemattersum",{}),Object(Un["a"])(Bp,"imagemattertotal",0),Object(Un["a"])(Bp,"videomatterlist",[]),Object(Un["a"])(Bp,"videomattersum",{}),Object(Un["a"])(Bp,"videomattertotal",0),Object(Un["a"])(Bp,"tg_project_id",""),Object(Un["a"])(Bp,"tg_projectId",""),Object(Un["a"])(Bp,"tg_pageSize",20),Object(Un["a"])(Bp,"tg_pageIndex",1),Object(Un["a"])(Bp,"tg_keyword",""),Object(Un["a"])(Bp,"tg_type",""),Object(Un["a"])(Bp,"tg_adaccounts",""),Object(Un["a"])(Bp,"targetadlist",[]),Object(Un["a"])(Bp,"targetadsetlist",[]),Object(Un["a"])(Bp,"targetadsetarray",{}),Object(Un["a"])(Bp,"targetlist",[]),Object(Un["a"])(Bp,"targettype",[]),Object(Un["a"])(Bp,"targettotal",0),Object(Un["a"])(Bp,"targetdetail",[]),Object(Un["a"])(Bp,"appaccount",[]),Object(Un["a"])(Bp,"targetinfo",null),Object(Un["a"])(Bp,"liketargetinfo",null),Object(Un["a"])(Bp,"specialtargetinfo",null),Object(Un["a"])(Bp,"targetaccount",[]),Object(Un["a"])(Bp,"resultid",""),Object(Un["a"])(Bp,"targetadddetail",[]),Object(Un["a"])(Bp,"liketarget",[]),Object(Un["a"])(Bp,"targetcampaigns",[]),Object(Un["a"])(Bp,"ifmorecampaigns",!0),Object(Un["a"])(Bp,"targetapplist",[]),Object(Un["a"])(Bp,"ifsame",!1),Object(Un["a"])(Bp,"targetplanlist",[]),Object(Un["a"])(Bp,"treegradelist",[]),Object(Un["a"])(Bp,"treegradefilter",""),Object(Un["a"])(Bp,"treegradeall",{}),Object(Un["a"])(Bp,"targetlog",[]),Object(Un["a"])(Bp,"filterarr",[]),Object(Un["a"])(Bp,"targetcampaignaccount",[]),Object(Un["a"])(Bp,"deleteusing",[]),Object(Un["a"])(Bp,"deletesharing",[]),Object(Un["a"])(Bp,"rg_ruleStatus",""),Object(Un["a"])(Bp,"rg_keyword",""),Object(Un["a"])(Bp,"rg_pageNo",1),Object(Un["a"])(Bp,"rg_pageSize",20),Object(Un["a"])(Bp,"newrulelist",[]),Object(Un["a"])(Bp,"newruletotal",0),Object(Un["a"])(Bp,"ruleoption",{fbAccountIds:"",pageIndex:1,pageSize:20,level:"",projectId:"",name:""}),Object(Un["a"])(Bp,"regularlist",[]),Object(Un["a"])(Bp,"regulartotal",0),Object(Un["a"])(Bp,"allrules",[]),Object(Un["a"])(Bp,"ruleform",[]),Object(Un["a"])(Bp,"messagelist",[]),Object(Un["a"])(Bp,"messagetotal",0),Object(Un["a"])(Bp,"msgpageindex",1),Object(Un["a"])(Bp,"msgpagesize",20),Object(Un["a"])(Bp,"messagecount",0),Bp),Wp=a("6ac1"),Gp=a("9d24"),zp={todayinstall:function(t){return t.todayInstallsNum?t.todayInstallsNum:0},todayexpend:function(t){return t.todaySpend?t.todaySpend:0},applist:function(t){var e=[];return t.reportAppDataList?(t.reportAppDataList.forEach(function(t){var a={};a.name=t.appName,a.id=t.fbAppId,e.push(a)}),e):[]},appdatalist:function(t){var e=[];return t.reportAppDataList?(t.reportAppDataList.forEach(function(t){var a={app:t.appName,cd:t.reachNum,zs:t.showNum,dj:t.clicksNum,ctr:t.ctr,cvr:t.cvr,cpm:t.cpm,cpc:t.cpc,xgd:t.relevanceScore,az:t.installsNum,hf:t.spend,cpi:t.cpi,fbAppId:t.fbAppId,afInstallsNum:t.afInstallsNum,gap:t.gap<0?(100*t.gap).toFixed(2):"+"+(100*t.gap).toFixed(2)};e.push(a)}),e=e.filter(function(e){return!t.appdataappid||e.fbAppId==t.appdataappid}),e):[]},onlyapplist:function(t){if(t.appdata)return t.appdata.forEach(function(t){t.insightDateFormat=Gp["a"].timeFormat(t.insightDate,"yyyy-MM-dd")}),t.appdata},countryfilter:function(t){if(t.countryfilter){var e=[];return t.countryfilter.forEach(function(t){var a={text:"".concat(t),value:"country_".concat(t)};e.push(a)}),e}},disaccount:function(t){if(""==t.accountkwd.trim()||0==t.disaccount.length)return t.disaccount;var e=t.disaccount.filter(function(e){return-1!=e.fbAccountId.indexOf(t.accountkwd.trim())||-1!=e.name.indexOf(t.accountkwd.trim())});return e},dispage:function(t){if(""==t.pagekwd.trim()||0==t.dispage.length)return t.dispage;var e=t.dispage.filter(function(e){return-1!=e.pageId.indexOf(t.pagekwd.trim())||-1!=e.name.indexOf(t.pagekwd.trim())});return e},disapp:function(t){if(""==t.appkwd.trim()||0==t.applist.length)return t.applist;var e=t.applist.filter(function(e){return-1!=e.applicationId.toLowerCase().indexOf(t.appkwd.trim().toLowerCase())||-1!=e.name.toLowerCase().indexOf(t.appkwd.trim())});return e},dismanage:function(t){return t.managelist},setapplist:function(t){return""===t.setappstatus?t.setapplist:t.setapplist.filter(function(e){return e.status==t.setappstatus})},cansetapplist:function(t){return""===t.setappstatus?t.cansetapplist:t.cansetapplist.filter(function(e){return e.status==t.setappstatus})},rulelist:function(t){var e=t.rulelist;return e.unshift({name:"不限",id:"-1"}),e},allcheckidstatus:function(t){var e=t.createchecked,a=[];return e.forEach(function(e,i){var s={};e&&(s.id=t.createlist[i].id,s.status=t.createlist[i].status,a.push(s))}),a},createclassify:function(t){var e=[];return t.classify.shift(),t.classify.forEach(function(t){var a={};a.value=t,e.push(a)}),e},allactions:function(t){return t.allactions},selectcreatelength:function(t){return t.inusecreate.length},canselectcreatelength:function(t){return t.inusecreate.filter(function(t){return 1!=t.status}).length},createlist:function(t){var e=[];return e=t.createlist.filter(function(e){return e.status==t.createstatus}),e=e.filter(function(e){return e.classify==t.createclassify}),e=e.filter(function(e){return-1!=e.creativityName.indexOf(t.createkeyword)}),e},selectcreate:function(t){var e=[];return e=t.selectcreate.filter(function(e){return e.classify==t.createclassify}),e=e.filter(function(e){return-1!=e.creativityName.indexOf(t.createkeyword)}),e},selectaccountlength:function(t){return t.inuseaccount.length},canselectaccountlength:function(t){return t.inuseaccount.filter(function(t){return 1!=t.status}).length},badselectaccountlength:function(t){return t.inuseaccount.filter(function(t){return 1!=t.accountStatus}).length},inuseaccount:function(t){var e=t.inuseaccount;return t.accountstatus&&(e=e.filter(function(e){return e.status==t.accountstatus})),e=e.filter(function(e){return-1!=e.fbAccountId.indexOf(t.accountkeyword)||-1!=e.name.indexOf(t.accountkeyword)}),e},nouseaccount:function(t){var e=t.nouseaccount.filter(function(e){return-1!=e.fbAccountId.indexOf(t.accountkeyword)||-1!=e.name.indexOf(t.accountkeyword)});return e},detailadsuccess:function(t){var e=0;return t.logdetail.forEach(function(t){e+=t.adDetail.createSuccess}),e},detailsetsuccess:function(t){var e=0;return t.logdetail.forEach(function(t){e+=t.adsetDetail.createSuccess}),e},detailcampaignsuccess:function(t){var e=0;return t.logdetail.forEach(function(t){e+=t.campaignDetail.createSuccess}),e},cpiCountry:function(t){if(0!=t.cpicountry.length){var e=[];return t.cpicountry.forEach(function(t){var a={text:t,value:"country_".concat(t)};e.push(a)}),e}},cpiImpression:function(t){if(0!=t.cpiimpression.length){var e=[];return t.cpiimpression.forEach(function(t){var a={text:t,value:t};e.push(a)}),e}},ruleappforCreate:function(t){if(0!=t.ruleapp.length)return t.ruleapp.slice(1)},createcheckstatus:function(t){return!(t.createchecked.filter(function(t){return!t}).length>0)},daycpilist:function(t){return t.daycpilist}},Hp=a("d5a0");g["default"].use(P["a"]);var qp=new P["a"].Store({state:Vp,getters:zp,mutations:Hp["a"],actions:Wp["a"]}),Jp=(a("0fae"),a("386d"),a("4917"),a("b311")),Yp=a.n(Jp),Xp={install:function(t,e){t.prototype.$exportHTML=function(t,e,a,i){var s={xls:"application/vnd.ms-excel",csv:"text/csv"},n=a||document.getElementById(t).outerHTML,o=e||"数据",r=i||"xls",c='<html><head><meta charset="UTF-8"></head><body>'.concat(n,"</body></html>"),l=new Blob([c],{type:s[r]}),u=document.createElement("a");u.href=URL.createObjectURL(l),u.download="".concat(o,".").concat(r),u.click()},t.prototype.$timeFormat=function(t,e){if(!t)return"";var a=new Date;a.setTime(t);var i=a.getFullYear(),s=e||"yyyy-MM-dd HH:mm:ss",n={M:a.getMonth()+1,d:a.getDate(),H:a.getHours(),m:a.getMinutes(),s:a.getSeconds()};for(var o in/(y+)/.test(s)&&(s=s.replace(RegExp.$1,i)),n)new RegExp("("+o+"+)").test(s)&&(s=s.replace(RegExp.$1,1===RegExp.$1.length?n[o]:("00"+n[o]).substring((""+n[o]).length)));return s},t.prototype.$equalArray=function(t){var e=t.map(function(t){return t.length});if(Object(Ml["a"])(new Dl.a(e)).length>1)return!1;var a=t.map(function(t){return Object(Ml["a"])(new Dl.a(t))}),i=a.map(function(t){return t.length});if(Object(Ml["a"])(new Dl.a(i)).length>1)return!1;var s=[];return a.forEach(function(t){s=s.concat(t)}),Object(Ml["a"])(new Dl.a(s)).length==Object(Ml["a"])(new Dl.a(i))[0]},t.prototype.$textCopy=function(t){var e=new Yp.a(t);e.on("success",function(t){t.clearSelection(),Object(H["f"])("已复制到粘贴板")}),e.on("error",function(t){console.log(t)})},t.prototype.$barrageTime=function(t){return new yd.a(function(e){setTimeout(function(){e("wait")},t)})},t.prototype.$fileDownload=function(t){function e(t,e){var a=document.createElement("a"),i=new Blob([e]),s=document.createEvent("HTMLEvents");s.initEvent("click",!1,!1),a.download=t,a.href=URL.createObjectURL(i),a.click()}return new yd.a(function(a,i){var s=t.indexOf("?"),n=t.substring(0,-1==s?t.length:s),o=n.lastIndexOf("/"),r=n.substring(o+1),c=new XMLHttpRequest;c.open("GET",t,!0),c.responseType="arraybuffer",c.onload=function(t){var i=c.response;i&&(e(r,i),setTimeout(function(){a("download")},2e3))},c.send()})},t.prototype.$getSearch=function(t){var e=url?url.match(/(?:\?)[^\#]*?(?=[\?|\#])/g)[0].substr(1):location.search.substr(1);if(!e)return"";var a=e.split("&"),i={};return a.forEach(function(t,e){var a=t.split("=");i[a[0]]=a[1]}),i[t]?i[t]:""}}},Zp=a("ec09"),Qp=a.n(Zp),tf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{class:t.iconClass,attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":t.iconName}})])},ef=[],af={props:{svgclass:{type:String,default:""},svgname:{type:String,required:!0}},computed:{iconName:function(){return"#icon-".concat(this.svgname)},iconClass:function(){return this.svgclass?"svg-icon ".concat(this.svgclass):"svg-icon"}}},sf=af,nf=(a("1c50"),Object(C["a"])(sf,tf,ef,!1,null,"f9f3ebbe",null)),of=nf.exports;g["default"].component("svg-icon",of);var rf=function(t){return t.keys().map(t)},cf=a("d1cf");rf(cf),g["default"].use(Oc.a),g["default"].use(Xp),g["default"].use(Qp.a),Kp.beforeEach(function(t,e,a){t.meta.title&&(document.title=t.meta.title),a()}),g["default"].filter("numberFormat",function(t){var e=t.toString().split(".")[0],a=t.toString().split(".")[1],i=e.split("").reverse(),s=3,n=0;while(s<e.length)i.splice(s+n,0,","),n++,s+=3;return i.reverse(),a?i.join("")+"."+a:i.join("")}),g["default"].filter("timeFormat",function(t,e){if(!t)return"";var a=new Date;a.setTime(t);var i=a.getFullYear(),s=e||"yyyy-MM-dd",n={M:a.getMonth()+1,d:a.getDate(),H:a.getHours(),m:a.getMinutes(),s:a.getSeconds()};for(var o in/(y+)/.test(s)&&(s=s.replace(RegExp.$1,i)),n)new RegExp("("+o+"+)").test(s)&&(s=s.replace(RegExp.$1,1===RegExp.$1.length?n[o]:("00"+n[o]).substring((""+n[o]).length)));return s}),g["default"].directive("clickOutside",{bind:function(t,e,a){function i(t){e.expression&&e.value(t)}t.__vueClickOutside__=i,document.addEventListener("click",i)},update:function(){},unbind:function(t,e){document.removeEventListener("click",t.__vueClickOutside__),delete t.__vueClickOutside__}}),g["default"].directive("loadMore",{bind:function(t,e){var a=t.querySelector(".el-scrollbar__wrap");a.addEventListener("scroll",function(){var t=30,a=this.scrollHeight-this.scrollTop-this.clientHeight;a<=t&&e.value()})}}),new g["default"]({el:"#app",router:Kp,store:qp,template:"<App/>",components:{App:w}})},e11e:function(t,e,a){},e2c2:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),n=a("21a1"),o=a.n(n),r=new s.a({id:"icon-save",use:"icon-save-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-save"><defs><style type="text/css"></style></defs><path d="M968.772267 508.791467 757.111467 297.0624 757.111467 455.611733 680.0384 455.611733 671.061333 455.611733 368.503467 455.611733 368.503467 562.005333 671.061333 562.005333 680.0384 562.005333 757.111467 562.005333 757.111467 720.452267Z" p-id="2187" /><path d="M578.389333 781.585067c0 13.175467-10.717867 23.927467-23.927467 23.927467L126.976 805.512533c-13.2096 0-23.927467-10.752-23.927467-23.927467L103.048533 242.414933c0-13.175467 10.717867-23.927467 23.927467-23.927467l427.485867 0c13.2096 0 23.927467 10.752 23.927467 23.927467l0 99.191467 47.8208 0L626.210133 242.414933C626.210133 202.8544 594.0224 170.666667 554.461867 170.666667L126.976 170.666667C87.415467 170.666667 55.227733 202.8544 55.227733 242.414933l0 539.170133C55.227733 821.1456 87.415467 853.333333 126.976 853.333333l427.485867 0c39.560533 0 71.748267-32.187733 71.748267-71.748267l0-99.191467-47.8208 0L578.389333 781.585067z" p-id="2188" /></symbol>'});o.a.add(r);e["default"]=r},e405:function(t,e,a){"use strict";var i=a("b4e7"),s=a.n(i);s.a},e5b3:function(t,e,a){"use strict";var i=a("d866"),s=a.n(i);s.a},e69e:function(t,e,a){},e78e:function(t,e,a){"use strict";var i=a("9db4"),s=a.n(i);s.a},e808:function(t,e,a){"use strict";var i=a("22a8"),s=a.n(i);s.a},e811:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),n=a("21a1"),o=a.n(n),r=new s.a({id:"icon-wrong",use:"icon-wrong-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-wrong"><defs><style type="text/css"></style></defs><path d="M510.567403 957.179574C263.853702 957.179574 63.904067 757.229939 63.904067 510.516239S263.853702 63.852903 510.567403 63.852903c246.7137 0 446.663336 199.949635 446.663336 446.663336S757.281103 957.179574 510.567403 957.179574L510.567403 957.179574zM715.4288 380.252223c8.390926-8.390926 8.390926-22.0006 0-30.391526l-45.638453-45.638453c-8.390926-8.390926-22.0006-8.390926-30.391526 0L510.158089 433.462976 380.917358 304.222244c-8.390926-8.390926-22.0006-8.390926-30.391526 0l-45.638453 45.638453c-8.390926 8.390926-8.390926 22.0006 0 30.391526l129.240731 129.240731L304.887379 638.733686c-8.390926 8.390926-8.390926 22.0006 0 30.391526l45.638453 45.638453c8.390926 8.390926 22.0006 8.390926 30.391526 0l129.240731-129.240731 129.240731 129.240731c8.390926 8.390926 22.0006 8.390926 30.391526 0l45.638453-45.638453c8.390926-8.390926 8.390926-22.0006 0-30.391526L586.188068 509.492955 715.4288 380.252223 715.4288 380.252223z" p-id="14569" /></symbol>'});o.a.add(r);e["default"]=r},e81c:function(t,e,a){"use strict";var i=a("9646"),s=a.n(i);s.a},e8c2:function(t,e,a){"use strict";var i=a("124c"),s=a.n(i);s.a},e9e7:function(t,e,a){},ea8f:function(t,e,a){"use strict";a.r(e);var i=a("e017"),s=a.n(i),n=a("21a1"),o=a.n(n),r=new s.a({id:"icon-user",use:"icon-user-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-user"><defs><style type="text/css"></style></defs><path d="M513.457231 41.353846c-133.377969 2.837662-244.999877 49.189415-332.973292 137.160862C92.512492 266.488123 46.160738 378.110031 43.323077 511.488c2.837662 133.377969 49.189415 244.054646 137.160862 332.026092C268.457354 931.487508 380.079262 977.839262 513.457231 980.676923c133.377969-2.837662 244.054646-49.189415 332.026092-137.160862S979.808492 644.867938 982.646154 511.488c-2.837662-133.377969-49.189415-244.054646-137.160862-332.026092C757.511877 90.543262 646.837169 44.191508 513.457231 41.353846L513.457231 41.353846zM811.431385 799.056738c-23.650462-11.352615-49.189415-23.648492-74.730338-26.486154-67.160615-5.675323-108.782277-16.080738-124.863015-32.161477-15.137477-16.082708-21.758031-38.784-18.9184-68.109785 0.945231-17.9712 5.675323-28.376615 16.080738-33.108677 10.405415-4.728123 21.756062-31.216246 33.108677-78.513231 3.784862-14.188308 7.567754-25.540923 12.297846-34.053908 4.728123-8.512985 12.295877-26.486154 21.756062-55.809969 4.730092-20.810831 4.730092-33.108677-0.945231-35.944369-5.675323-2.837662-9.460185-3.784862-10.403446-2.837662L669.538462 411.218708c2.837662-13.243077 4.728123-29.323815 6.620554-47.296985 5.677292-47.296985-3.782892-87.973415-28.378585-122.027323-24.593723-34.999138-69.998277-52.972308-137.160862-54.864738-59.594831 0.945231-90.811077 24.595692-125.810215 53.919508-38.784 30.271015-52.027077 70.945477-41.621662 122.972554 7.567754 38.784 18.9184 70.945477 11.350646 68.107815-0.945231-0.945231-4.728123 0-9.458215 2.837662-4.730092 2.837662-5.675323 15.135508-1.892431 35.944369 10.405415 25.540923 17.973169 43.514092 23.648492 52.974277 5.675323 9.458215 9.458215 21.756062 12.297846 36.8896 9.460185 46.351754 18.9184 71.892677 29.323815 76.6208 10.405415 4.730092 17.025969 17.027938 20.810831 34.999138 4.730092 29.325785-0.945231 52.027077-17.973169 68.109785-17.025969 16.080738-57.7024 26.486154-122.027323 32.161477-23.648492 2.837662-52.027077 14.188308-74.728369 25.540923-72.837908-75.675569-115.4048-175.946831-116.352-286.621538 2.837662-117.297231 43.514092-214.728862 122.027323-293.244062s175.946831-119.187692 293.244062-122.027323c117.295262 2.837662 214.728862 43.514092 292.296862 122.027323 78.513231 78.513231 119.189662 175.946831 122.027323 293.244062C926.834215 624.055138 884.267323 724.324431 811.431385 799.056738z" p-id="1053" /></symbol>'});o.a.add(r);e["default"]=r},eb4f:function(t,e,a){},ee25:function(t,e,a){"use strict";var i=a("0c50"),s=a.n(i);s.a},efec:function(t,e,a){"use strict";var i=a("6f70"),s=a.n(i);s.a},f034:function(t,e,a){},f053:function(t,e,a){},f0a1:function(t,e,a){},f178:function(t,e,a){},f3f5:function(t,e,a){"use strict";var i=a("daba"),s=a.n(i);s.a},f5fa:function(t,e,a){},f75c:function(t,e,a){},f829:function(t,e,a){"use strict";var i=a("97c3"),s=a.n(i);s.a},f8b5:function(t,e,a){},f8fd:function(t,e,a){"use strict";var i=a("d1c0"),s=a.n(i);s.a},fae8:function(t,e,a){"use strict";var i=a("e11e"),s=a.n(i);s.a},faf5:function(t,e,a){},fc58:function(t,e,a){"use strict";var i=a("a28d"),s=a.n(i);s.a},fdaa:function(t,e,a){"use strict";var i=a("6f20"),s=a.n(i);s.a},fe4d:function(t,e,a){"use strict";var i=a("b6f0"),s=a.n(i);s.a},febe:function(t,e,a){}});